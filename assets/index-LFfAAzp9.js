var ww=Object.defineProperty;var _w=(t,e,n)=>e in t?ww(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>_w(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var F0={exports:{}},Pc={},$0={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=Symbol.for("react.element"),Sw=Symbol.for("react.portal"),Nw=Symbol.for("react.fragment"),Cw=Symbol.for("react.strict_mode"),Ew=Symbol.for("react.profiler"),Tw=Symbol.for("react.provider"),Pw=Symbol.for("react.context"),Mw=Symbol.for("react.forward_ref"),Dw=Symbol.for("react.suspense"),Ow=Symbol.for("react.memo"),Aw=Symbol.for("react.lazy"),Sm=Symbol.iterator;function Rw(t){return t===null||typeof t!="object"?null:(t=Sm&&t[Sm]||t["@@iterator"],typeof t=="function"?t:null)}var z0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B0=Object.assign,U0={};function bi(t,e,n){this.props=t,this.context=e,this.refs=U0,this.updater=n||z0}bi.prototype.isReactComponent={};bi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W0(){}W0.prototype=bi.prototype;function Ih(t,e,n){this.props=t,this.context=e,this.refs=U0,this.updater=n||z0}var Lh=Ih.prototype=new W0;Lh.constructor=Ih;B0(Lh,bi.prototype);Lh.isPureReactComponent=!0;var Nm=Array.isArray,H0=Object.prototype.hasOwnProperty,Fh={current:null},V0={key:!0,ref:!0,__self:!0,__source:!0};function q0(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)H0.call(e,r)&&!V0.hasOwnProperty(r)&&(s[r]=e[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:lo,type:t,key:i,ref:a,props:s,_owner:Fh.current}}function Iw(t,e){return{$$typeof:lo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $h(t){return typeof t=="object"&&t!==null&&t.$$typeof===lo}function Lw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cm=/\/+/g;function uu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lw(""+t.key):e.toString(36)}function pl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case lo:case Sw:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+uu(a,0):r,Nm(s)?(n="",t!=null&&(n=t.replace(Cm,"$&/")+"/"),pl(s,e,n,"",function(c){return c})):s!=null&&($h(s)&&(s=Iw(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Cm,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Nm(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+uu(i,o);a+=pl(i,e,n,l,s)}else if(l=Rw(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+uu(i,o++),a+=pl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function No(t,e,n){if(t==null)return t;var r=[],s=0;return pl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Fw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},gl={transition:null},$w={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:gl,ReactCurrentOwner:Fh};function Y0(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:No,forEach:function(t,e,n){No(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return No(t,function(){e++}),e},toArray:function(t){return No(t,function(e){return e})||[]},only:function(t){if(!$h(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=bi;oe.Fragment=Nw;oe.Profiler=Ew;oe.PureComponent=Ih;oe.StrictMode=Cw;oe.Suspense=Dw;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$w;oe.act=Y0;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B0({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Fh.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)H0.call(e,l)&&!V0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:lo,type:t.type,key:s,ref:i,props:r,_owner:a}};oe.createContext=function(t){return t={$$typeof:Pw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tw,_context:t},t.Consumer=t};oe.createElement=q0;oe.createFactory=function(t){var e=q0.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:Mw,render:t}};oe.isValidElement=$h;oe.lazy=function(t){return{$$typeof:Aw,_payload:{_status:-1,_result:t},_init:Fw}};oe.memo=function(t,e){return{$$typeof:Ow,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=gl.transition;gl.transition={};try{t()}finally{gl.transition=e}};oe.unstable_act=Y0;oe.useCallback=function(t,e){return vt.current.useCallback(t,e)};oe.useContext=function(t){return vt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return vt.current.useEffect(t,e)};oe.useId=function(){return vt.current.useId()};oe.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return vt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};oe.useRef=function(t){return vt.current.useRef(t)};oe.useState=function(t){return vt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return vt.current.useTransition()};oe.version="18.3.1";$0.exports=oe;var j=$0.exports;const zh=kw(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw=j,Bw=Symbol.for("react.element"),Uw=Symbol.for("react.fragment"),Ww=Object.prototype.hasOwnProperty,Hw=zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vw={key:!0,ref:!0,__self:!0,__source:!0};function G0(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Ww.call(e,r)&&!Vw.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Bw,type:t,key:i,ref:a,props:s,_owner:Hw.current}}Pc.Fragment=Uw;Pc.jsx=G0;Pc.jsxs=G0;F0.exports=Pc;var u=F0.exports,X0={exports:{}},$t={},K0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,N){var F=L.length;L.push(N);e:for(;0<F;){var H=F-1>>>1,J=L[H];if(0<s(J,N))L[H]=N,L[F]=J,F=H;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var N=L[0],F=L.pop();if(F!==N){L[0]=F;e:for(var H=0,J=L.length,Ce=J>>>1;H<Ce;){var fe=2*(H+1)-1,at=L[fe],He=fe+1,Ns=L[He];if(0>s(at,F))He<J&&0>s(Ns,at)?(L[H]=Ns,L[He]=F,H=He):(L[H]=at,L[fe]=F,H=fe);else if(He<J&&0>s(Ns,F))L[H]=Ns,L[He]=F,H=He;else break e}}return N}function s(L,N){var F=L.sortIndex-N.sortIndex;return F!==0?F:L.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,m=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var N=n(c);N!==null;){if(N.callback===null)r(c);else if(N.startTime<=L)r(c),N.sortIndex=N.expirationTime,e(l,N);else break;N=n(c)}}function w(L){if(v=!1,g(L),!x)if(n(l)!==null)x=!0,A(_);else{var N=n(c);N!==null&&V(w,N.startTime-L)}}function _(L,N){x=!1,v&&(v=!1,y(T),T=-1),m=!0;var F=f;try{for(g(N),h=n(l);h!==null&&(!(h.expirationTime>N)||L&&!U());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var J=H(h.expirationTime<=N);N=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(l)&&r(l),g(N)}else r(l);h=n(l)}if(h!==null)var Ce=!0;else{var fe=n(c);fe!==null&&V(w,fe.startTime-N),Ce=!1}return Ce}finally{h=null,f=F,m=!1}}var k=!1,C=null,T=-1,O=5,I=-1;function U(){return!(t.unstable_now()-I<O)}function M(){if(C!==null){var L=t.unstable_now();I=L;var N=!0;try{N=C(!0,L)}finally{N?$():(k=!1,C=null)}}else k=!1}var $;if(typeof p=="function")$=function(){p(M)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,z=S.port2;S.port1.onmessage=M,$=function(){z.postMessage(null)}}else $=function(){b(M,0)};function A(L){C=L,k||(k=!0,$())}function V(L,N){T=b(function(){L(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,A(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var F=f;f=N;try{return L()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,N){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=f;f=L;try{return N()}finally{f=F}},t.unstable_scheduleCallback=function(L,N,F){var H=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,L={id:d++,callback:N,priorityLevel:L,startTime:F,expirationTime:J,sortIndex:-1},F>H?(L.sortIndex=F,e(c,L),n(l)===null&&L===n(c)&&(v?(y(T),T=-1):v=!0,V(w,F-H))):(L.sortIndex=J,e(l,L),x||m||(x=!0,A(_))),L},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(L){var N=f;return function(){var F=f;f=N;try{return L.apply(this,arguments)}finally{f=F}}}})(Q0);K0.exports=Q0;var qw=K0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw=j,Ft=qw;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J0=new Set,Da={};function bs(t,e){li(t,e),li(t+"Capture",e)}function li(t,e){for(Da[t]=e,t=0;t<e.length;t++)J0.add(e[t])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pd=Object.prototype.hasOwnProperty,Gw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Em={},Tm={};function Xw(t){return pd.call(Tm,t)?!0:pd.call(Em,t)?!1:Gw.test(t)?Tm[t]=!0:(Em[t]=!0,!1)}function Kw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qw(t,e,n,r){if(e===null||typeof e>"u"||Kw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bh=/[\-:]([a-z])/g;function Uh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bh,Uh);st[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bh,Uh);st[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bh,Uh);st[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wh(t,e,n,r){var s=st.hasOwnProperty(e)?st[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qw(e,n,s,r)&&(n=null),r||s===null?Xw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tr=Yw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),$s=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),gd=Symbol.for("react.profiler"),Z0=Symbol.for("react.provider"),ey=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),xd=Symbol.for("react.suspense_list"),qh=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),Pm=Symbol.iterator;function Mi(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,du;function Xi(t){if(du===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);du=e&&e[1]||""}return`
`+du+t}var hu=!1;function fu(t,e){if(!t||hu)return"";hu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{hu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xi(t):""}function Jw(t){switch(t.tag){case 5:return Xi(t.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return t=fu(t.type,!1),t;case 11:return t=fu(t.type.render,!1),t;case 1:return t=fu(t.type,!0),t;default:return""}}function vd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zs:return"Fragment";case $s:return"Portal";case gd:return"Profiler";case Hh:return"StrictMode";case yd:return"Suspense";case xd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ey:return(t.displayName||"Context")+".Consumer";case Z0:return(t._context.displayName||"Context")+".Provider";case Vh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qh:return e=t.displayName||null,e!==null?e:vd(t.type)||"Memo";case cr:e=t._payload,t=t._init;try{return vd(t(e))}catch{}}return null}function Zw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vd(e);case 8:return e===Hh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ny(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e_(t){var e=ny(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Eo(t){t._valueTracker||(t._valueTracker=e_(t))}function ry(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ny(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bd(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sy(t,e){e=e.checked,e!=null&&Wh(t,"checked",e,!1)}function wd(t,e){sy(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_d(t,e.type,n):e.hasOwnProperty("defaultValue")&&_d(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _d(t,e,n){(e!=="number"||zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ki=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Om(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ki(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function iy(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Am(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ay(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ay(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var To,oy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=To.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t_=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(t){t_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ca[e]=ca[t]})});function ly(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ca.hasOwnProperty(t)&&ca[t]?(""+e).trim():e+"px"}function cy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ly(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var n_=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sd(t,e){if(e){if(n_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Nd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=null;function Yh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ed=null,Zs=null,ei=null;function Rm(t){if(t=ho(t)){if(typeof Ed!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Rc(e),Ed(t.stateNode,t.type,e))}}function uy(t){Zs?ei?ei.push(t):ei=[t]:Zs=t}function dy(){if(Zs){var t=Zs,e=ei;if(ei=Zs=null,Rm(t),e)for(t=0;t<e.length;t++)Rm(e[t])}}function hy(t,e){return t(e)}function fy(){}var mu=!1;function my(t,e,n){if(mu)return t(e,n);mu=!0;try{return hy(t,e,n)}finally{mu=!1,(Zs!==null||ei!==null)&&(fy(),dy())}}function Aa(t,e){var n=t.stateNode;if(n===null)return null;var r=Rc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Td=!1;if(Xn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Td=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Td=!1}function r_(t,e,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ua=!1,Bl=null,Ul=!1,Pd=null,s_={onError:function(t){ua=!0,Bl=t}};function i_(t,e,n,r,s,i,a,o,l){ua=!1,Bl=null,r_.apply(s_,arguments)}function a_(t,e,n,r,s,i,a,o,l){if(i_.apply(this,arguments),ua){if(ua){var c=Bl;ua=!1,Bl=null}else throw Error(B(198));Ul||(Ul=!0,Pd=c)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function py(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Im(t){if(ws(t)!==t)throw Error(B(188))}function o_(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Im(s),t;if(i===r)return Im(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function gy(t){return t=o_(t),t!==null?yy(t):null}function yy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yy(t);if(e!==null)return e;t=t.sibling}return null}var xy=Ft.unstable_scheduleCallback,Lm=Ft.unstable_cancelCallback,l_=Ft.unstable_shouldYield,c_=Ft.unstable_requestPaint,ze=Ft.unstable_now,u_=Ft.unstable_getCurrentPriorityLevel,Gh=Ft.unstable_ImmediatePriority,vy=Ft.unstable_UserBlockingPriority,Wl=Ft.unstable_NormalPriority,d_=Ft.unstable_LowPriority,by=Ft.unstable_IdlePriority,Mc=null,Nn=null;function h_(t){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(Mc,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:p_,f_=Math.log,m_=Math.LN2;function p_(t){return t>>>=0,t===0?32:31-(f_(t)/m_|0)|0}var Po=64,Mo=4194304;function Qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=Qi(o):(i&=a,i!==0&&(r=Qi(i)))}else a=n&~s,a!==0?r=Qi(a):i!==0&&(r=Qi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),s=1<<n,r|=t[n],e&=~s;return r}function g_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-dn(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=g_(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Md(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wy(){var t=Po;return Po<<=1,!(Po&4194240)&&(Po=64),t}function pu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function co(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function x_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function _y(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ky,Kh,jy,Sy,Ny,Dd=!1,Do=[],kr=null,jr=null,Sr=null,Ra=new Map,Ia=new Map,fr=[],v_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fm(t,e){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(e.pointerId)}}function Oi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ho(e),e!==null&&Kh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function b_(t,e,n,r,s){switch(e){case"focusin":return kr=Oi(kr,t,e,n,r,s),!0;case"dragenter":return jr=Oi(jr,t,e,n,r,s),!0;case"mouseover":return Sr=Oi(Sr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ra.set(i,Oi(Ra.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ia.set(i,Oi(Ia.get(i)||null,t,e,n,r,s)),!0}return!1}function Cy(t){var e=ss(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=py(n),e!==null){t.blockedOn=e,Ny(t.priority,function(){jy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Od(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cd=r,n.target.dispatchEvent(r),Cd=null}else return e=ho(n),e!==null&&Kh(e),t.blockedOn=n,!1;e.shift()}return!0}function $m(t,e,n){yl(t)&&n.delete(e)}function w_(){Dd=!1,kr!==null&&yl(kr)&&(kr=null),jr!==null&&yl(jr)&&(jr=null),Sr!==null&&yl(Sr)&&(Sr=null),Ra.forEach($m),Ia.forEach($m)}function Ai(t,e){t.blockedOn===e&&(t.blockedOn=null,Dd||(Dd=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,w_)))}function La(t){function e(s){return Ai(s,t)}if(0<Do.length){Ai(Do[0],t);for(var n=1;n<Do.length;n++){var r=Do[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kr!==null&&Ai(kr,t),jr!==null&&Ai(jr,t),Sr!==null&&Ai(Sr,t),Ra.forEach(e),Ia.forEach(e),n=0;n<fr.length;n++)r=fr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fr.length&&(n=fr[0],n.blockedOn===null);)Cy(n),n.blockedOn===null&&fr.shift()}var ti=tr.ReactCurrentBatchConfig,Vl=!0;function __(t,e,n,r){var s=xe,i=ti.transition;ti.transition=null;try{xe=1,Qh(t,e,n,r)}finally{xe=s,ti.transition=i}}function k_(t,e,n,r){var s=xe,i=ti.transition;ti.transition=null;try{xe=4,Qh(t,e,n,r)}finally{xe=s,ti.transition=i}}function Qh(t,e,n,r){if(Vl){var s=Od(t,e,n,r);if(s===null)Su(t,e,r,ql,n),Fm(t,r);else if(b_(s,t,e,n,r))r.stopPropagation();else if(Fm(t,r),e&4&&-1<v_.indexOf(t)){for(;s!==null;){var i=ho(s);if(i!==null&&ky(i),i=Od(t,e,n,r),i===null&&Su(t,e,r,ql,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Su(t,e,r,null,n)}}var ql=null;function Od(t,e,n,r){if(ql=null,t=Yh(r),t=ss(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=py(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ql=t,null}function Ey(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u_()){case Gh:return 1;case vy:return 4;case Wl:case d_:return 16;case by:return 536870912;default:return 16}default:return 16}}var yr=null,Jh=null,xl=null;function Ty(){if(xl)return xl;var t,e=Jh,n=e.length,r,s="value"in yr?yr.value:yr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return xl=s.slice(t,1<r?1-r:void 0)}function vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oo(){return!0}function zm(){return!1}function zt(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Oo:zm,this.isPropagationStopped=zm,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oo)},persist:function(){},isPersistent:Oo}),e}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zh=zt(wi),uo=Re({},wi,{view:0,detail:0}),j_=zt(uo),gu,yu,Ri,Dc=Re({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(gu=t.screenX-Ri.screenX,yu=t.screenY-Ri.screenY):yu=gu=0,Ri=t),gu)},movementY:function(t){return"movementY"in t?t.movementY:yu}}),Bm=zt(Dc),S_=Re({},Dc,{dataTransfer:0}),N_=zt(S_),C_=Re({},uo,{relatedTarget:0}),xu=zt(C_),E_=Re({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),T_=zt(E_),P_=Re({},wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M_=zt(P_),D_=Re({},wi,{data:0}),Um=zt(D_),O_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R_[t])?!!e[t]:!1}function ef(){return I_}var L_=Re({},uo,{key:function(t){if(t.key){var e=O_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(t){return t.type==="keypress"?vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F_=zt(L_),$_=Re({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wm=zt($_),z_=Re({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),B_=zt(z_),U_=Re({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),W_=zt(U_),H_=Re({},Dc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V_=zt(H_),q_=[9,13,27,32],tf=Xn&&"CompositionEvent"in window,da=null;Xn&&"documentMode"in document&&(da=document.documentMode);var Y_=Xn&&"TextEvent"in window&&!da,Py=Xn&&(!tf||da&&8<da&&11>=da),Hm=" ",Vm=!1;function My(t,e){switch(t){case"keyup":return q_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function G_(t,e){switch(t){case"compositionend":return Dy(e);case"keypress":return e.which!==32?null:(Vm=!0,Hm);case"textInput":return t=e.data,t===Hm&&Vm?null:t;default:return null}}function X_(t,e){if(Bs)return t==="compositionend"||!tf&&My(t,e)?(t=Ty(),xl=Jh=yr=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Py&&e.locale!=="ko"?null:e.data;default:return null}}var K_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!K_[t.type]:e==="textarea"}function Oy(t,e,n,r){uy(r),e=Yl(e,"onChange"),0<e.length&&(n=new Zh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ha=null,Fa=null;function Q_(t){Hy(t,0)}function Oc(t){var e=Hs(t);if(ry(e))return t}function J_(t,e){if(t==="change")return e}var Ay=!1;if(Xn){var vu;if(Xn){var bu="oninput"in document;if(!bu){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),bu=typeof Ym.oninput=="function"}vu=bu}else vu=!1;Ay=vu&&(!document.documentMode||9<document.documentMode)}function Gm(){ha&&(ha.detachEvent("onpropertychange",Ry),Fa=ha=null)}function Ry(t){if(t.propertyName==="value"&&Oc(Fa)){var e=[];Oy(e,Fa,t,Yh(t)),my(Q_,e)}}function Z_(t,e,n){t==="focusin"?(Gm(),ha=e,Fa=n,ha.attachEvent("onpropertychange",Ry)):t==="focusout"&&Gm()}function ek(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oc(Fa)}function tk(t,e){if(t==="click")return Oc(e)}function nk(t,e){if(t==="input"||t==="change")return Oc(e)}function rk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:rk;function $a(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pd.call(e,s)||!fn(t[s],e[s]))return!1}return!0}function Xm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Km(t,e){var n=Xm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xm(n)}}function Iy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ly(){for(var t=window,e=zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zl(t.document)}return e}function nf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sk(t){var e=Ly(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Iy(n.ownerDocument.documentElement,n)){if(r!==null&&nf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Km(n,i);var a=Km(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ik=Xn&&"documentMode"in document&&11>=document.documentMode,Us=null,Ad=null,fa=null,Rd=!1;function Qm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rd||Us==null||Us!==zl(r)||(r=Us,"selectionStart"in r&&nf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fa&&$a(fa,r)||(fa=r,r=Yl(Ad,"onSelect"),0<r.length&&(e=new Zh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Us)))}function Ao(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionend:Ao("Transition","TransitionEnd")},wu={},Fy={};Xn&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function Ac(t){if(wu[t])return wu[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fy)return wu[t]=e[n];return t}var $y=Ac("animationend"),zy=Ac("animationiteration"),By=Ac("animationstart"),Uy=Ac("transitionend"),Wy=new Map,Jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,e){Wy.set(t,e),bs(e,[t])}for(var _u=0;_u<Jm.length;_u++){var ku=Jm[_u],ak=ku.toLowerCase(),ok=ku[0].toUpperCase()+ku.slice(1);Lr(ak,"on"+ok)}Lr($y,"onAnimationEnd");Lr(zy,"onAnimationIteration");Lr(By,"onAnimationStart");Lr("dblclick","onDoubleClick");Lr("focusin","onFocus");Lr("focusout","onBlur");Lr(Uy,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ji));function Zm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a_(r,e,void 0,t),t.currentTarget=null}function Hy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Zm(s,o,c),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Zm(s,o,c),i=l}}}if(Ul)throw t=Pd,Ul=!1,Pd=null,t}function ke(t,e){var n=e[zd];n===void 0&&(n=e[zd]=new Set);var r=t+"__bubble";n.has(r)||(Vy(e,t,2,!1),n.add(r))}function ju(t,e,n){var r=0;e&&(r|=4),Vy(n,t,r,e)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function za(t){if(!t[Ro]){t[Ro]=!0,J0.forEach(function(n){n!=="selectionchange"&&(lk.has(n)||ju(n,!1,t),ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ro]||(e[Ro]=!0,ju("selectionchange",!1,e))}}function Vy(t,e,n,r){switch(Ey(e)){case 1:var s=__;break;case 4:s=k_;break;default:s=Qh}n=s.bind(null,e,n,t),s=void 0,!Td||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Su(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ss(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}my(function(){var c=i,d=Yh(n),h=[];e:{var f=Wy.get(t);if(f!==void 0){var m=Zh,x=t;switch(t){case"keypress":if(vl(n)===0)break e;case"keydown":case"keyup":m=F_;break;case"focusin":x="focus",m=xu;break;case"focusout":x="blur",m=xu;break;case"beforeblur":case"afterblur":m=xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=N_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=B_;break;case $y:case zy:case By:m=T_;break;case Uy:m=W_;break;case"scroll":m=j_;break;case"wheel":m=V_;break;case"copy":case"cut":case"paste":m=M_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wm}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var p=c,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=Aa(p,y),w!=null&&v.push(Ba(p,w,g)))),b)break;p=p.return}0<v.length&&(f=new m(f,x,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Cd&&(x=n.relatedTarget||n.fromElement)&&(ss(x)||x[Kn]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?ss(x):null,x!==null&&(b=ws(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(v=Bm,w="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Wm,w="onPointerLeave",y="onPointerEnter",p="pointer"),b=m==null?f:Hs(m),g=x==null?f:Hs(x),f=new v(w,p+"leave",m,n,d),f.target=b,f.relatedTarget=g,w=null,ss(d)===c&&(v=new v(y,p+"enter",x,n,d),v.target=g,v.relatedTarget=b,w=v),b=w,m&&x)t:{for(v=m,y=x,p=0,g=v;g;g=Cs(g))p++;for(g=0,w=y;w;w=Cs(w))g++;for(;0<p-g;)v=Cs(v),p--;for(;0<g-p;)y=Cs(y),g--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=Cs(v),y=Cs(y)}v=null}else v=null;m!==null&&ep(h,f,m,v,!1),x!==null&&b!==null&&ep(h,b,x,v,!0)}}e:{if(f=c?Hs(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var _=J_;else if(qm(f))if(Ay)_=nk;else{_=ek;var k=Z_}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=tk);if(_&&(_=_(t,c))){Oy(h,_,n,d);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&_d(f,"number",f.value)}switch(k=c?Hs(c):window,t){case"focusin":(qm(k)||k.contentEditable==="true")&&(Us=k,Ad=c,fa=null);break;case"focusout":fa=Ad=Us=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Qm(h,n,d);break;case"selectionchange":if(ik)break;case"keydown":case"keyup":Qm(h,n,d)}var C;if(tf)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Bs?My(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Py&&n.locale!=="ko"&&(Bs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Bs&&(C=Ty()):(yr=d,Jh="value"in yr?yr.value:yr.textContent,Bs=!0)),k=Yl(c,T),0<k.length&&(T=new Um(T,t,null,n,d),h.push({event:T,listeners:k}),C?T.data=C:(C=Dy(n),C!==null&&(T.data=C)))),(C=Y_?G_(t,n):X_(t,n))&&(c=Yl(c,"onBeforeInput"),0<c.length&&(d=new Um("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}Hy(h,e)})}function Ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Aa(t,n),i!=null&&r.unshift(Ba(t,i,s)),i=Aa(t,e),i!=null&&r.push(Ba(t,i,s))),t=t.return}return r}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ep(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,s?(l=Aa(n,i),l!=null&&a.unshift(Ba(n,l,o))):s||(l=Aa(n,i),l!=null&&a.push(Ba(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var ck=/\r\n?/g,uk=/\u0000|\uFFFD/g;function tp(t){return(typeof t=="string"?t:""+t).replace(ck,`
`).replace(uk,"")}function Io(t,e,n){if(e=tp(e),tp(t)!==e&&n)throw Error(B(425))}function Gl(){}var Id=null,Ld=null;function Fd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,dk=typeof clearTimeout=="function"?clearTimeout:void 0,np=typeof Promise=="function"?Promise:void 0,hk=typeof queueMicrotask=="function"?queueMicrotask:typeof np<"u"?function(t){return np.resolve(null).then(t).catch(fk)}:$d;function fk(t){setTimeout(function(){throw t})}function Nu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),La(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);La(e)}function Nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _i=Math.random().toString(36).slice(2),kn="__reactFiber$"+_i,Ua="__reactProps$"+_i,Kn="__reactContainer$"+_i,zd="__reactEvents$"+_i,mk="__reactListeners$"+_i,pk="__reactHandles$"+_i;function ss(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kn]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rp(t);t!==null;){if(n=t[kn])return n;t=rp(t)}return e}t=n,n=t.parentNode}return null}function ho(t){return t=t[kn]||t[Kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Rc(t){return t[Ua]||null}var Bd=[],Vs=-1;function Fr(t){return{current:t}}function Ne(t){0>Vs||(t.current=Bd[Vs],Bd[Vs]=null,Vs--)}function _e(t,e){Vs++,Bd[Vs]=t.current,t.current=e}var Ar={},pt=Fr(Ar),Tt=Fr(!1),fs=Ar;function ci(t,e){var n=t.type.contextTypes;if(!n)return Ar;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function Xl(){Ne(Tt),Ne(pt)}function sp(t,e,n){if(pt.current!==Ar)throw Error(B(168));_e(pt,e),_e(Tt,n)}function qy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,Zw(t)||"Unknown",s));return Re({},n,r)}function Kl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ar,fs=pt.current,_e(pt,t),_e(Tt,Tt.current),!0}function ip(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=qy(t,e,fs),r.__reactInternalMemoizedMergedChildContext=t,Ne(Tt),Ne(pt),_e(pt,t)):Ne(Tt),_e(Tt,n)}var zn=null,Ic=!1,Cu=!1;function Yy(t){zn===null?zn=[t]:zn.push(t)}function gk(t){Ic=!0,Yy(t)}function $r(){if(!Cu&&zn!==null){Cu=!0;var t=0,e=xe;try{var n=zn;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zn=null,Ic=!1}catch(s){throw zn!==null&&(zn=zn.slice(t+1)),xy(Gh,$r),s}finally{xe=e,Cu=!1}}return null}var qs=[],Ys=0,Ql=null,Jl=0,Ht=[],Vt=0,ms=null,Un=1,Wn="";function Kr(t,e){qs[Ys++]=Jl,qs[Ys++]=Ql,Ql=t,Jl=e}function Gy(t,e,n){Ht[Vt++]=Un,Ht[Vt++]=Wn,Ht[Vt++]=ms,ms=t;var r=Un;t=Wn;var s=32-dn(r)-1;r&=~(1<<s),n+=1;var i=32-dn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Un=1<<32-dn(e)+s|n<<s|r,Wn=i+t}else Un=1<<i|n<<s|r,Wn=t}function rf(t){t.return!==null&&(Kr(t,1),Gy(t,1,0))}function sf(t){for(;t===Ql;)Ql=qs[--Ys],qs[Ys]=null,Jl=qs[--Ys],qs[Ys]=null;for(;t===ms;)ms=Ht[--Vt],Ht[Vt]=null,Wn=Ht[--Vt],Ht[Vt]=null,Un=Ht[--Vt],Ht[Vt]=null}var Lt=null,It=null,Te=!1,un=null;function Xy(t,e){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ap(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lt=t,It=Nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lt=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ms!==null?{id:Un,overflow:Wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Lt=t,It=null,!0):!1;default:return!1}}function Ud(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wd(t){if(Te){var e=It;if(e){var n=e;if(!ap(t,e)){if(Ud(t))throw Error(B(418));e=Nr(n.nextSibling);var r=Lt;e&&ap(t,e)?Xy(r,n):(t.flags=t.flags&-4097|2,Te=!1,Lt=t)}}else{if(Ud(t))throw Error(B(418));t.flags=t.flags&-4097|2,Te=!1,Lt=t}}}function op(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lt=t}function Lo(t){if(t!==Lt)return!1;if(!Te)return op(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fd(t.type,t.memoizedProps)),e&&(e=It)){if(Ud(t))throw Ky(),Error(B(418));for(;e;)Xy(t,e),e=Nr(e.nextSibling)}if(op(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=Nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=Lt?Nr(t.stateNode.nextSibling):null;return!0}function Ky(){for(var t=It;t;)t=Nr(t.nextSibling)}function ui(){It=Lt=null,Te=!1}function af(t){un===null?un=[t]:un.push(t)}var yk=tr.ReactCurrentBatchConfig;function Ii(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Fo(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lp(t){var e=t._init;return e(t._payload)}function Qy(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=Pr(y,p),y.index=0,y.sibling=null,y}function i(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,p,g,w){return p===null||p.tag!==6?(p=Au(g,y.mode,w),p.return=y,p):(p=s(p,g),p.return=y,p)}function l(y,p,g,w){var _=g.type;return _===zs?d(y,p,g.props.children,w,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===cr&&lp(_)===p.type)?(w=s(p,g.props),w.ref=Ii(y,p,g),w.return=y,w):(w=Nl(g.type,g.key,g.props,null,y.mode,w),w.ref=Ii(y,p,g),w.return=y,w)}function c(y,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ru(g,y.mode,w),p.return=y,p):(p=s(p,g.children||[]),p.return=y,p)}function d(y,p,g,w,_){return p===null||p.tag!==7?(p=cs(g,y.mode,w,_),p.return=y,p):(p=s(p,g),p.return=y,p)}function h(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Au(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Co:return g=Nl(p.type,p.key,p.props,null,y.mode,g),g.ref=Ii(y,null,p),g.return=y,g;case $s:return p=Ru(p,y.mode,g),p.return=y,p;case cr:var w=p._init;return h(y,w(p._payload),g)}if(Ki(p)||Mi(p))return p=cs(p,y.mode,g,null),p.return=y,p;Fo(y,p)}return null}function f(y,p,g,w){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:o(y,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Co:return g.key===_?l(y,p,g,w):null;case $s:return g.key===_?c(y,p,g,w):null;case cr:return _=g._init,f(y,p,_(g._payload),w)}if(Ki(g)||Mi(g))return _!==null?null:d(y,p,g,w,null);Fo(y,g)}return null}function m(y,p,g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,o(p,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Co:return y=y.get(w.key===null?g:w.key)||null,l(p,y,w,_);case $s:return y=y.get(w.key===null?g:w.key)||null,c(p,y,w,_);case cr:var k=w._init;return m(y,p,g,k(w._payload),_)}if(Ki(w)||Mi(w))return y=y.get(g)||null,d(p,y,w,_,null);Fo(p,w)}return null}function x(y,p,g,w){for(var _=null,k=null,C=p,T=p=0,O=null;C!==null&&T<g.length;T++){C.index>T?(O=C,C=null):O=C.sibling;var I=f(y,C,g[T],w);if(I===null){C===null&&(C=O);break}t&&C&&I.alternate===null&&e(y,C),p=i(I,p,T),k===null?_=I:k.sibling=I,k=I,C=O}if(T===g.length)return n(y,C),Te&&Kr(y,T),_;if(C===null){for(;T<g.length;T++)C=h(y,g[T],w),C!==null&&(p=i(C,p,T),k===null?_=C:k.sibling=C,k=C);return Te&&Kr(y,T),_}for(C=r(y,C);T<g.length;T++)O=m(C,y,T,g[T],w),O!==null&&(t&&O.alternate!==null&&C.delete(O.key===null?T:O.key),p=i(O,p,T),k===null?_=O:k.sibling=O,k=O);return t&&C.forEach(function(U){return e(y,U)}),Te&&Kr(y,T),_}function v(y,p,g,w){var _=Mi(g);if(typeof _!="function")throw Error(B(150));if(g=_.call(g),g==null)throw Error(B(151));for(var k=_=null,C=p,T=p=0,O=null,I=g.next();C!==null&&!I.done;T++,I=g.next()){C.index>T?(O=C,C=null):O=C.sibling;var U=f(y,C,I.value,w);if(U===null){C===null&&(C=O);break}t&&C&&U.alternate===null&&e(y,C),p=i(U,p,T),k===null?_=U:k.sibling=U,k=U,C=O}if(I.done)return n(y,C),Te&&Kr(y,T),_;if(C===null){for(;!I.done;T++,I=g.next())I=h(y,I.value,w),I!==null&&(p=i(I,p,T),k===null?_=I:k.sibling=I,k=I);return Te&&Kr(y,T),_}for(C=r(y,C);!I.done;T++,I=g.next())I=m(C,y,T,I.value,w),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?T:I.key),p=i(I,p,T),k===null?_=I:k.sibling=I,k=I);return t&&C.forEach(function(M){return e(y,M)}),Te&&Kr(y,T),_}function b(y,p,g,w){if(typeof g=="object"&&g!==null&&g.type===zs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Co:e:{for(var _=g.key,k=p;k!==null;){if(k.key===_){if(_=g.type,_===zs){if(k.tag===7){n(y,k.sibling),p=s(k,g.props.children),p.return=y,y=p;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===cr&&lp(_)===k.type){n(y,k.sibling),p=s(k,g.props),p.ref=Ii(y,k,g),p.return=y,y=p;break e}n(y,k);break}else e(y,k);k=k.sibling}g.type===zs?(p=cs(g.props.children,y.mode,w,g.key),p.return=y,y=p):(w=Nl(g.type,g.key,g.props,null,y.mode,w),w.ref=Ii(y,p,g),w.return=y,y=w)}return a(y);case $s:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=s(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=Ru(g,y.mode,w),p.return=y,y=p}return a(y);case cr:return k=g._init,b(y,p,k(g._payload),w)}if(Ki(g))return x(y,p,g,w);if(Mi(g))return v(y,p,g,w);Fo(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=s(p,g),p.return=y,y=p):(n(y,p),p=Au(g,y.mode,w),p.return=y,y=p),a(y)):n(y,p)}return b}var di=Qy(!0),Jy=Qy(!1),Zl=Fr(null),ec=null,Gs=null,of=null;function lf(){of=Gs=ec=null}function cf(t){var e=Zl.current;Ne(Zl),t._currentValue=e}function Hd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ni(t,e){ec=t,of=Gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(of!==t)if(t={context:t,memoizedValue:e,next:null},Gs===null){if(ec===null)throw Error(B(308));Gs=t,ec.dependencies={lanes:0,firstContext:t}}else Gs=Gs.next=t;return e}var is=null;function uf(t){is===null?is=[t]:is.push(t)}function Zy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,uf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Qn(t,r)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ur=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ex(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Qn(t,n)}return s=r.interleaved,s===null?(e.next=e,uf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Qn(t,n)}function bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xh(t,n)}}function cp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function tc(t,e,n,r){var s=t.updateQueue;ur=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=c=l=null,o=i;do{var f=o.lane,m=o.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,v=o;switch(f=e,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=Re({},h,f);break e;case 2:ur=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else m={eventTime:m,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);gs|=a,t.lanes=a,t.memoizedState=h}}function up(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var fo={},Cn=Fr(fo),Wa=Fr(fo),Ha=Fr(fo);function as(t){if(t===fo)throw Error(B(174));return t}function hf(t,e){switch(_e(Ha,e),_e(Wa,t),_e(Cn,fo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jd(e,t)}Ne(Cn),_e(Cn,e)}function hi(){Ne(Cn),Ne(Wa),Ne(Ha)}function tx(t){as(Ha.current);var e=as(Cn.current),n=jd(e,t.type);e!==n&&(_e(Wa,t),_e(Cn,n))}function ff(t){Wa.current===t&&(Ne(Cn),Ne(Wa))}var De=Fr(0);function nc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eu=[];function mf(){for(var t=0;t<Eu.length;t++)Eu[t]._workInProgressVersionPrimary=null;Eu.length=0}var wl=tr.ReactCurrentDispatcher,Tu=tr.ReactCurrentBatchConfig,ps=0,Ae=null,Ge=null,Ze=null,rc=!1,ma=!1,Va=0,xk=0;function ot(){throw Error(B(321))}function pf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function gf(t,e,n,r,s,i){if(ps=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wl.current=t===null||t.memoizedState===null?_k:kk,t=n(r,s),ma){i=0;do{if(ma=!1,Va=0,25<=i)throw Error(B(301));i+=1,Ze=Ge=null,e.updateQueue=null,wl.current=jk,t=n(r,s)}while(ma)}if(wl.current=sc,e=Ge!==null&&Ge.next!==null,ps=0,Ze=Ge=Ae=null,rc=!1,e)throw Error(B(300));return t}function yf(){var t=Va!==0;return Va=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ae.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Jt(){if(Ge===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Ze===null?Ae.memoizedState:Ze.next;if(e!==null)Ze=e,Ge=t;else{if(t===null)throw Error(B(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ze===null?Ae.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function qa(t,e){return typeof e=="function"?e(t):e}function Pu(t){var e=Jt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ge,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((ps&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=r):l=l.next=h,Ae.lanes|=d,gs|=d}c=c.next}while(c!==null&&c!==i);l===null?a=r:l.next=o,fn(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,gs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mu(t){var e=Jt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);fn(i,e.memoizedState)||(Et=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nx(){}function rx(t,e){var n=Ae,r=Jt(),s=e(),i=!fn(r.memoizedState,s);if(i&&(r.memoizedState=s,Et=!0),r=r.queue,xf(ax.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Ya(9,ix.bind(null,n,r,s,e),void 0,null),et===null)throw Error(B(349));ps&30||sx(n,e,s)}return s}function sx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ix(t,e,n,r){e.value=n,e.getSnapshot=r,ox(e)&&lx(t)}function ax(t,e,n){return n(function(){ox(e)&&lx(t)})}function ox(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function lx(t){var e=Qn(t,1);e!==null&&hn(e,t,1,-1)}function dp(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},e.queue=t,t=t.dispatch=wk.bind(null,Ae,t),[e.memoizedState,t]}function Ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cx(){return Jt().memoizedState}function _l(t,e,n,r){var s=wn();Ae.flags|=t,s.memoizedState=Ya(1|e,n,void 0,r===void 0?null:r)}function Lc(t,e,n,r){var s=Jt();r=r===void 0?null:r;var i=void 0;if(Ge!==null){var a=Ge.memoizedState;if(i=a.destroy,r!==null&&pf(r,a.deps)){s.memoizedState=Ya(e,n,i,r);return}}Ae.flags|=t,s.memoizedState=Ya(1|e,n,i,r)}function hp(t,e){return _l(8390656,8,t,e)}function xf(t,e){return Lc(2048,8,t,e)}function ux(t,e){return Lc(4,2,t,e)}function dx(t,e){return Lc(4,4,t,e)}function hx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fx(t,e,n){return n=n!=null?n.concat([t]):null,Lc(4,4,hx.bind(null,e,t),n)}function vf(){}function mx(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function px(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gx(t,e,n){return ps&21?(fn(n,e)||(n=wy(),Ae.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=n)}function vk(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=Tu.transition;Tu.transition={};try{t(!1),e()}finally{xe=n,Tu.transition=r}}function yx(){return Jt().memoizedState}function bk(t,e,n){var r=Tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xx(t))vx(e,n);else if(n=Zy(t,e,n,r),n!==null){var s=xt();hn(n,t,r,s),bx(n,e,r)}}function wk(t,e,n){var r=Tr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xx(t))vx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,fn(o,a)){var l=e.interleaved;l===null?(s.next=s,uf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Zy(t,e,s,r),n!==null&&(s=xt(),hn(n,t,r,s),bx(n,e,r))}}function xx(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function vx(t,e){ma=rc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xh(t,n)}}var sc={readContext:Qt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},_k={readContext:Qt,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:hp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_l(4194308,4,hx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _l(4194308,4,t,e)},useInsertionEffect:function(t,e){return _l(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bk.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:dp,useDebugValue:vf,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=dp(!1),e=t[0];return t=vk.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,s=wn();if(Te){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),et===null)throw Error(B(349));ps&30||sx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,hp(ax.bind(null,r,i,t),[t]),r.flags|=2048,Ya(9,ix.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wn(),e=et.identifierPrefix;if(Te){var n=Wn,r=Un;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Va++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kk={readContext:Qt,useCallback:mx,useContext:Qt,useEffect:xf,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:px,useReducer:Pu,useRef:cx,useState:function(){return Pu(qa)},useDebugValue:vf,useDeferredValue:function(t){var e=Jt();return gx(e,Ge.memoizedState,t)},useTransition:function(){var t=Pu(qa)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:rx,useId:yx,unstable_isNewReconciler:!1},jk={readContext:Qt,useCallback:mx,useContext:Qt,useEffect:xf,useImperativeHandle:fx,useInsertionEffect:ux,useLayoutEffect:dx,useMemo:px,useReducer:Mu,useRef:cx,useState:function(){return Mu(qa)},useDebugValue:vf,useDeferredValue:function(t){var e=Jt();return Ge===null?e.memoizedState=t:gx(e,Ge.memoizedState,t)},useTransition:function(){var t=Mu(qa)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:rx,useId:yx,unstable_isNewReconciler:!1};function sn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fc={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),s=Tr(t),i=Vn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Cr(t,i,s),e!==null&&(hn(e,t,s,r),bl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),s=Tr(t),i=Vn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Cr(t,i,s),e!==null&&(hn(e,t,s,r),bl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=Tr(t),s=Vn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Cr(t,s,r),e!==null&&(hn(e,t,r,n),bl(e,t,r))}};function fp(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!$a(n,r)||!$a(s,i):!0}function wx(t,e,n){var r=!1,s=Ar,i=e.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=Pt(e)?fs:pt.current,r=e.contextTypes,i=(r=r!=null)?ci(t,s):Ar),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function mp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fc.enqueueReplaceState(e,e.state,null)}function qd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},df(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=Pt(e)?fs:pt.current,s.context=ci(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vd(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fc.enqueueReplaceState(s,s.state,null),tc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fi(t,e){try{var n="",r=e;do n+=Jw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Du(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sk=typeof WeakMap=="function"?WeakMap:Map;function _x(t,e,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ac||(ac=!0,rh=r),Yd(t,e)},n}function kx(t,e,n){n=Vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Yd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yd(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function pp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$k.bind(null,t,e,n),e.then(t,t))}function gp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vn(-1,1),e.tag=2,Cr(n,e,1))),n.lanes|=1),t)}var Nk=tr.ReactCurrentOwner,Et=!1;function yt(t,e,n,r){e.child=t===null?Jy(e,null,n,r):di(e,t.child,n,r)}function xp(t,e,n,r,s){n=n.render;var i=e.ref;return ni(e,s),r=gf(t,e,n,r,i,s),n=yf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jn(t,e,s)):(Te&&n&&rf(e),e.flags|=1,yt(t,e,r,s),e.child)}function vp(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Cf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,jx(t,e,i,r,s)):(t=Nl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:$a,n(a,r)&&t.ref===e.ref)return Jn(t,e,s)}return e.flags|=1,t=Pr(i,r),t.ref=e.ref,t.return=e,e.child=t}function jx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if($a(i,r)&&t.ref===e.ref)if(Et=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,Jn(t,e,s)}return Gd(t,e,n,r,s)}function Sx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Ks,Rt),Rt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Ks,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,_e(Ks,Rt),Rt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,_e(Ks,Rt),Rt|=r;return yt(t,e,s,n),e.child}function Nx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gd(t,e,n,r,s){var i=Pt(n)?fs:pt.current;return i=ci(e,i),ni(e,s),n=gf(t,e,n,r,i,s),r=yf(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jn(t,e,s)):(Te&&r&&rf(e),e.flags|=1,yt(t,e,n,s),e.child)}function bp(t,e,n,r,s){if(Pt(n)){var i=!0;Kl(e)}else i=!1;if(ni(e,s),e.stateNode===null)kl(t,e),wx(e,n,r),qd(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qt(c):(c=Pt(n)?fs:pt.current,c=ci(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&mp(e,a,r,c),ur=!1;var f=e.memoizedState;a.state=f,tc(e,r,a,s),l=e.memoizedState,o!==r||f!==l||Tt.current||ur?(typeof d=="function"&&(Vd(e,n,d,r),l=e.memoizedState),(o=ur||fp(e,n,o,r,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ex(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:sn(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qt(l):(l=Pt(n)?fs:pt.current,l=ci(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&mp(e,a,r,l),ur=!1,f=e.memoizedState,a.state=f,tc(e,r,a,s);var x=e.memoizedState;o!==h||f!==x||Tt.current||ur?(typeof m=="function"&&(Vd(e,n,m,r),x=e.memoizedState),(c=ur||fp(e,n,c,r,f,x,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Xd(t,e,n,r,i,s)}function Xd(t,e,n,r,s,i){Nx(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&ip(e,n,!1),Jn(t,e,i);r=e.stateNode,Nk.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=di(e,t.child,null,i),e.child=di(e,null,o,i)):yt(t,e,o,i),e.memoizedState=r.state,s&&ip(e,n,!0),e.child}function Cx(t){var e=t.stateNode;e.pendingContext?sp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sp(t,e.context,!1),hf(t,e.containerInfo)}function wp(t,e,n,r,s){return ui(),af(s),e.flags|=256,yt(t,e,n,r),e.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function Qd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ex(t,e,n){var r=e.pendingProps,s=De.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),_e(De,s&1),t===null)return Wd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Bc(a,r,0,null),t=cs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Qd(n),e.memoizedState=Kd,t):bf(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Ck(t,e,a,r,o,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Pr(o,i):(i=cs(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Qd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Kd,r}return i=t.child,t=i.sibling,r=Pr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bf(t,e){return e=Bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $o(t,e,n,r){return r!==null&&af(r),di(e,t.child,null,n),t=bf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ck(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Du(Error(B(422))),$o(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Bc({mode:"visible",children:r.children},s,0,null),i=cs(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&di(e,t.child,null,a),e.child.memoizedState=Qd(a),e.memoizedState=Kd,i);if(!(e.mode&1))return $o(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(B(419)),r=Du(i,r,void 0),$o(t,e,a,r)}if(o=(a&t.childLanes)!==0,Et||o){if(r=et,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qn(t,s),hn(r,t,s,-1))}return Nf(),r=Du(Error(B(421))),$o(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=zk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,It=Nr(s.nextSibling),Lt=e,Te=!0,un=null,t!==null&&(Ht[Vt++]=Un,Ht[Vt++]=Wn,Ht[Vt++]=ms,Un=t.id,Wn=t.overflow,ms=e),e=bf(e,r.children),e.flags|=4096,e)}function _p(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hd(t.return,e,n)}function Ou(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Tx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_p(t,n,e);else if(t.tag===19)_p(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&nc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ou(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&nc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ou(e,!0,n,null,i);break;case"together":Ou(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ek(t,e,n){switch(e.tag){case 3:Cx(e),ui();break;case 5:tx(e);break;case 1:Pt(e.type)&&Kl(e);break;case 4:hf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;_e(Zl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?Ex(t,e,n):(_e(De,De.current&1),t=Jn(t,e,n),t!==null?t.sibling:null);_e(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),_e(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,Sx(t,e,n)}return Jn(t,e,n)}var Px,Jd,Mx,Dx;Px=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jd=function(){};Mx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,as(Cn.current);var i=null;switch(n){case"input":s=bd(t,s),r=bd(t,r),i=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":s=kd(t,s),r=kd(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gl)}Sd(n,r);var a;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Da.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Da.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ke("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Dx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Li(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Tk(t,e,n){var r=e.pendingProps;switch(sf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Pt(e.type)&&Xl(),lt(e),null;case 3:return r=e.stateNode,hi(),Ne(Tt),Ne(pt),mf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(ah(un),un=null))),Jd(t,e),lt(e),null;case 5:ff(e);var s=as(Ha.current);if(n=e.type,t!==null&&e.stateNode!=null)Mx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return lt(e),null}if(t=as(Cn.current),Lo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[kn]=e,r[Ua]=i,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<Ji.length;s++)ke(Ji[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":Mm(r,i),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ke("invalid",r);break;case"textarea":Om(r,i),ke("invalid",r)}Sd(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&Io(r.textContent,o,t),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Io(r.textContent,o,t),s=["children",""+o]):Da.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":Eo(r),Dm(r,i,!0);break;case"textarea":Eo(r),Am(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ay(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[kn]=e,t[Ua]=r,Px(t,e,!1,!1),e.stateNode=t;e:{switch(a=Nd(n,r),n){case"dialog":ke("cancel",t),ke("close",t),s=r;break;case"iframe":case"object":case"embed":ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ji.length;s++)ke(Ji[s],t);s=r;break;case"source":ke("error",t),s=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),s=r;break;case"details":ke("toggle",t),s=r;break;case"input":Mm(t,r),s=bd(t,r),ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),ke("invalid",t);break;case"textarea":Om(t,r),s=kd(t,r),ke("invalid",t);break;default:s=r}Sd(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?cy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oy(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oa(t,l):typeof l=="number"&&Oa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Da.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ke("scroll",t):l!=null&&Wh(t,i,l,a))}switch(n){case"input":Eo(t),Dm(t,r,!1);break;case"textarea":Eo(t),Am(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Js(t,!!r.multiple,i,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)Dx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=as(Ha.current),as(Cn.current),Lo(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(i=r.nodeValue!==n)&&(t=Lt,t!==null))switch(t.tag){case 3:Io(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Io(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return lt(e),null;case 13:if(Ne(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&It!==null&&e.mode&1&&!(e.flags&128))Ky(),ui(),e.flags|=98560,i=!1;else if(i=Lo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[kn]=e}else ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else un!==null&&(ah(un),un=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Ke===0&&(Ke=3):Nf())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return hi(),Jd(t,e),t===null&&za(e.stateNode.containerInfo),lt(e),null;case 10:return cf(e.type._context),lt(e),null;case 17:return Pt(e.type)&&Xl(),lt(e),null;case 19:if(Ne(De),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Li(i,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=nc(t),a!==null){for(e.flags|=128,Li(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(De,De.current&1|2),e.child}t=t.sibling}i.tail!==null&&ze()>mi&&(e.flags|=128,r=!0,Li(i,!1),e.lanes=4194304)}else{if(!r)if(t=nc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Li(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Te)return lt(e),null}else 2*ze()-i.renderingStartTime>mi&&n!==1073741824&&(e.flags|=128,r=!0,Li(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ze(),e.sibling=null,n=De.current,_e(De,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Sf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Pk(t,e){switch(sf(e),e.tag){case 1:return Pt(e.type)&&Xl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hi(),Ne(Tt),Ne(pt),mf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ff(e),null;case 13:if(Ne(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(De),null;case 4:return hi(),null;case 10:return cf(e.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var zo=!1,ht=!1,Mk=typeof WeakSet=="function"?WeakSet:Set,G=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Le(t,e,r)}else n.current=null}function Zd(t,e,n){try{n()}catch(r){Le(t,e,r)}}var kp=!1;function Dk(t,e){if(Id=Vl,t=Ly(),nf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(o=a+s),h!==i||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(o=a),f===i&&++d===r&&(l=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ld={focusedElem:t,selectionRange:n},Vl=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:sn(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){Le(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return x=kp,kp=!1,x}function pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zd(e,n,i)}s=s.next}while(s!==r)}}function $c(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function eh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ox(t){var e=t.alternate;e!==null&&(t.alternate=null,Ox(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Ua],delete e[zd],delete e[mk],delete e[pk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ax(t){return t.tag===5||t.tag===3||t.tag===4}function jp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ax(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function th(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gl));else if(r!==4&&(t=t.child,t!==null))for(th(t,e,n),t=t.sibling;t!==null;)th(t,e,n),t=t.sibling}function nh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(nh(t,e,n),t=t.sibling;t!==null;)nh(t,e,n),t=t.sibling}var nt=null,an=!1;function ir(t,e,n){for(n=n.child;n!==null;)Rx(t,e,n),n=n.sibling}function Rx(t,e,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 5:ht||Xs(n,e);case 6:var r=nt,s=an;nt=null,ir(t,e,n),nt=r,an=s,nt!==null&&(an?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(an?(t=nt,n=n.stateNode,t.nodeType===8?Nu(t.parentNode,n):t.nodeType===1&&Nu(t,n),La(t)):Nu(nt,n.stateNode));break;case 4:r=nt,s=an,nt=n.stateNode.containerInfo,an=!0,ir(t,e,n),nt=r,an=s;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Zd(n,e,a),s=s.next}while(s!==r)}ir(t,e,n);break;case 1:if(!ht&&(Xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Le(n,e,o)}ir(t,e,n);break;case 21:ir(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,ir(t,e,n),ht=r):ir(t,e,n);break;default:ir(t,e,n)}}function Sp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mk),e.forEach(function(r){var s=Bk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:nt=o.stateNode,an=!1;break e;case 3:nt=o.stateNode.containerInfo,an=!0;break e;case 4:nt=o.stateNode.containerInfo,an=!0;break e}o=o.return}if(nt===null)throw Error(B(160));Rx(i,a,s),nt=null,an=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Le(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ix(e,t),e=e.sibling}function Ix(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),xn(t),r&4){try{pa(3,t,t.return),$c(3,t)}catch(v){Le(t,t.return,v)}try{pa(5,t,t.return)}catch(v){Le(t,t.return,v)}}break;case 1:tn(e,t),xn(t),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(tn(e,t),xn(t),r&512&&n!==null&&Xs(n,n.return),t.flags&32){var s=t.stateNode;try{Oa(s,"")}catch(v){Le(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&sy(s,i),Nd(o,a);var c=Nd(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?cy(s,h):d==="dangerouslySetInnerHTML"?oy(s,h):d==="children"?Oa(s,h):Wh(s,d,h,c)}switch(o){case"input":wd(s,i);break;case"textarea":iy(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Js(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Js(s,!!i.multiple,i.defaultValue,!0):Js(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ua]=i}catch(v){Le(t,t.return,v)}}break;case 6:if(tn(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Le(t,t.return,v)}}break;case 3:if(tn(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{La(e.containerInfo)}catch(v){Le(t,t.return,v)}break;case 4:tn(e,t),xn(t);break;case 13:tn(e,t),xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(kf=ze())),r&4&&Sp(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(c=ht)||d,tn(e,t),ht=c):tn(e,t),xn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(h=G=d;G!==null;){switch(f=G,m=f.child,f.tag){case 0:case 11:case 14:case 15:pa(4,f,f.return);break;case 1:Xs(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){Le(r,n,v)}}break;case 5:Xs(f,f.return);break;case 22:if(f.memoizedState!==null){Cp(h);continue}}m!==null?(m.return=f,G=m):Cp(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ly("display",a))}catch(v){Le(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Le(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tn(e,t),xn(t),r&4&&Sp(t);break;case 21:break;default:tn(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ax(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Oa(s,""),r.flags&=-33);var i=jp(t);nh(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=jp(t);th(t,o,a);break;default:throw Error(B(161))}}catch(l){Le(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ok(t,e,n){G=t,Lx(t)}function Lx(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||zo;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||ht;o=zo;var c=ht;if(zo=a,(ht=l)&&!c)for(G=s;G!==null;)a=G,l=a.child,a.tag===22&&a.memoizedState!==null?Ep(s):l!==null?(l.return=a,G=l):Ep(s);for(;i!==null;)G=i,Lx(i),i=i.sibling;G=s,zo=o,ht=c}Np(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):Np(t)}}function Np(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||$c(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&up(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}up(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&La(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ht||e.flags&512&&eh(e)}catch(f){Le(e,e.return,f)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Cp(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Ep(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$c(4,e)}catch(l){Le(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Le(e,s,l)}}var i=e.return;try{eh(e)}catch(l){Le(e,i,l)}break;case 5:var a=e.return;try{eh(e)}catch(l){Le(e,a,l)}}}catch(l){Le(e,e.return,l)}if(e===t){G=null;break}var o=e.sibling;if(o!==null){o.return=e.return,G=o;break}G=e.return}}var Ak=Math.ceil,ic=tr.ReactCurrentDispatcher,wf=tr.ReactCurrentOwner,Xt=tr.ReactCurrentBatchConfig,ue=0,et=null,Ye=null,rt=0,Rt=0,Ks=Fr(0),Ke=0,Ga=null,gs=0,zc=0,_f=0,ga=null,jt=null,kf=0,mi=1/0,Fn=null,ac=!1,rh=null,Er=null,Bo=!1,xr=null,oc=0,ya=0,sh=null,jl=-1,Sl=0;function xt(){return ue&6?ze():jl!==-1?jl:jl=ze()}function Tr(t){return t.mode&1?ue&2&&rt!==0?rt&-rt:yk.transition!==null?(Sl===0&&(Sl=wy()),Sl):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Ey(t.type)),t):1}function hn(t,e,n,r){if(50<ya)throw ya=0,sh=null,Error(B(185));co(t,n,r),(!(ue&2)||t!==et)&&(t===et&&(!(ue&2)&&(zc|=n),Ke===4&&mr(t,rt)),Mt(t,r),n===1&&ue===0&&!(e.mode&1)&&(mi=ze()+500,Ic&&$r()))}function Mt(t,e){var n=t.callbackNode;y_(t,e);var r=Hl(t,t===et?rt:0);if(r===0)n!==null&&Lm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lm(n),e===1)t.tag===0?gk(Tp.bind(null,t)):Yy(Tp.bind(null,t)),hk(function(){!(ue&6)&&$r()}),n=null;else{switch(_y(r)){case 1:n=Gh;break;case 4:n=vy;break;case 16:n=Wl;break;case 536870912:n=by;break;default:n=Wl}n=Vx(n,Fx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fx(t,e){if(jl=-1,Sl=0,ue&6)throw Error(B(327));var n=t.callbackNode;if(ri()&&t.callbackNode!==n)return null;var r=Hl(t,t===et?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lc(t,r);else{e=r;var s=ue;ue|=2;var i=zx();(et!==t||rt!==e)&&(Fn=null,mi=ze()+500,ls(t,e));do try{Lk();break}catch(o){$x(t,o)}while(!0);lf(),ic.current=i,ue=s,Ye!==null?e=0:(et=null,rt=0,e=Ke)}if(e!==0){if(e===2&&(s=Md(t),s!==0&&(r=s,e=ih(t,s))),e===1)throw n=Ga,ls(t,0),mr(t,r),Mt(t,ze()),n;if(e===6)mr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Rk(s)&&(e=lc(t,r),e===2&&(i=Md(t),i!==0&&(r=i,e=ih(t,i))),e===1))throw n=Ga,ls(t,0),mr(t,r),Mt(t,ze()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Qr(t,jt,Fn);break;case 3:if(mr(t,r),(r&130023424)===r&&(e=kf+500-ze(),10<e)){if(Hl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$d(Qr.bind(null,t,jt,Fn),e);break}Qr(t,jt,Fn);break;case 4:if(mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-dn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ak(r/1960))-r,10<r){t.timeoutHandle=$d(Qr.bind(null,t,jt,Fn),r);break}Qr(t,jt,Fn);break;case 5:Qr(t,jt,Fn);break;default:throw Error(B(329))}}}return Mt(t,ze()),t.callbackNode===n?Fx.bind(null,t):null}function ih(t,e){var n=ga;return t.current.memoizedState.isDehydrated&&(ls(t,e).flags|=256),t=lc(t,e),t!==2&&(e=jt,jt=n,e!==null&&ah(e)),t}function ah(t){jt===null?jt=t:jt.push.apply(jt,t)}function Rk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mr(t,e){for(e&=~_f,e&=~zc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function Tp(t){if(ue&6)throw Error(B(327));ri();var e=Hl(t,0);if(!(e&1))return Mt(t,ze()),null;var n=lc(t,e);if(t.tag!==0&&n===2){var r=Md(t);r!==0&&(e=r,n=ih(t,r))}if(n===1)throw n=Ga,ls(t,0),mr(t,e),Mt(t,ze()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qr(t,jt,Fn),Mt(t,ze()),null}function jf(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(mi=ze()+500,Ic&&$r())}}function ys(t){xr!==null&&xr.tag===0&&!(ue&6)&&ri();var e=ue;ue|=1;var n=Xt.transition,r=xe;try{if(Xt.transition=null,xe=1,t)return t()}finally{xe=r,Xt.transition=n,ue=e,!(ue&6)&&$r()}}function Sf(){Rt=Ks.current,Ne(Ks)}function ls(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dk(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(sf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xl();break;case 3:hi(),Ne(Tt),Ne(pt),mf();break;case 5:ff(r);break;case 4:hi();break;case 13:Ne(De);break;case 19:Ne(De);break;case 10:cf(r.type._context);break;case 22:case 23:Sf()}n=n.return}if(et=t,Ye=t=Pr(t.current,null),rt=Rt=e,Ke=0,Ga=null,_f=zc=gs=0,jt=ga=null,is!==null){for(e=0;e<is.length;e++)if(n=is[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}is=null}return t}function $x(t,e){do{var n=Ye;try{if(lf(),wl.current=sc,rc){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rc=!1}if(ps=0,Ze=Ge=Ae=null,ma=!1,Va=0,wf.current=null,n===null||n.return===null){Ke=1,Ga=e,Ye=null;break}e:{var i=t,a=n.return,o=n,l=e;if(e=rt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gp(a);if(m!==null){m.flags&=-257,yp(m,a,o,i,e),m.mode&1&&pp(i,c,e),e=m,l=c;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){pp(i,c,e),Nf();break e}l=Error(B(426))}}else if(Te&&o.mode&1){var b=gp(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yp(b,a,o,i,e),af(fi(l,o));break e}}i=l=fi(l,o),Ke!==4&&(Ke=2),ga===null?ga=[i]:ga.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=_x(i,l,e);cp(i,y);break e;case 1:o=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Er===null||!Er.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=kx(i,o,e);cp(i,w);break e}}i=i.return}while(i!==null)}Ux(n)}catch(_){e=_,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function zx(){var t=ic.current;return ic.current=sc,t===null?sc:t}function Nf(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),et===null||!(gs&268435455)&&!(zc&268435455)||mr(et,rt)}function lc(t,e){var n=ue;ue|=2;var r=zx();(et!==t||rt!==e)&&(Fn=null,ls(t,e));do try{Ik();break}catch(s){$x(t,s)}while(!0);if(lf(),ue=n,ic.current=r,Ye!==null)throw Error(B(261));return et=null,rt=0,Ke}function Ik(){for(;Ye!==null;)Bx(Ye)}function Lk(){for(;Ye!==null&&!l_();)Bx(Ye)}function Bx(t){var e=Hx(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?Ux(t):Ye=e,wf.current=null}function Ux(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pk(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Ye=null;return}}else if(n=Tk(n,e,Rt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);Ke===0&&(Ke=5)}function Qr(t,e,n){var r=xe,s=Xt.transition;try{Xt.transition=null,xe=1,Fk(t,e,n,r)}finally{Xt.transition=s,xe=r}return null}function Fk(t,e,n,r){do ri();while(xr!==null);if(ue&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(x_(t,i),t===et&&(Ye=et=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bo||(Bo=!0,Vx(Wl,function(){return ri(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xt.transition,Xt.transition=null;var a=xe;xe=1;var o=ue;ue|=4,wf.current=null,Dk(t,n),Ix(n,t),sk(Ld),Vl=!!Id,Ld=Id=null,t.current=n,Ok(n),c_(),ue=o,xe=a,Xt.transition=i}else t.current=n;if(Bo&&(Bo=!1,xr=t,oc=s),i=t.pendingLanes,i===0&&(Er=null),h_(n.stateNode),Mt(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ac)throw ac=!1,t=rh,rh=null,t;return oc&1&&t.tag!==0&&ri(),i=t.pendingLanes,i&1?t===sh?ya++:(ya=0,sh=t):ya=0,$r(),null}function ri(){if(xr!==null){var t=_y(oc),e=Xt.transition,n=xe;try{if(Xt.transition=null,xe=16>t?16:t,xr===null)var r=!1;else{if(t=xr,xr=null,oc=0,ue&6)throw Error(B(331));var s=ue;for(ue|=4,G=t.current;G!==null;){var i=G,a=i.child;if(G.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:pa(8,d,i)}var h=d.child;if(h!==null)h.return=d,G=h;else for(;G!==null;){d=G;var f=d.sibling,m=d.return;if(Ox(d),d===c){G=null;break}if(f!==null){f.return=m,G=f;break}G=m}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}G=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,G=a;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pa(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,G=y;break e}G=i.return}}var p=t.current;for(G=p;G!==null;){a=G;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,G=g;else e:for(a=p;G!==null;){if(o=G,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$c(9,o)}}catch(_){Le(o,o.return,_)}if(o===a){G=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,G=w;break e}G=o.return}}if(ue=s,$r(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(Mc,t)}catch{}r=!0}return r}finally{xe=n,Xt.transition=e}}return!1}function Pp(t,e,n){e=fi(n,e),e=_x(t,e,1),t=Cr(t,e,1),e=xt(),t!==null&&(co(t,1,e),Mt(t,e))}function Le(t,e,n){if(t.tag===3)Pp(t,t,n);else for(;e!==null;){if(e.tag===3){Pp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=fi(n,t),t=kx(e,t,1),e=Cr(e,t,1),t=xt(),e!==null&&(co(e,1,t),Mt(e,t));break}}e=e.return}}function $k(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(rt&n)===n&&(Ke===4||Ke===3&&(rt&130023424)===rt&&500>ze()-kf?ls(t,0):_f|=n),Mt(t,e)}function Wx(t,e){e===0&&(t.mode&1?(e=Mo,Mo<<=1,!(Mo&130023424)&&(Mo=4194304)):e=1);var n=xt();t=Qn(t,e),t!==null&&(co(t,e,n),Mt(t,n))}function zk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wx(t,n)}function Bk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Wx(t,n)}var Hx;Hx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tt.current)Et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Et=!1,Ek(t,e,n);Et=!!(t.flags&131072)}else Et=!1,Te&&e.flags&1048576&&Gy(e,Jl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;kl(t,e),t=e.pendingProps;var s=ci(e,pt.current);ni(e,n),s=gf(null,e,r,t,s,n);var i=yf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(i=!0,Kl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,df(e),s.updater=Fc,e.stateNode=s,s._reactInternals=e,qd(e,r,t,n),e=Xd(null,e,r,!0,i,n)):(e.tag=0,Te&&i&&rf(e),yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(kl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Wk(r),t=sn(r,t),s){case 0:e=Gd(null,e,r,t,n);break e;case 1:e=bp(null,e,r,t,n);break e;case 11:e=xp(null,e,r,t,n);break e;case 14:e=vp(null,e,r,sn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),Gd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),bp(t,e,r,s,n);case 3:e:{if(Cx(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ex(t,e),tc(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=fi(Error(B(423)),e),e=wp(t,e,r,n,s);break e}else if(r!==s){s=fi(Error(B(424)),e),e=wp(t,e,r,n,s);break e}else for(It=Nr(e.stateNode.containerInfo.firstChild),Lt=e,Te=!0,un=null,n=Jy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ui(),r===s){e=Jn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return tx(e),t===null&&Wd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Fd(r,s)?a=null:i!==null&&Fd(r,i)&&(e.flags|=32),Nx(t,e),yt(t,e,a,n),e.child;case 6:return t===null&&Wd(e),null;case 13:return Ex(t,e,n);case 4:return hf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=di(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),xp(t,e,r,s,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,_e(Zl,r._currentValue),r._currentValue=a,i!==null)if(fn(i.value,a)){if(i.children===s.children&&!Tt.current){e=Jn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Vn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hd(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Hd(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ni(e,n),s=Qt(s),r=r(s),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,s=sn(r,e.pendingProps),s=sn(r.type,s),vp(t,e,r,s,n);case 15:return jx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),kl(t,e),e.tag=1,Pt(r)?(t=!0,Kl(e)):t=!1,ni(e,n),wx(e,r,s),qd(e,r,s,n),Xd(null,e,r,!0,t,n);case 19:return Tx(t,e,n);case 22:return Sx(t,e,n)}throw Error(B(156,e.tag))};function Vx(t,e){return xy(t,e)}function Uk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,e,n,r){return new Uk(t,e,n,r)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wk(t){if(typeof t=="function")return Cf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vh)return 11;if(t===qh)return 14}return 2}function Pr(t,e){var n=t.alternate;return n===null?(n=Yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nl(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Cf(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zs:return cs(n.children,s,i,e);case Hh:a=8,s|=8;break;case gd:return t=Yt(12,n,e,s|2),t.elementType=gd,t.lanes=i,t;case yd:return t=Yt(13,n,e,s),t.elementType=yd,t.lanes=i,t;case xd:return t=Yt(19,n,e,s),t.elementType=xd,t.lanes=i,t;case ty:return Bc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z0:a=10;break e;case ey:a=9;break e;case Vh:a=11;break e;case qh:a=14;break e;case cr:a=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Yt(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function cs(t,e,n,r){return t=Yt(7,t,r,e),t.lanes=n,t}function Bc(t,e,n,r){return t=Yt(22,t,r,e),t.elementType=ty,t.lanes=n,t.stateNode={isHidden:!1},t}function Au(t,e,n){return t=Yt(6,t,null,e),t.lanes=n,t}function Ru(t,e,n){return e=Yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pu(0),this.expirationTimes=pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ef(t,e,n,r,s,i,a,o,l){return t=new Hk(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Yt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},df(i),t}function Vk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qx(t){if(!t)return Ar;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Pt(n))return qy(t,n,e)}return e}function Yx(t,e,n,r,s,i,a,o,l){return t=Ef(n,r,!0,t,s,i,a,o,l),t.context=qx(null),n=t.current,r=xt(),s=Tr(n),i=Vn(r,s),i.callback=e??null,Cr(n,i,s),t.current.lanes=s,co(t,s,r),Mt(t,r),t}function Uc(t,e,n,r){var s=e.current,i=xt(),a=Tr(s);return n=qx(n),e.context===null?e.context=n:e.pendingContext=n,e=Vn(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cr(s,e,a),t!==null&&(hn(t,s,a,i),bl(t,s,a)),a}function cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tf(t,e){Mp(t,e),(t=t.alternate)&&Mp(t,e)}function qk(){return null}var Gx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pf(t){this._internalRoot=t}Wc.prototype.render=Pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Uc(t,e,null,null)};Wc.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){Uc(null,t,null,null)}),e[Kn]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fr.length&&e!==0&&e<fr[n].priority;n++);fr.splice(n,0,t),n===0&&Cy(t)}};function Mf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dp(){}function Yk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=cc(a);i.call(c)}}var a=Yx(e,r,t,0,null,!1,!1,"",Dp);return t._reactRootContainer=a,t[Kn]=a.current,za(t.nodeType===8?t.parentNode:t),ys(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=cc(l);o.call(c)}}var l=Ef(t,0,!1,null,null,!1,!1,"",Dp);return t._reactRootContainer=l,t[Kn]=l.current,za(t.nodeType===8?t.parentNode:t),ys(function(){Uc(e,l,n,r)}),l}function Vc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=cc(a);o.call(l)}}Uc(e,a,t,s)}else a=Yk(n,e,t,s,r);return cc(a)}ky=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qi(e.pendingLanes);n!==0&&(Xh(e,n|1),Mt(e,ze()),!(ue&6)&&(mi=ze()+500,$r()))}break;case 13:ys(function(){var r=Qn(t,1);if(r!==null){var s=xt();hn(r,t,1,s)}}),Tf(t,1)}};Kh=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=xt();hn(e,t,134217728,n)}Tf(t,134217728)}};jy=function(t){if(t.tag===13){var e=Tr(t),n=Qn(t,e);if(n!==null){var r=xt();hn(n,t,e,r)}Tf(t,e)}};Sy=function(){return xe};Ny=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};Ed=function(t,e,n){switch(e){case"input":if(wd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Rc(r);if(!s)throw Error(B(90));ry(r),wd(r,s)}}}break;case"textarea":iy(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};hy=jf;fy=ys;var Gk={usingClientEntryPoint:!1,Events:[ho,Hs,Rc,uy,dy,jf]},Fi={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xk={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gy(t),t===null?null:t.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{Mc=Uo.inject(Xk),Nn=Uo}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mf(e))throw Error(B(200));return Vk(t,e,null,n)};$t.createRoot=function(t,e){if(!Mf(t))throw Error(B(299));var n=!1,r="",s=Gx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ef(t,1,!1,null,null,n,!1,r,s),t[Kn]=e.current,za(t.nodeType===8?t.parentNode:t),new Pf(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=gy(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return ys(t)};$t.hydrate=function(t,e,n){if(!Hc(e))throw Error(B(200));return Vc(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!Mf(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Gx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Yx(e,null,t,1,n??null,s,!1,i,a),t[Kn]=e.current,za(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Wc(e)};$t.render=function(t,e,n){if(!Hc(e))throw Error(B(200));return Vc(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!Hc(t))throw Error(B(40));return t._reactRootContainer?(ys(function(){Vc(null,null,t,!1,function(){t._reactRootContainer=null,t[Kn]=null})}),!0):!1};$t.unstable_batchedUpdates=jf;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Vc(t,e,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function Xx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xx)}catch(t){console.error(t)}}Xx(),X0.exports=$t;var Kk=X0.exports,Kx,Op=Kk;Kx=Op.createRoot,Op.hydrateRoot;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.parse=r1;Df.serialize=s1;const Qk=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Jk=/^[\u0021-\u003A\u003C-\u007E]*$/,Zk=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,e1=/^[\u0020-\u003A\u003D-\u007E]*$/,t1=Object.prototype.toString,n1=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function r1(t,e){const n=new n1,r=t.length;if(r<2)return n;const s=(e==null?void 0:e.decode)||i1;let i=0;do{const a=t.indexOf("=",i);if(a===-1)break;const o=t.indexOf(";",i),l=o===-1?r:o;if(a>l){i=t.lastIndexOf(";",a-1)+1;continue}const c=Ap(t,i,a),d=Rp(t,a,c),h=t.slice(c,d);if(n[h]===void 0){let f=Ap(t,a+1,l),m=Rp(t,l,f);const x=s(t.slice(f,m));n[h]=x}i=l+1}while(i<r);return n}function Ap(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Rp(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function s1(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Qk.test(t))throw new TypeError(`argument name is invalid: ${t}`);const s=r(e);if(!Jk.test(s))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+s;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!Zk.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!e1.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!a1(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function i1(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function a1(t){return t1.call(t)==="[object Date]"}var Ip="popstate";function o1(t={}){function e(r,s){let{pathname:i,search:a,hash:o}=r.location;return oh("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Xa(s)}return c1(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l1(){return Math.random().toString(36).substring(2,10)}function Lp(t,e){return{usr:t.state,key:t.key,idx:e}}function oh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ki(e):e,state:n,key:e&&e.key||r||l1()}}function Xa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function c1(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let b=d(),y=b==null?null:b-c;c=b,l&&l({action:o,location:v.location,delta:y})}function f(b,y){o="PUSH";let p=oh(v.location,b,y);c=d()+1;let g=Lp(p,c),w=v.createHref(p);try{a.pushState(g,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(w)}i&&l&&l({action:o,location:v.location,delta:1})}function m(b,y){o="REPLACE";let p=oh(v.location,b,y);c=d();let g=Lp(p,c),w=v.createHref(p);a.replaceState(g,"",w),i&&l&&l({action:o,location:v.location,delta:0})}function x(b){return u1(b)}let v={get action(){return o},get location(){return t(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ip,h),l=b,()=>{s.removeEventListener(Ip,h),l=null}},createHref(b){return e(s,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(b){return a.go(b)}};return v}function u1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xa(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Qx(t,e,n="/"){return d1(t,e,n,!1)}function d1(t,e,n,r){let s=typeof e=="string"?ki(e):e,i=Zn(s.pathname||"/",n);if(i==null)return null;let a=Jx(t);h1(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=k1(i);o=w1(a[l],c,r)}return o}function Jx(t,e=[],n=[],r=""){let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=qn([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Pe(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Jx(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:v1(c,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Zx(i.path))s(i,a,l)}),e}function Zx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Zx(r.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function h1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var f1=/^:[\w-]+$/,m1=3,p1=2,g1=1,y1=10,x1=-2,Fp=t=>t==="*";function v1(t,e){let n=t.split("/"),r=n.length;return n.some(Fp)&&(r+=x1),e&&(r+=p1),n.filter(s=>!Fp(s)).reduce((s,i)=>s+(f1.test(i)?m1:i===""?g1:y1),r)}function b1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function w1(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=uc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=uc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:qn([i,h.pathname]),pathnameBase:C1(qn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=qn([i,h.pathnameBase]))}return a}function uc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let x=o[f]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const m=o[f];return h&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function _1(t,e=!1,n=!0){mn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function k1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Zn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function j1(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ki(t):t;return{pathname:n?n.startsWith("/")?n:S1(n,e):e,search:E1(r),hash:T1(s)}}function S1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Iu(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Of(t){let e=N1(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Af(t,e,n,r=!1){let s;typeof t=="string"?s=ki(t):(s={...t},Pe(!s.pathname||!s.pathname.includes("?"),Iu("?","pathname","search",s)),Pe(!s.pathname||!s.pathname.includes("#"),Iu("#","pathname","hash",s)),Pe(!s.search||!s.search.includes("#"),Iu("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=n;else{let h=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=j1(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var qn=t=>t.join("/").replace(/\/\/+/g,"/"),C1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ev=["POST","PUT","PATCH","DELETE"];new Set(ev);var M1=["GET",...ev];new Set(M1);var ji=j.createContext(null);ji.displayName="DataRouter";var qc=j.createContext(null);qc.displayName="DataRouterState";var tv=j.createContext({isTransitioning:!1});tv.displayName="ViewTransition";var D1=j.createContext(new Map);D1.displayName="Fetchers";var O1=j.createContext(null);O1.displayName="Await";var gn=j.createContext(null);gn.displayName="Navigation";var mo=j.createContext(null);mo.displayName="Location";var Dn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Dn.displayName="Route";var Rf=j.createContext(null);Rf.displayName="RouteError";function A1(t,{relative:e}={}){Pe(Si(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(gn),{hash:s,pathname:i,search:a}=po(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:qn([n,i])),r.createHref({pathname:o,search:a,hash:s})}function Si(){return j.useContext(mo)!=null}function nr(){return Pe(Si(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(mo).location}var nv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rv(t){j.useContext(gn).static||j.useLayoutEffect(t)}function _s(){let{isDataRoute:t}=j.useContext(Dn);return t?Y1():R1()}function R1(){Pe(Si(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(ji),{basename:e,navigator:n}=j.useContext(gn),{matches:r}=j.useContext(Dn),{pathname:s}=nr(),i=JSON.stringify(Of(r)),a=j.useRef(!1);return rv(()=>{a.current=!0}),j.useCallback((l,c={})=>{if(mn(a.current,nv),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=Af(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:qn([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}j.createContext(null);function po(t,{relative:e}={}){let{matches:n}=j.useContext(Dn),{pathname:r}=nr(),s=JSON.stringify(Of(n));return j.useMemo(()=>Af(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function I1(t,e){return sv(t,e)}function sv(t,e,n,r){var y;Pe(Si(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext(gn),{matches:i}=j.useContext(Dn),a=i[i.length-1],o=a?a.params:{},l=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let p=d&&d.path||"";iv(l,!d||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=nr(),f;if(e){let p=typeof e=="string"?ki(e):e;Pe(c==="/"||((y=p.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${p.pathname}" was given in the \`location\` prop.`),f=p}else f=h;let m=f.pathname||"/",x=m;if(c!=="/"){let p=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let v=Qx(t,{pathname:x});mn(d||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),mn(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=B1(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:qn([c,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:qn([c,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,n,r);return e&&b?j.createElement(mo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},b):b}function L1(){let t=q1(),e=P1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,a)}var F1=j.createElement(L1,null),$1=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?j.createElement(Dn.Provider,{value:this.props.routeContext},j.createElement(Rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function z1({routeContext:t,match:e,children:n}){let r=j.useContext(ji);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Dn.Provider,{value:t},n)}function B1(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let l=s.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);Pe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let a=!1,o=-1;if(n)for(let l=0;l<s.length;l++){let c=s[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(o=l),c.route.id){let{loaderData:d,errors:h}=n,f=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||f){a=!0,o>=0?s=s.slice(0,o+1):s=[s[0]];break}}}return s.reduceRight((l,c,d)=>{let h,f=!1,m=null,x=null;n&&(h=i&&c.route.id?i[c.route.id]:void 0,m=c.route.errorElement||F1,a&&(o<0&&d===0?(iv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,x=null):o===d&&(f=!0,x=c.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,d+1)),b=()=>{let y;return h?y=m:f?y=x:c.route.Component?y=j.createElement(c.route.Component,null):c.route.element?y=c.route.element:y=l,j.createElement(z1,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:y})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?j.createElement($1,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}function If(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(t){let e=j.useContext(ji);return Pe(e,If(t)),e}function W1(t){let e=j.useContext(qc);return Pe(e,If(t)),e}function H1(t){let e=j.useContext(Dn);return Pe(e,If(t)),e}function Lf(t){let e=H1(t),n=e.matches[e.matches.length-1];return Pe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V1(){return Lf("useRouteId")}function q1(){var r;let t=j.useContext(Rf),e=W1("useRouteError"),n=Lf("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Y1(){let{router:t}=U1("useNavigate"),e=Lf("useNavigate"),n=j.useRef(!1);return rv(()=>{n.current=!0}),j.useCallback(async(s,i={})=>{mn(n.current,nv),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var $p={};function iv(t,e,n){!e&&!$p[t]&&($p[t]=!0,mn(!1,n))}j.memo(G1);function G1({routes:t,future:e,state:n}){return sv(t,void 0,n,e)}function Ff({to:t,replace:e,state:n,relative:r}){Pe(Si(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(gn);mn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Dn),{pathname:a}=nr(),o=_s(),l=Af(t,Of(i),a,r==="path"),c=JSON.stringify(l);return j.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function Ut(t){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X1({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Pe(!Si(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),o=j.useMemo(()=>({basename:a,navigator:s,static:i,future:{}}),[a,s,i]);typeof n=="string"&&(n=ki(n));let{pathname:l="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,m=j.useMemo(()=>{let x=Zn(l,a);return x==null?null:{location:{pathname:x,search:c,hash:d,state:h,key:f},navigationType:r}},[a,l,c,d,h,f,r]);return mn(m!=null,`<Router basename="${a}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:j.createElement(gn.Provider,{value:o},j.createElement(mo.Provider,{children:e,value:m}))}function K1({children:t,location:e}){return I1(lh(t),e)}function lh(t,e=[]){let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,lh(r.props.children,i));return}Pe(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lh(r.props.children,i)),n.push(a)}),n}var Cl="get",El="application/x-www-form-urlencoded";function Yc(t){return t!=null&&typeof t.tagName=="string"}function Q1(t){return Yc(t)&&t.tagName.toLowerCase()==="button"}function J1(t){return Yc(t)&&t.tagName.toLowerCase()==="form"}function Z1(t){return Yc(t)&&t.tagName.toLowerCase()==="input"}function e2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function t2(t,e){return t.button===0&&(!e||e==="_self")&&!e2(t)}var Wo=null;function n2(){if(Wo===null)try{new FormData(document.createElement("form"),0),Wo=!1}catch{Wo=!0}return Wo}var r2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lu(t){return t!=null&&!r2.has(t)?(mn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${El}"`),null):t}function s2(t,e){let n,r,s,i,a;if(J1(t)){let o=t.getAttribute("action");r=o?Zn(o,e):null,n=t.getAttribute("method")||Cl,s=Lu(t.getAttribute("enctype"))||El,i=new FormData(t)}else if(Q1(t)||Z1(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(r=l?Zn(l,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Cl,s=Lu(t.getAttribute("formenctype"))||Lu(o.getAttribute("enctype"))||El,i=new FormData(o,t),!n2()){let{name:c,type:d,value:h}=t;if(d==="image"){let f=c?`${c}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else c&&i.append(c,h)}}else{if(Yc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cl,r=null,s=El,a=t}return i&&s==="text/plain"&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}function $f(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function i2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function o2(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let a=await i2(i,n);return a.links?a.links():[]}return[]}));return d2(r.flat(1).filter(a2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function zp(t,e,n,r,s,i){let a=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,o=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):i==="data"?e.filter((l,c)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function l2(t,e,{includeHydrateFallback:n}={}){return c2(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function c2(t){return[...new Set(t)]}function u2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function d2(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(u2(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var h2=new Set([100,101,204,205]);function f2(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Zn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function av(){let t=j.useContext(ji);return $f(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function m2(){let t=j.useContext(qc);return $f(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zf=j.createContext(void 0);zf.displayName="FrameworkContext";function ov(){let t=j.useContext(zf);return $f(t,"You must render this element inside a <HydratedRouter> element"),t}function p2(t,e){let n=j.useContext(zf),[r,s]=j.useState(!1),[i,a]=j.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=e,f=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let v=y=>{y.forEach(p=>{a(p.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[t]),j.useEffect(()=>{if(r){let v=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(v)}}},[r]);let m=()=>{s(!0)},x=()=>{s(!1),a(!1)};return n?t!=="intent"?[i,f,{}]:[i,f,{onFocus:$i(o,m),onBlur:$i(l,x),onMouseEnter:$i(c,m),onMouseLeave:$i(d,x),onTouchStart:$i(h,m)}]:[!1,f,{}]}function $i(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function g2({page:t,...e}){let{router:n}=av(),r=j.useMemo(()=>Qx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(x2,{page:t,matches:r,...e}):null}function y2(t){let{manifest:e,routeModules:n}=ov(),[r,s]=j.useState([]);return j.useEffect(()=>{let i=!1;return o2(t,e,n).then(a=>{i||s(a)}),()=>{i=!0}},[t,e,n]),r}function x2({page:t,matches:e,...n}){let r=nr(),{manifest:s,routeModules:i}=ov(),{basename:a}=av(),{loaderData:o,matches:l}=m2(),c=j.useMemo(()=>zp(t,e,l,s,r,"data"),[t,e,l,s,r]),d=j.useMemo(()=>zp(t,e,l,s,r,"assets"),[t,e,l,s,r]),h=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(y=>{var g;let p=s.routes[y.route.id];!p||!p.hasLoader||(!c.some(w=>w.route.id===y.route.id)&&y.route.id in o&&((g=i[y.route.id])!=null&&g.shouldRevalidate)||p.hasClientLoader?v=!0:x.add(y.route.id))}),x.size===0)return[];let b=f2(t,a);return v&&x.size>0&&b.searchParams.set("_routes",e.filter(y=>x.has(y.route.id)).map(y=>y.route.id).join(",")),[b.pathname+b.search]},[a,o,r,s,c,e,t,i]),f=j.useMemo(()=>l2(d,s),[d,s]),m=y2(d);return j.createElement(j.Fragment,null,h.map(x=>j.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),f.map(x=>j.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),m.map(({key:x,link:v})=>j.createElement("link",{key:x,...v})))}function v2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lv&&(window.__reactRouterVersion="7.6.3")}catch{}function b2({basename:t,children:e,window:n}){let r=j.useRef();r.current==null&&(r.current=o1({window:n,v5Compat:!0}));let s=r.current,[i,a]=j.useState({action:s.action,location:s.location}),o=j.useCallback(l=>{j.startTransition(()=>a(l))},[a]);return j.useLayoutEffect(()=>s.listen(o),[s,o]),j.createElement(X1,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uv=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},m){let{basename:x}=j.useContext(gn),v=typeof c=="string"&&cv.test(c),b,y=!1;if(typeof c=="string"&&v&&(b=c,lv))try{let O=new URL(window.location.href),I=c.startsWith("//")?new URL(O.protocol+c):new URL(c),U=Zn(I.pathname,x);I.origin===O.origin&&U!=null?c=U+I.search+I.hash:y=!0}catch{mn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=A1(c,{relative:s}),[g,w,_]=p2(r,f),k=j2(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h});function C(O){e&&e(O),O.defaultPrevented||k(O)}let T=j.createElement("a",{...f,..._,href:b||p,onClick:y||i?e:C,ref:v2(m,w),target:l,"data-discover":!v&&n==="render"?"true":void 0});return g&&!v?j.createElement(j.Fragment,null,T,j.createElement(g2,{page:p})):T});uv.displayName="Link";var w2=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...c},d){let h=po(a,{relative:c.relative}),f=nr(),m=j.useContext(qc),{navigator:x,basename:v}=j.useContext(gn),b=m!=null&&T2(h)&&o===!0,y=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,p=f.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(p=p.toLowerCase(),g=g?g.toLowerCase():null,y=y.toLowerCase()),g&&v&&(g=Zn(g,v)||g);const w=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let _=p===y||!s&&p.startsWith(y)&&p.charAt(w)==="/",k=g!=null&&(g===y||!s&&g.startsWith(y)&&g.charAt(y.length)==="/"),C={isActive:_,isPending:k,isTransitioning:b},T=_?e:void 0,O;typeof r=="function"?O=r(C):O=[r,_?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(C):i;return j.createElement(uv,{...c,"aria-current":T,className:O,ref:d,style:I,to:a,viewTransition:o},typeof l=="function"?l(C):l)});w2.displayName="NavLink";var _2=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:a=Cl,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},m)=>{let x=C2(),v=E2(o,{relative:c}),b=a.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&cv.test(o),p=g=>{if(l&&l(g),g.defaultPrevented)return;g.preventDefault();let w=g.nativeEvent.submitter,_=(w==null?void 0:w.getAttribute("formmethod"))||a;x(w||g.currentTarget,{fetcherKey:e,method:_,navigate:n,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:h})};return j.createElement("form",{ref:m,method:b,action:v,onSubmit:r?l:p,...f,"data-discover":!y&&t==="render"?"true":void 0})});_2.displayName="Form";function k2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dv(t){let e=j.useContext(ji);return Pe(e,k2(t)),e}function j2(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:a}={}){let o=_s(),l=nr(),c=po(t,{relative:i});return j.useCallback(d=>{if(t2(d,e)){d.preventDefault();let h=n!==void 0?n:Xa(l)===Xa(c);o(t,{replace:h,state:r,preventScrollReset:s,relative:i,viewTransition:a})}},[l,o,c,n,r,e,t,s,i,a])}var S2=0,N2=()=>`__${String(++S2)}__`;function C2(){let{router:t}=dv("useSubmit"),{basename:e}=j.useContext(gn),n=V1();return j.useCallback(async(r,s={})=>{let{action:i,method:a,encType:o,formData:l,body:c}=s2(r,e);if(s.navigate===!1){let d=s.fetcherKey||N2();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||a,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function E2(t,{relative:e}={}){let{basename:n}=j.useContext(gn),r=j.useContext(Dn);Pe(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...po(t||".",{relative:e})},a=nr();if(t==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:qn([n,i.pathname])),Xa(i)}function T2(t,e={}){let n=j.useContext(tv);Pe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dv("useViewTransitionState"),s=po(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Zn(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Zn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uc(s.pathname,a)!=null||uc(s.pathname,i)!=null}[...h2];const P2="modulepreload",M2=function(t){return"/Finance-PROD/"+t},Bp={},go=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=M2(l),l in Bp)return;Bp[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":P2,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},D2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>go(async()=>{const{default:r}=await Promise.resolve().then(()=>Ni);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Bf extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class O2 extends Bf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class A2 extends Bf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class R2 extends Bf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ch;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ch||(ch={}));var I2=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class L2{constructor(e,{headers:n={},customFetch:r,region:s=ch.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=D2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return I2(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=n;let o={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(x=>{throw new O2(x)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new A2(d);if(!d.ok)throw new R2(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var St={},Uf={},Gc={},yo={},Xc={},Kc={},F2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pi=F2();const $2=pi.fetch,hv=pi.fetch.bind(pi),fv=pi.Headers,z2=pi.Request,B2=pi.Response,Ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:fv,Request:z2,Response:B2,default:hv,fetch:$2},Symbol.toStringTag,{value:"Module"})),U2=jw(Ni);var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});let W2=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qc.default=W2;var mv=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kc,"__esModule",{value:!0});const H2=mv(U2),V2=mv(Qc);let q2=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=H2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,d=null,h=null,f=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,m="OK")}catch{i.status===404&&v===""?(f=204,m="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,m="OK"),c&&this.shouldThrowOnError)throw new V2.default(c)}return{error:c,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Kc.default=q2;var Y2=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xc,"__esModule",{value:!0});const G2=Y2(Kc);let X2=class extends G2.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Xc.default=X2;var K2=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});const Q2=K2(Xc);let J2=class extends Q2.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};yo.default=J2;var Z2=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gc,"__esModule",{value:!0});const zi=Z2(yo);let ej=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new zi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new zi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new zi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new zi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new zi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gc.default=ej;var Jc={},Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.version=void 0;Zc.version="0.0.0-automated";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.DEFAULT_HEADERS=void 0;const tj=Zc;Jc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${tj.version}`};var pv=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uf,"__esModule",{value:!0});const nj=pv(Gc),rj=pv(yo),sj=Jc;let ij=class gv{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},sj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new nj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new rj.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Uf.default=ij;var Ci=Kt&&Kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(St,"__esModule",{value:!0});St.PostgrestError=St.PostgrestBuilder=St.PostgrestTransformBuilder=St.PostgrestFilterBuilder=St.PostgrestQueryBuilder=St.PostgrestClient=void 0;const yv=Ci(Uf);St.PostgrestClient=yv.default;const xv=Ci(Gc);St.PostgrestQueryBuilder=xv.default;const vv=Ci(yo);St.PostgrestFilterBuilder=vv.default;const bv=Ci(Xc);St.PostgrestTransformBuilder=bv.default;const wv=Ci(Kc);St.PostgrestBuilder=wv.default;const _v=Ci(Qc);St.PostgrestError=_v.default;var aj=St.default={PostgrestClient:yv.default,PostgrestQueryBuilder:xv.default,PostgrestFilterBuilder:vv.default,PostgrestTransformBuilder:bv.default,PostgrestBuilder:wv.default,PostgrestError:_v.default};const{PostgrestClient:oj,PostgrestQueryBuilder:AA,PostgrestFilterBuilder:RA,PostgrestTransformBuilder:IA,PostgrestBuilder:LA,PostgrestError:FA}=aj;function lj(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const cj=lj(),uj="2.11.15",dj=`realtime-js/${uj}`,hj="1.0.0",kv=1e4,fj=1e3;var xa;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xa||(xa={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var on;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(on||(on={}));var uh;(function(t){t.websocket="websocket"})(uh||(uh={}));var rs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rs||(rs={}));class mj{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+s));a=a+s;const l=r.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class jv{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(we||(we={}));const Up=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,a)=>(i[a]=pj(a,t,e,s),i),{})},pj=(t,e,n,r)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=n[t];return i&&!r.includes(i)?Sv(i,a):dh(a)},Sv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return vj(e,n)}switch(t){case we.bool:return gj(e);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return yj(e);case we.json:case we.jsonb:return xj(e);case we.timestamp:return bj(e);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return dh(e);default:return dh(e)}},dh=t=>t,gj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},xj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},vj=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const a=t.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Sv(e,o))}return t},bj=t=>typeof t=="string"?t.replace(" ","T"):t,Nv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Fu{constructor(e,n,r={},s=kv){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wp||(Wp={}));class va{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=va.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=va.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=va.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const f=d.map(b=>b.presence_ref),m=h.map(b=>b.presence_ref),x=d.filter(b=>m.indexOf(b.presence_ref)<0),v=h.filter(b=>f.indexOf(b.presence_ref)<0);x.length>0&&(o[c]=x),v.length>0&&(l[c]=v)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[o].unshift(...f)}r(o,d,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Hp||(Hp={}));var Vp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Vp||(Vp={}));var $n;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class Wf{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,on.join,this.params,this.timeout),this.rejoinTimer=new jv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new va(this),this.broadcastEndpointURL=Nv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>e==null?void 0:e($n.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e($n.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e($n.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<m;v++){const b=f[v],{filter:{event:y,schema:p,table:g,filter:w}}=b,_=d&&d[v];if(_&&_.event===y&&_.schema===p&&_.table===g&&_.filter===w)x.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=ut.errored,e==null||e($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e($n.SUBSCRIBED);return}}).receive("error",d=>{this.state=ut.errored,e==null||e($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Fu(this,on.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fu(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=on;if(r&&[o,l,c,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,v,b;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(v=m.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var x,v,b,y,p,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const w=m.id,_=(x=m.filter)===null||x===void 0?void 0:x.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(p=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:b,commit_timestamp:y,type:p,errors:g}=x;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:y,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(x))}m.callback(f,r)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Wf.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(on.close,{},e)}_onError(e){this._on(on.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Up(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Up(e.columns,e.old_record)),n}}const qp=()=>{},wj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _j{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qp,this.ref=0,this.logger=qp,this.conn=null,this.sendBuffer=[],this.serializer=new mj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>go(async()=>{const{default:l}=await Promise.resolve().then(()=>Ni);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${uh.websocket}`,this.httpEndpoint=Nv(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,a)=>a(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=cj),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hj}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xa.connecting:return rs.Connecting;case xa.open:return rs.Open;case xa.closing:return rs.Closing;default:return rs.Closed}}isConnected(){return this.connectionState()===rs.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Wf(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:dj};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(on.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(fj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(on.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([wj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Hf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class kj extends Hf{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class hh extends Hf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var jj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Cv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>go(async()=>{const{default:r}=await Promise.resolve().then(()=>Ni);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Sj=()=>jj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield go(()=>Promise.resolve().then(()=>Ni),void 0)).Response:Response}),fh=t=>{if(Array.isArray(t))return t.map(n=>fh(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fh(r)}),e};var ks=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const $u=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nj=(t,e,n)=>ks(void 0,void 0,void 0,function*(){const r=yield Sj();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new kj($u(s),t.status||500))}).catch(s=>{e(new hh($u(s),s))}):e(new hh($u(t),t))}),Cj=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function xo(t,e,n,r,s,i){return ks(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,Cj(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Nj(l,o,r))})})}function dc(t,e,n,r){return ks(this,void 0,void 0,function*(){return xo(t,"GET",e,n,r)})}function dr(t,e,n,r,s){return ks(this,void 0,void 0,function*(){return xo(t,"POST",e,r,s,n)})}function Ej(t,e,n,r,s){return ks(this,void 0,void 0,function*(){return xo(t,"PUT",e,r,s,n)})}function Tj(t,e,n,r){return ks(this,void 0,void 0,function*(){return xo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ev(t,e,n,r,s){return ks(this,void 0,void 0,function*(){return xo(t,"DELETE",e,r,s,n)})}var wt=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Pj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mj{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Cv(s)}uploadOrUpdate(e,n,r,s){return wt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Yp),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Je(i))return{data:null,error:i};throw i}})}upload(e,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return wt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Yp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return wt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield dr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Hf("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}update(e,n,r){return wt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return wt(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}copy(e,n,r){return wt(this,void 0,void 0,function*(){try{return{data:{path:(yield dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return wt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return wt(this,void 0,void 0,function*(){try{const s=yield dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}download(e,n){return wt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield dc(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Je(o))return{data:null,error:o};throw o}})}info(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield dc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fh(r),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}exists(e){return wt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Tj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Je(r)&&r instanceof hh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return wt(this,void 0,void 0,function*(){try{return{data:yield Ev(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}list(e,n,r){return wt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Pj),n),{prefix:e||""});return{data:yield dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Je(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Dj="2.7.1",Oj={"X-Client-Info":`storage-js/${Dj}`};var Es=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class Aj{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Oj),n),this.fetch=Cv(r)}listBuckets(){return Es(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Je(e))return{data:null,error:e};throw e}})}getBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield dc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Es(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Es(this,void 0,void 0,function*(){try{return{data:yield Ej(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Es(this,void 0,void 0,function*(){try{return{data:yield Ev(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}}class Rj extends Aj{constructor(e,n={},r){super(e,n,r)}from(e){return new Mj(this.url,this.headers,e,this.fetch)}}const Ij="2.50.2";let Zi="";typeof Deno<"u"?Zi="deno":typeof document<"u"?Zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zi="react-native":Zi="node";const Lj={"X-Client-Info":`supabase-js-${Zi}/${Ij}`},Fj={headers:Lj},$j={schema:"public"},zj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bj={};var Uj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Wj=t=>{let e;return t?e=t:typeof fetch>"u"?e=hv:e=fetch,(...n)=>e(...n)},Hj=()=>typeof Headers>"u"?fv:Headers,Vj=(t,e,n)=>{const r=Wj(n),s=Hj();return(i,a)=>Uj(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},a),{headers:c}))})};var qj=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function Yj(t){return t.endsWith("/")?t:t+"/"}function Gj(t,e){var n,r;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>qj(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Tv="2.70.0",Ls=30*1e3,mh=3,zu=mh*Ls,Xj="http://localhost:9999",Kj="supabase.auth.token",Qj={"X-Client-Info":`gotrue-js/${Tv}`},ph="X-Supabase-Api-Version",Pv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zj=6e5;class Vf extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class eS extends Vf{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tS(t){return se(t)&&t.name==="AuthApiError"}class Mv extends Vf{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class zr extends Vf{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class lr extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nS(t){return se(t)&&t.name==="AuthSessionMissingError"}class Ho extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vo extends zr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qo extends zr{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rS(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class Gp extends zr{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gh extends zr{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Bu(t){return se(t)&&t.name==="AuthRetryableFetchError"}class Xp extends zr{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ba extends zr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kp=` 	
\r=`.split(""),sS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Kp.length;e+=1)t[Kp[e].charCodeAt(0)]=-2;for(let e=0;e<hc.length;e+=1)t[hc[e].charCodeAt(0)]=e;return t})();function Qp(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hc[r]),e.queuedBits-=6}}function Dv(t,e,n){const r=sS[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Jp(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{oS(a,r,n)};for(let a=0;a<t.length;a+=1)Dv(t.charCodeAt(a),s,i);return e.join("")}function iS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function aS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}iS(r,e)}}function oS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function lS(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Dv(t.charCodeAt(s),n,r);return new Uint8Array(e)}function cS(t){const e=[];return aS(t,n=>e.push(n)),new Uint8Array(e)}function uS(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Qp(s,n,r)),Qp(null,n,r),e.join("")}function dS(t){return Math.round(Date.now()/1e3)+t}function hS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const rn=()=>typeof window<"u"&&typeof document<"u",Ur={tested:!1,writable:!1},wa=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ur.tested)return Ur.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ur.tested=!0,Ur.writable=!0}catch{Ur.tested=!0,Ur.writable=!1}return Ur.writable};function fS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ov=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>go(async()=>{const{default:r}=await Promise.resolve().then(()=>Ni);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},mS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Av=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Yo=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Go=async(t,e)=>{await t.removeItem(e)};class eu{constructor(){this.promise=new eu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}eu.promiseConstructor=Promise;function Uu(t){const e=t.split(".");if(e.length!==3)throw new ba("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Jj.test(e[r]))throw new ba("JWT not in base64url format");return{header:JSON.parse(Jp(e[0])),payload:JSON.parse(Jp(e[1])),signature:lS(e[2]),raw:{header:e[0],payload:e[1]}}}async function pS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gS(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){r(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function yS(t){return("0"+t.toString(16)).substr(-2)}function xS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,yS).join("")}async function vS(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function bS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await vS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ts(t,e,n=!1){const r=xS();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Av(t,`${e}-code-verifier`,s);const i=await bS(r);return[i,r===i?"plain":"s256"]}const wS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _S(t){const e=t.headers.get(ph);if(!e||!e.match(wS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function jS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ps(t){if(!SS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var NS=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Jr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CS=[502,503,504];async function Zp(t){var e;if(!mS(t))throw new gh(Jr(t),0);if(CS.includes(t.status))throw new gh(Jr(t),t.status);let n;try{n=await t.json()}catch(i){throw new Mv(Jr(i),i)}let r;const s=_S(t);if(s&&s.getTime()>=Pv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xp(Jr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new lr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Xp(Jr(n),t.status,n.weak_password.reasons);throw new eS(Jr(n),t.status||500,r)}const ES=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ae(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ph]||(i[ph]=Pv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await TS(t,e,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function TS(t,e,n,r,s,i){const a=ES(e,r,s,i);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new gh(Jr(l),0)}if(o.ok||await Zp(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Zp(l)}}function Rn(t){var e;let n=null;OS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=dS(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function eg(t){const e=Rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function pr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PS(t){return{data:t,error:null}}function MS(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,a=NS(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function DS(t){return t}function OS(t){return t.access_token&&t.refresh_token&&t.expires_in}const Wu=["global","local","others"];var AS=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class RS{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ov(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Wu[0]){if(Wu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wu.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:pr})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=AS(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:MS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:pr})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:DS});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);c[`${b}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(se(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ps(e);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:pr})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ps(e);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:pr})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ps(e);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:pr})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ps(e.userId);try{const{data:n,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ps(e.userId),Ps(e.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}const IS={getItem:t=>wa()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{wa()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{wa()&&globalThis.localStorage.removeItem(t)}};function tg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function LS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ms={debug:!!(globalThis&&wa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class FS extends Rv{}async function $S(t,e,n){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new FS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ms.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}LS();const zS={url:Xj,storageKey:Kj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ng(t,e,n){return await n()}class Ka{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ka.nextInstanceID,Ka.nextInstanceID+=1,this.instanceID>0&&rn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},zS),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new RS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ov(s.fetch),this.lock=s.lock||ng,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:rn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$S:this.lock=ng,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:wa()?this.storage=IS:(this.memoryStorage={},this.storage=tg(this.memoryStorage)):(this.memoryStorage={},this.storage=tg(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=fS(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),rn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),rS(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?{error:n}:{error:new Mv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rn}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await Ts(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:x},xform:Rn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Rn})}else throw new Vo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:a,options:o}=e;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:eg})}else if("phone"in e){const{phone:i,password:a,options:o}=e;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:eg})}else throw new Vo("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ho}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,a,o,l,c,d,h,f,m;let x,v;if("message"in e)x=e.message,v=e.signature;else{const{chain:b,wallet:y,statement:p,options:g}=e;let w;if(rn())if(typeof y=="object")w=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:b,error:y}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:uS(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Rn});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ho}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(se(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Yo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:a}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Rn});if(await Go(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ho}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(se(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=e,o=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rn}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ho}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ts(this.storage,this.storageKey));const{error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Vo("You must provide either an email or phone number.")}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Rn});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Ts(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:PS})}catch(i){if(se(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new lr;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(se(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:a}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:a,error:o}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Vo("You must provide either an email or phone number and a type")}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Yo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:pr}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lr}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:pr})})}catch(n){if(se(n))return nS(n)&&(await this._removeSession(),await Go(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new lr;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Ts(this.storage,this.storageKey));const{data:c,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:pr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new lr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Uu(e.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new lr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!rn())throw new qo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gp("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!a||!c)throw new qo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=Ls&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Yo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(tS(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Go(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=hS(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ts(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(se(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return rn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(se(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await gS(async s=>(s>0&&await pS(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Bu(i)&&Date.now()+a-r<Ls})}catch(r){if(this._debug(n,"error",r),se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),rn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Yo(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<zu;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${zu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Bu(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eu;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new lr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),se(i)){const a={session:null,error:i};return Bu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Av(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Go(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ls);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ls);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ls}ms, refresh threshold is ${mh} ticks`),s<=mh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Rv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ts(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:a,error:o}=await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Uu(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Zj>Date.now()))return r;const{data:s,error:i}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ba("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(a=>a.kid===e),!r)throw new ba("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};r=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Uu(r);if(kS(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const c=jS(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,cS(`${o}.${l}`)))throw new ba("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}Ka.nextInstanceID=0;const BS=Ka;class US extends BS{constructor(e){super(e)}}var WS=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(d){try{c(r.next(d))}catch(h){a(h)}}function l(d){try{c(r.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class HS{constructor(e,n,r){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=Yj(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:$j,realtime:Bj,auth:Object.assign(Object.assign({},zj),{storageKey:c}),global:Fj},h=Gj(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Vj(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new oj(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new L2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rj(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return WS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new US({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new _j(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VS=(t,e,n)=>new HS(t,e,n),qS="https://yjaowwmsacyvefrvwyof.supabase.co",YS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlqYW93d21zYWN5dmVmcnZ3eW9mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMjM4MDUsImV4cCI6MjA2NjY5OTgwNX0.IBa57ArMm-JdETswIFJNtDaaHaBz0wcroU80QblgiDk",te=VS(qS,YS),Iv=j.createContext(void 0),Br=()=>{const t=j.useContext(Iv);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},GS=({children:t})=>{const[e,n]=j.useState(null),[r,s]=j.useState(!0),[i,a]=j.useState(null),[o,l]=j.useState(null),c=()=>{a(null),l(null)};j.useEffect(()=>{(async()=>{try{const{data:{session:y}}=await te.auth.getSession();n((y==null?void 0:y.user)??null)}catch(y){console.error("Erro ao obter sessão:",y),n(null)}finally{s(!1)}})();const{data:{subscription:b}}=te.auth.onAuthStateChange(async(y,p)=>{var g;console.log("Auth state changed:",y,(g=p==null?void 0:p.user)==null?void 0:g.email),n((p==null?void 0:p.user)??null),s(!1)});return()=>b.unsubscribe()},[]);const d=async(v,b)=>{s(!0),c();try{const{data:y,error:p}=await te.auth.signInWithPassword({email:v,password:b});if(p){console.error("❌ SUPABASE: Erro no login:",p.message);const g=p.message.toLowerCase();let w="Email ou senha incorretos. Verifique suas credenciais e tente novamente.";throw g.includes("email not confirmed")?(l("email_not_confirmed"),w=`Seu email (${v}) ainda não foi confirmado. Verifique sua caixa de entrada.`):g.includes("invalid login credentials")?(l("invalid_credentials"),w="Email ou senha incorretos. Verifique suas credenciais e tente novamente."):(l("general"),w=p.message),a(w),new Error(w)}else if(y.user)n(y.user),c();else{const g="Ocorreu um erro desconhecido durante o login.";throw l("general"),a(g),new Error(g)}}catch(y){if(console.error("🔥 App: Erro no catch do login:",y),y.message&&(y.message.includes("Email ou senha")||y.message.includes("email")))throw y;const p="Erro de conexão. Verifique sua internet e tente novamente.";throw l("network_error"),a(p),new Error(p)}finally{s(!1)}},h=async(v,b,y)=>{s(!0);try{const{data:p,error:g}=await te.auth.signUp({email:b,password:y,options:{data:{name:v,full_name:v}}});return g?(console.error("Erro no registro:",g.message),{success:!1,error:g.message}):p.user?(p.user.email_confirmed_at?n(p.user):console.log("Email de confirmação enviado para:",b),{success:!0}):{success:!1,error:"Erro ao criar usuário"}}catch(p){return console.error("Erro no registro:",p),{success:!1,error:"Erro de conexão"}}finally{s(!1)}},f=async()=>{s(!0);try{const{error:v}=await te.auth.signOut();v&&console.error("Erro no logout:",v.message),n(null)}catch(v){console.error("Erro no logout:",v)}finally{s(!1)}},x={user:e,login:d,isLoading:r,error:i,errorType:o,clearError:c,register:h,logout:f,signOut:f,updateProfile:async v=>{if(e)try{const{error:b}=await te.auth.updateUser({data:{name:v.name,avatar_url:v.avatar_url}});if(b)throw b}catch(b){throw console.error("Erro ao atualizar perfil:",b),b}}};return u.jsx(Iv.Provider,{value:x,children:t})},XS=j.createContext(void 0),KS=({children:t})=>(j.useEffect(()=>{document.documentElement.classList.add("dark"),document.body.style.backgroundColor="#0f172a"},[]),u.jsx(XS.Provider,{value:{isDark:!0},children:t})),Lv=j.createContext(void 0),it=()=>{const t=j.useContext(Lv);if(!t)throw new Error("useFinance must be used within a FinanceProvider");return t},QS=({children:t})=>{const{user:e}=Br(),[n,r]=j.useState([]),[s,i]=j.useState([]),[a,o]=j.useState([]),[l,c]=j.useState([]),[d,h]=j.useState([]),[f,m]=j.useState([]),[x,v]=j.useState([]),[b,y]=j.useState([]),[p,g]=j.useState(!0),[w,_]=j.useState(!1),[k,C]=j.useState(new Date().getFullYear()),[T,O]=j.useState(new Date().getMonth()),I=()=>Math.floor(Date.now()/1e3),U=async()=>{if(e)try{const{data:P,error:E}=await te.from("banks").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(E){console.error("Erro ao buscar bancos:",E);return}if(!P||P.length<=3)return;const R={};P.forEach(Y=>{const re=`${Y.name}-${Y.type}`;R[re]||(R[re]=[]),R[re].push(Y)});const q=[];if(Object.values(R).forEach(Y=>{if(Y.length>1)for(let re=1;re<Y.length;re++)q.push(Y[re].id)}),q.length>0){console.log(`Removendo ${q.length} bancos duplicados...`);for(const Y of q)await te.from("banks").delete().eq("id",Y).eq("user_id",e.id);console.log("Bancos duplicados removidos com sucesso!")}}catch(P){console.error("Erro ao remover bancos duplicados:",P)}},M=async()=>{if(e)try{const{data:P,error:E}=await te.from("transactions").select("*").eq("user_id",e.id).eq("payment_method","creditCard").is("invoice_month",null);if(E){console.error("Erro ao buscar transações para atualizar:",E);return}if(!P||P.length===0){console.log("Nenhuma transação precisa ser atualizada");return}console.log(`Atualizando ${P.length} transações...`);for(const R of P){const q=new Date(R.date),{error:Y}=await te.from("transactions").update({invoice_month:q.getMonth(),invoice_year:q.getFullYear()}).eq("id",R.id).eq("user_id",e.id);Y&&console.error("Erro ao atualizar transação:",Y)}console.log("Transações atualizadas com sucesso!")}catch(P){console.error("Erro ao atualizar transações:",P)}},$=async()=>{if(!e){g(!1);return}g(!0);try{await U(),await M();const{data:P,error:E}=await te.from("transactions").select(`
          *,
          categories (
            name
          )
        `).eq("user_id",e.id).order("order_index",{ascending:!1});if(E)console.error("Erro ao carregar transações:",E);else{const Dt=(P||[]).map(X=>{var jm;return{id:X.id,type:X.type==="receita"?"income":"expense",amount:parseFloat(X.amount)||0,category:((jm=X.categories)==null?void 0:jm.name)||"Sem categoria",description:X.description||"",date:new Date(X.date),tags:X.tags||[],paymentMethod:X.payment_method,bankId:X.bank_id,isInstallment:X.is_installment||!1,installmentDetails:X.installment_details,order:X.order_index||0,invoiceMonth:X.invoice_month,invoiceYear:X.invoice_year}});r(Dt)}const{data:R,error:q}=await te.from("banks").select("*").eq("user_id",e.id).order("created_at",{ascending:!0});if(q)console.error("Erro ao carregar bancos:",q);else{const Dt=(R||[]).map(X=>({id:X.id,name:X.name,color:X.color,type:X.type,creditLimit:X.credit_limit?parseFloat(X.credit_limit):void 0,closingDay:X.closing_day,dueDay:X.due_day}));o(Dt),_(!0)}const{data:Y,error:re}=await te.from("budgets").select("*").eq("user_id",e.id);if(re)console.error("Erro ao carregar orçamentos:",re);else{const Dt=(Y||[]).map(X=>({id:X.id,category:X.category,targetAmount:parseFloat(X.target_amount)||0,month:X.month,alertThreshold:X.alert_threshold||80}));i(Dt)}const{data:ve,error:be}=await te.from("goals").select("*").eq("user_id",e.id);if(be)console.error("Erro ao carregar metas:",be);else{const Dt=(ve||[]).map(X=>({id:X.id,title:X.title,description:X.description||"",targetAmount:parseFloat(X.target_amount)||0,currentAmount:parseFloat(X.current_amount)||0,targetDate:new Date(X.target_date),category:X.category,priority:X.priority,isCompleted:X.is_completed||!1,createdAt:new Date(X.created_at)}));v(Dt)}const{data:yn,error:On}=await te.from("recurring_transactions").select("*").eq("user_id",e.id);if(On)console.error("Erro ao carregar transações recorrentes:",On);else{const Dt=(yn||[]).map(X=>({id:X.id,description:X.description,amount:parseFloat(X.amount)||0,category:X.category,type:X.type,dayOfMonth:X.day_of_month,lastProcessed:X.last_processed,isActive:X.is_active!==!1}));c(Dt)}const{data:Pi,error:_m}=await te.from("monthly_balances").select("*").eq("user_id",e.id);if(_m)console.error("Erro ao carregar saldos mensais:",_m);else{const Dt=(Pi||[]).map(X=>({month:`${X.year}-${String(X.month).padStart(2,"0")}`,startingBalance:parseFloat(X.initial_balance)||0}));h(Dt)}const{data:bw,error:km}=await te.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(km)console.error("Erro ao carregar notificações:",km);else{const Dt=(bw||[]).map(X=>({id:X.id,title:X.title,message:X.message,type:X.type,date:new Date(X.created_at),read:X.read||!1}));m(Dt)}}catch(P){console.error("Erro geral ao carregar dados do usuário:",P),await bm({title:"Erro",message:"Erro ao carregar dados. Tente recarregar a página.",type:"error",date:new Date,read:!1})}finally{g(!1)}};j.useEffect(()=>{$()},[e]);const S=async P=>{var E;if(!e)throw new Error("Usuário não autenticado");try{console.log("Adicionando transação:",P);let R=null;if(P.category){const{data:be,error:yn}=await te.from("categories").select("id").eq("user_id",e.id).eq("name",P.category).eq("type",P.type==="income"?"receita":"despesa").limit(1);if(yn)throw console.error("Erro ao buscar categoria:",yn),yn;if(be&&be.length>0)R=be[0].id;else{const{data:On,error:Pi}=await te.from("categories").insert({user_id:e.id,name:P.category,type:P.type==="income"?"receita":"despesa",color:"#3B82F6"}).select("id").single();if(Pi)throw console.error("Erro ao criar categoria:",Pi),Pi;R=On.id}}const q={user_id:e.id,category_id:R,title:P.category||"Transação",description:P.description||"",amount:P.amount,type:P.type==="income"?"receita":"despesa",date:P.date.toISOString().split("T")[0],tags:P.tags||[],payment_method:P.paymentMethod||"money",bank_id:P.bankId,is_installment:P.isInstallment||!1,installment_details:P.installmentDetails,order_index:P.order||I(),invoice_month:P.paymentMethod==="creditCard"?P.date.getMonth():null,invoice_year:P.paymentMethod==="creditCard"?P.date.getFullYear():null};console.log("Dados para inserir no Supabase:",q);const{data:Y,error:re}=await te.from("transactions").insert(q).select(`
          *,
          categories (
            name
          )
        `).single();if(re)throw console.error("Erro ao inserir transação no Supabase:",re),re;console.log("Transação inserida com sucesso:",Y);const ve={id:Y.id,type:Y.type==="receita"?"income":"expense",amount:parseFloat(Y.amount)||0,category:((E=Y.categories)==null?void 0:E.name)||"Sem categoria",description:Y.description||"",date:new Date(Y.date),tags:Y.tags||[],paymentMethod:Y.payment_method,bankId:Y.bank_id,isInstallment:Y.is_installment||!1,installmentDetails:Y.installment_details,order:Y.order_index||0,invoiceMonth:Y.invoice_month,invoiceYear:Y.invoice_year};r(be=>[ve,...be]),console.log("Transação adicionada ao estado local")}catch(R){throw console.error("Erro ao adicionar transação:",R),R}},z=async(P,E)=>{if(e)try{const R={};if(E.type&&(R.type=E.type==="income"?"receita":"despesa"),E.amount!==void 0&&(R.amount=E.amount),E.description!==void 0&&(R.description=E.description),E.date&&(R.date=E.date.toISOString().split("T")[0],E.paymentMethod==="creditCard"?(R.invoice_month=E.date.getMonth(),R.invoice_year=E.date.getFullYear()):(R.invoice_month=null,R.invoice_year=null)),E.tags&&(R.tags=E.tags),E.paymentMethod!==void 0&&(R.payment_method=E.paymentMethod),E.bankId!==void 0&&(R.bank_id=E.bankId),E.isInstallment!==void 0&&(R.is_installment=E.isInstallment),E.installmentDetails&&(R.installment_details=E.installmentDetails),E.order!==void 0&&(R.order_index=E.order),E.category){const{data:Y,error:re}=await te.from("categories").select("id").eq("user_id",e.id).eq("name",E.category).eq("type",E.type==="income"?"receita":"despesa").limit(1);if(re)throw re;if(Y&&Y.length>0)R.category_id=Y[0].id;else{const{data:ve,error:be}=await te.from("categories").insert({user_id:e.id,name:E.category,type:E.type==="income"?"receita":"despesa",color:"#3B82F6"}).select("id").single();if(be)throw be;R.category_id=ve.id}}const{error:q}=await te.from("transactions").update(R).eq("id",P).eq("user_id",e.id);if(q)throw q;r(Y=>Y.map(re=>re.id===P?{...re,...E}:re))}catch(R){throw console.error("Erro ao atualizar transação:",R),R}},A=async P=>{if(e)try{const{error:E}=await te.from("transactions").delete().eq("id",P).eq("user_id",e.id);if(E)throw E;r(R=>R.filter(q=>q.id!==P))}catch(E){throw console.error("Erro ao deletar transação:",E),E}},V=async P=>{if(e)try{const E=P.map((q,Y)=>({id:q.id,order_index:P.length-Y}));for(const q of E)await te.from("transactions").update({order_index:q.order_index}).eq("id",q.id).eq("user_id",e.id);const R=P.map((q,Y)=>({...q,order:P.length-Y}));r(R)}catch(E){throw console.error("Erro ao reordenar transações:",E),E}},L=async P=>{if(e)try{const{data:E,error:R}=await te.from("budgets").upsert({user_id:e.id,category:P.category,target_amount:P.targetAmount,month:P.month,alert_threshold:P.alertThreshold||80}).select().single();if(R)throw R;const q={id:E.id,category:E.category,targetAmount:parseFloat(E.target_amount)||0,month:E.month,alertThreshold:E.alert_threshold||80};i(Y=>{const re=Y.find(ve=>ve.category===P.category&&ve.month===P.month);return re?Y.map(ve=>ve.id===re.id?q:ve):[...Y,q]})}catch(E){throw console.error("Erro ao adicionar orçamento:",E),E}},N=async(P,E)=>{if(e)try{const R={};E.category&&(R.category=E.category),E.targetAmount!==void 0&&(R.target_amount=E.targetAmount),E.month&&(R.month=E.month),E.alertThreshold!==void 0&&(R.alert_threshold=E.alertThreshold);const{error:q}=await te.from("budgets").update(R).eq("id",P).eq("user_id",e.id);if(q)throw q;i(Y=>Y.map(re=>re.id===P?{...re,...E}:re))}catch(R){throw console.error("Erro ao atualizar orçamento:",R),R}},F=async P=>{if(e)try{const{error:E}=await te.from("budgets").delete().eq("id",P).eq("user_id",e.id);if(E)throw E;i(R=>R.filter(q=>q.id!==P))}catch(E){throw console.error("Erro ao deletar orçamento:",E),E}},H=async P=>{if(e)try{const{data:E,error:R}=await te.from("banks").insert({user_id:e.id,name:P.name,color:P.color,type:P.type,credit_limit:P.creditLimit,closing_day:P.closingDay,due_day:P.dueDay}).select().single();if(R)throw R;const q={id:E.id,name:E.name,color:E.color,type:E.type,creditLimit:E.credit_limit?parseFloat(E.credit_limit):void 0,closingDay:E.closing_day,dueDay:E.due_day};o(Y=>[...Y,q])}catch(E){throw console.error("Erro ao adicionar banco:",E),E}},J=async(P,E)=>{if(e)try{const R={};E.name&&(R.name=E.name),E.color&&(R.color=E.color),E.type&&(R.type=E.type),E.creditLimit!==void 0&&(R.credit_limit=E.creditLimit),E.closingDay!==void 0&&(R.closing_day=E.closingDay),E.dueDay!==void 0&&(R.due_day=E.dueDay);const{error:q}=await te.from("banks").update(R).eq("id",P).eq("user_id",e.id);if(q)throw q;o(Y=>Y.map(re=>re.id===P?{...re,...E}:re))}catch(R){throw console.error("Erro ao atualizar banco:",R),R}},Ce=async P=>{if(e)try{const{error:E}=await te.from("banks").delete().eq("id",P).eq("user_id",e.id);if(E)throw E;o(R=>R.filter(q=>q.id!==P)),r(R=>R.map(q=>q.bankId===P?{...q,bankId:void 0}:q))}catch(E){throw console.error("Erro ao deletar banco:",E),E}},fe=async P=>{if(e)try{const{data:E,error:R}=await te.from("goals").insert({user_id:e.id,title:P.title,description:P.description,target_amount:P.targetAmount,current_amount:P.currentAmount,target_date:P.targetDate.toISOString().split("T")[0],category:P.category,priority:P.priority,is_completed:P.isCompleted}).select().single();if(R)throw R;const q={id:E.id,title:E.title,description:E.description||"",targetAmount:parseFloat(E.target_amount)||0,currentAmount:parseFloat(E.current_amount)||0,targetDate:new Date(E.target_date),category:E.category,priority:E.priority,isCompleted:E.is_completed||!1,createdAt:new Date(E.created_at)};v(Y=>[...Y,q])}catch(E){throw console.error("Erro ao adicionar meta:",E),E}},at=async(P,E)=>{if(e)try{const R={};E.title&&(R.title=E.title),E.description!==void 0&&(R.description=E.description),E.targetAmount!==void 0&&(R.target_amount=E.targetAmount),E.currentAmount!==void 0&&(R.current_amount=E.currentAmount),E.targetDate&&(R.target_date=E.targetDate.toISOString().split("T")[0]),E.category&&(R.category=E.category),E.priority&&(R.priority=E.priority),E.isCompleted!==void 0&&(R.is_completed=E.isCompleted);const{error:q}=await te.from("goals").update(R).eq("id",P).eq("user_id",e.id);if(q)throw q;v(Y=>Y.map(re=>re.id===P?{...re,...E}:re))}catch(R){throw console.error("Erro ao atualizar meta:",R),R}},He=async P=>{if(e)try{const{error:E}=await te.from("goals").delete().eq("id",P).eq("user_id",e.id);if(E)throw E;v(R=>R.filter(q=>q.id!==P))}catch(E){throw console.error("Erro ao deletar meta:",E),E}},Ns=async P=>{if(e)try{const{data:E,error:R}=await te.from("recurring_transactions").insert({user_id:e.id,description:P.description,amount:P.amount,category:P.category,type:P.type,day_of_month:P.dayOfMonth,last_processed:P.lastProcessed,is_active:P.isActive}).select().single();if(R)throw R;const q={id:E.id,description:E.description,amount:parseFloat(E.amount)||0,category:E.category,type:E.type,dayOfMonth:E.day_of_month,lastProcessed:E.last_processed,isActive:E.is_active!==!1};c(Y=>[...Y,q])}catch(E){throw console.error("Erro ao adicionar transação recorrente:",E),E}},mw=async P=>{if(e)try{const{error:E}=await te.from("recurring_transactions").delete().eq("id",P).eq("user_id",e.id);if(E)throw E;c(R=>R.filter(q=>q.id!==P))}catch(E){throw console.error("Erro ao deletar transação recorrente:",E),E}},pw=async(P,E)=>{if(e)try{const[R,q]=P.split("-").map(Number),{data:Y,error:re}=await te.from("monthly_balances").upsert({user_id:e.id,month:q,year:R,initial_balance:E}).select().single();if(re)throw re;h(ve=>{const be=ve.find(On=>On.month===P),yn={month:P,startingBalance:E};return be?ve.map(On=>On.month===P?yn:On):[...ve,yn]})}catch(R){throw console.error("Erro ao definir saldo mensal:",R),R}},bm=async P=>{if(e)try{const{data:E,error:R}=await te.from("notifications").insert({user_id:e.id,title:P.title,message:P.message,type:P.type,read:P.read}).select().single();if(R)throw R;const q={id:E.id,title:E.title,message:E.message,type:E.type,date:new Date(E.created_at),read:E.read||!1};m(Y=>[q,...Y])}catch(E){console.error("Erro ao adicionar notificação:",E)}},gw=async P=>{if(e)try{const{error:E}=await te.from("notifications").update({read:!0}).eq("id",P).eq("user_id",e.id);if(E)throw E;m(R=>R.map(q=>q.id===P?{...q,read:!0}:q))}catch(E){console.error("Erro ao marcar notificação como lida:",E)}},yw=async()=>{if(e)try{const{error:P}=await te.from("notifications").delete().eq("user_id",e.id);if(P)throw P;m([])}catch(P){console.error("Erro ao limpar notificações:",P)}},xw=(P,E)=>{C(P),O(E)},wm=()=>n.filter(P=>P.date.getFullYear()===k&&P.date.getMonth()===T),vw={transactions:n,budgets:s,banks:a,recurringTransactions:l,monthlyBalances:d,notifications:f,goals:x,invoices:b,isLoading:p,selectedYear:k,selectedMonth:T,addTransaction:S,updateTransaction:z,deleteTransaction:A,reorderTransactions:V,addBudget:L,updateBudget:N,deleteBudget:F,addBank:H,updateBank:J,deleteBank:Ce,addGoal:fe,updateGoal:at,deleteGoal:He,addRecurringTransaction:Ns,deleteRecurringTransaction:mw,setMonthlyBalance:pw,addNotification:bm,markNotificationAsRead:gw,clearAllNotifications:yw,setSelectedDate:xw,getCurrentMonthTransactions:wm,getCurrentMonthBudgets:()=>{const P=`${k}-${String(T+1).padStart(2,"0")}`;return s.filter(E=>E.month===P)},getCurrentMonthBalance:()=>{const P=`${k}-${String(T+1).padStart(2,"0")}`,E=d.find(ve=>ve.month===P),R=(E==null?void 0:E.startingBalance)||0,q=wm(),Y=q.filter(ve=>ve.type==="income").reduce((ve,be)=>ve+be.amount,0),re=q.filter(ve=>ve.type==="expense").reduce((ve,be)=>ve+be.amount,0);return R+Y-re},getUnreadNotificationsCount:()=>f.filter(P=>!P.read).length,getBankInvoice:(P,E,R)=>{const q=a.find(be=>be.id===P),Y=n.filter(be=>be.bankId===P&&be.paymentMethod==="creditCard"&&be.invoiceMonth===E&&be.invoiceYear===R),re=Y.reduce((be,yn)=>be+yn.amount,0),ve=new Date(R,E+1,(q==null?void 0:q.dueDay)||10);return{id:`${P}-${R}-${E}`,bankId:P,month:E,year:R,totalAmount:re,dueDate:ve,isPaid:!1,transactions:Y}},getGoalProgress:P=>{const E=x.find(R=>R.id===P);return!E||E.targetAmount===0?0:Math.min(E.currentAmount/E.targetAmount*100,100)},loadUserData:$,forceUpdateAllCreditCardTransactions:async()=>{if(e)try{const{data:P,error:E}=await te.from("transactions").select("*").eq("user_id",e.id).eq("payment_method","creditCard");if(E){console.error("Erro ao buscar transações:",E);return}if(!P||P.length===0){console.log("Nenhuma transação com cartão de crédito encontrada");return}console.log(`Atualizando ${P.length} transações...`);for(const R of P){const q=new Date(R.date),{error:Y}=await te.from("transactions").update({invoice_month:q.getMonth(),invoice_year:q.getFullYear()}).eq("id",R.id).eq("user_id",e.id);Y&&console.error("Erro ao atualizar transação:",Y)}await $(),console.log("Todas as transações foram atualizadas com sucesso!")}catch(P){console.error("Erro ao atualizar transações:",P)}}};return u.jsx(Lv.Provider,{value:vw,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>j.createElement("svg",{ref:d,...JS,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ZS(t)}`,o].join(" "),...c},[...e.map(([h,f])=>j.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=K("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=K("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=K("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=K("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=K("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=K("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=K("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=K("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=K("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=K("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=K("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=K("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=K("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=K("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=K("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=K("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=K("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=K("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=K("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=K("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=K("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=K("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=K("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=K("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=K("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_N=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(""),[s,i]=j.useState(!1),[a,o]=j.useState(""),[l,c]=j.useState(!1),{user:d}=Br(),h=_s();j.useEffect(()=>{d&&h("/dashboard",{replace:!0})},[d,h]);const f=async m=>{if(m.preventDefault(),o(""),c(!0),!t||!n){o("Por favor, preencha todos os campos."),c(!1);return}try{const{data:x,error:v}=await te.auth.signInWithPassword({email:t,password:n});if(v){let b="Email ou senha incorretos. Tente novamente.";v.message.toLowerCase().includes("email not confirmed")&&(b="Seu email ainda não foi confirmado. Verifique sua caixa de entrada."),o(b)}else x.user}catch{o("Erro de conexão. Verifique sua internet e tente novamente.")}finally{c(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-xl",children:u.jsx(Yn,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:"FinanceApp"}),u.jsx("p",{className:"text-gray-400",children:"Controle seus gastos de forma inteligente"})]}),u.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl p-8 border border-slate-700",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bem-vindo!"}),u.jsx("p",{className:"text-gray-400",children:"Entre em sua conta para continuar"})]}),a&&u.jsxs("div",{className:"mb-6 p-4 bg-red-900/30 border border-red-700 rounded-lg flex items-center space-x-3",children:[u.jsx(qf,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),u.jsx("p",{className:"text-sm text-red-300",children:a})]}),u.jsxs("form",{onSubmit:f,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail"}),u.jsx("input",{type:"email",id:"email",value:t,onChange:m=>e(m.target.value),className:"w-full px-4 py-3 border border-slate-600 rounded-lg bg-slate-700 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"seu@email.com",disabled:l,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:m=>r(m.target.value),className:"w-full px-4 py-3 border border-slate-600 rounded-lg bg-slate-700 text-white placeholder-gray-400 pr-12 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Sua senha",disabled:l,required:!0}),u.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300 transition-colors",disabled:l,children:s?u.jsx(pc,{className:"w-5 h-5"}):u.jsx(Ja,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"flex items-center justify-end",children:u.jsx("button",{type:"button",className:"text-sm text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Esqueci minha senha"})}),u.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg transition-all duration-300",children:l?u.jsxs(u.Fragment,{children:[u.jsx(Yf,{className:"w-5 h-5 animate-spin mr-2"}),"Entrando..."]}):"Entrar"})]}),u.jsx("div",{className:"mt-8 text-center",children:u.jsxs("p",{className:"text-gray-400",children:["Não tem uma conta?"," ",u.jsx("button",{onClick:()=>h("/register"),className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",disabled:l,children:"Criar conta"})]})})]})]})})},kN=()=>{const[t,e]=j.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=j.useState(!1),[s,i]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState(""),[d,h]=j.useState(""),{register:f,isLoading:m}=Br(),x=_s(),v=[{label:"Pelo menos 8 caracteres",valid:t.password.length>=8},{label:"Uma letra minúscula",valid:/[a-z]/.test(t.password)},{label:"Uma letra maiúscula",valid:/[A-Z]/.test(t.password)},{label:"Um número",valid:/\d/.test(t.password)}],b=v.every(g=>g.valid),y=g=>{e({...t,[g.target.name]:g.target.value})},p=async g=>{if(g.preventDefault(),c(""),h(""),!t.name||!t.email||!t.password||!t.confirmPassword){c("Por favor, preencha todos os campos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){c("Por favor, insira um email válido");return}if(!b){c("A senha não atende aos requisitos mínimos");return}if(t.password!==t.confirmPassword){c("As senhas não coincidem");return}if(!a){c("Você deve aceitar os termos de uso");return}try{const _=await f(t.name,t.email,t.password);_.success?(h("Conta criada com sucesso! Redirecionando para o login..."),setTimeout(()=>{x("/login")},2e3)):c(_.error||"Erro ao criar conta. Verifique os dados e tente novamente.")}catch{c("Erro ao criar conta. Tente novamente.")}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl mb-4 shadow-2xl",children:u.jsx(Yn,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"FinanceApp"}),u.jsx("p",{className:"text-gray-400",children:"Crie sua conta e comece a controlar seus gastos"})]}),u.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl p-8 border border-slate-700 backdrop-blur-sm",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Criar Conta"}),u.jsx("p",{className:"text-gray-400",children:"Preencha os dados para começar"})]}),l&&u.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-800 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-400",children:l})}),d&&u.jsx("div",{className:"mb-4 p-3 bg-green-900/20 border border-green-800 rounded-lg",children:u.jsx("p",{className:"text-sm text-green-400",children:d})}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Nome completo"}),u.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:y,className:"w-full px-4 py-3 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-700 text-white placeholder-gray-400 transition-colors",placeholder:"Seu nome completo",disabled:m,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"E-mail"}),u.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:y,className:"w-full px-4 py-3 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-700 text-white placeholder-gray-400 transition-colors",placeholder:"seu@email.com",disabled:m,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:t.password,onChange:y,className:"w-full px-4 py-3 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-700 text-white placeholder-gray-400 pr-12 transition-colors",placeholder:"Sua senha",disabled:m,required:!0}),u.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300 transition-colors",disabled:m,children:n?u.jsx(pc,{className:"w-5 h-5"}):u.jsx(Ja,{className:"w-5 h-5"})})]}),t.password&&u.jsxs("div",{className:"mt-2 p-3 bg-slate-700 rounded-lg",children:[u.jsx("p",{className:"text-xs font-medium text-gray-300 mb-2",children:"Requisitos da senha:"}),u.jsx("div",{className:"space-y-1",children:v.map((g,w)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[g.valid?u.jsx($v,{className:"w-3 h-3 text-green-400"}):u.jsx(rr,{className:"w-3 h-3 text-red-400"}),u.jsx("span",{className:`text-xs ${g.valid?"text-green-400":"text-red-400"}`,children:g.label})]},w))})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirmar senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:s?"text":"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:y,className:"w-full px-4 py-3 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-700 text-white placeholder-gray-400 pr-12 transition-colors",placeholder:"Confirme sua senha",disabled:m,required:!0}),u.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300 transition-colors",disabled:m,children:s?u.jsx(pc,{className:"w-5 h-5"}):u.jsx(Ja,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("input",{type:"checkbox",id:"acceptTerms",checked:a,onChange:g=>o(g.target.checked),className:"w-4 h-4 text-blue-600 bg-slate-700 border-slate-600 rounded focus:ring-blue-500 focus:ring-2 mt-1",disabled:m}),u.jsxs("label",{htmlFor:"acceptTerms",className:"ml-2 text-sm text-gray-400",children:["Eu aceito os"," ",u.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"termos de uso"})," ","e"," ",u.jsx("a",{href:"#",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"política de privacidade"}),"."]})]}),u.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 flex items-center justify-center shadow-lg transition-all duration-300",children:m?u.jsx(Yf,{className:"w-5 h-5 animate-spin"}):"Criar minha conta"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-gray-400",children:["Já tem uma conta?"," ",u.jsx("button",{onClick:()=>x("/login"),className:"text-blue-400 hover:text-blue-300 font-medium",disabled:m,children:"Entrar"})]})})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bo(t){return t+.5|0}const vr=(t,e,n)=>Math.max(Math.min(t,n),e);function ea(t){return vr(bo(t*2.55),0,255)}function Dr(t){return vr(bo(t*255),0,255)}function Bn(t){return vr(bo(t/2.55)/100,0,1)}function ug(t){return vr(bo(t*100),0,100)}const Bt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xh=[..."0123456789ABCDEF"],jN=t=>xh[t&15],SN=t=>xh[(t&240)>>4]+xh[t&15],Ko=t=>(t&240)>>4===(t&15),NN=t=>Ko(t.r)&&Ko(t.g)&&Ko(t.b)&&Ko(t.a);function CN(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Bt[t[1]]*17,g:255&Bt[t[2]]*17,b:255&Bt[t[3]]*17,a:e===5?Bt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Bt[t[1]]<<4|Bt[t[2]],g:Bt[t[3]]<<4|Bt[t[4]],b:Bt[t[5]]<<4|Bt[t[6]],a:e===9?Bt[t[7]]<<4|Bt[t[8]]:255})),n}const EN=(t,e)=>t<255?e(t):"";function TN(t){var e=NN(t)?jN:SN;return t?"#"+e(t.r)+e(t.g)+e(t.b)+EN(t.a,e):void 0}const PN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uv(t,e,n){const r=e*Math.min(n,1-n),s=(i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[s(0),s(8),s(4)]}function MN(t,e,n){const r=(s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function DN(t,e,n){const r=Uv(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function ON(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function Gf(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),o=(i+a)/2;let l,c,d;return i!==a&&(d=i-a,c=o>.5?d/(2-i-a):d/(i+a),l=ON(n,r,s,d,i),l=l*60+.5),[l|0,c||0,o]}function Xf(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Dr)}function Kf(t,e,n){return Xf(Uv,t,e,n)}function AN(t,e,n){return Xf(DN,t,e,n)}function RN(t,e,n){return Xf(MN,t,e,n)}function Wv(t){return(t%360+360)%360}function IN(t){const e=PN.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ea(+e[5]):Dr(+e[5]));const s=Wv(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=AN(s,i,a):e[1]==="hsv"?r=RN(s,i,a):r=Kf(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}function LN(t,e){var n=Gf(t);n[0]=Wv(n[0]+e),n=Kf(n),t.r=n[0],t.g=n[1],t.b=n[2]}function FN(t){if(!t)return;const e=Gf(t),n=e[0],r=ug(e[1]),s=ug(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Bn(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const dg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $N(){const t={},e=Object.keys(hg),n=Object.keys(dg);let r,s,i,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],s=0;s<n.length;s++)i=n[s],o=o.replace(i,dg[i]);i=parseInt(hg[a],16),t[o]=[i>>16&255,i>>8&255,i&255]}return t}let Qo;function zN(t){Qo||(Qo=$N(),Qo.transparent=[0,0,0,0]);const e=Qo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const BN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function UN(t){const e=BN.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?ea(a):vr(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?ea(r):vr(r,0,255)),s=255&(e[4]?ea(s):vr(s,0,255)),i=255&(e[6]?ea(i):vr(i,0,255)),{r,g:s,b:i,a:n}}}function WN(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Vu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ds=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function HN(t,e,n){const r=Ds(Bn(t.r)),s=Ds(Bn(t.g)),i=Ds(Bn(t.b));return{r:Dr(Vu(r+n*(Ds(Bn(e.r))-r))),g:Dr(Vu(s+n*(Ds(Bn(e.g))-s))),b:Dr(Vu(i+n*(Ds(Bn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function Jo(t,e,n){if(t){let r=Gf(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Kf(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Hv(t,e){return t&&Object.assign(e||{},t)}function fg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Dr(t[3]))):(e=Hv(t,{r:0,g:0,b:0,a:1}),e.a=Dr(e.a)),e}function VN(t){return t.charAt(0)==="r"?UN(t):IN(t)}class Za{constructor(e){if(e instanceof Za)return e;const n=typeof e;let r;n==="object"?r=fg(e):n==="string"&&(r=CN(e)||zN(e)||VN(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Hv(this._rgb);return e&&(e.a=Bn(e.a)),e}set rgb(e){this._rgb=fg(e)}rgbString(){return this._valid?WN(this._rgb):void 0}hexString(){return this._valid?TN(this._rgb):void 0}hslString(){return this._valid?FN(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,o=2*a-1,l=r.a-s.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=HN(this._rgb,e._rgb,n)),this}clone(){return new Za(this.rgb)}alpha(e){return this._rgb.a=Dr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=bo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jo(this._rgb,2,e),this}darken(e){return Jo(this._rgb,2,-e),this}saturate(e){return Jo(this._rgb,1,e),this}desaturate(e){return Jo(this._rgb,1,-e),this}rotate(e){return LN(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function An(){}const qN=(()=>{let t=0;return()=>t++})();function me(t){return t==null}function Xe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function de(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function vn(t,e){return Zt(t)?t:e}function ie(t,e){return typeof t>"u"?e:t}const YN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Vv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function je(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ge(t,e,n,r){let s,i,a;if(Xe(t))for(i=t.length,s=0;s<i;s++)e.call(n,t[s],s);else if(de(t))for(a=Object.keys(t),i=a.length,s=0;s<i;s++)e.call(n,t[a[s]],a[s])}function gc(t,e){let n,r,s,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],i=e[n],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function yc(t){if(Xe(t))return t.map(yc);if(de(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=yc(t[n[s]]);return e}return t}function qv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function GN(t,e,n,r){if(!qv(t))return;const s=e[t],i=n[t];de(s)&&de(i)?eo(s,i,r):e[t]=yc(i)}function eo(t,e,n){const r=Xe(e)?e:[e],s=r.length;if(!de(t))return t;n=n||{};const i=n.merger||GN;let a;for(let o=0;o<s;++o){if(a=r[o],!de(a))continue;const l=Object.keys(a);for(let c=0,d=l.length;c<d;++c)i(l[c],t,a,n)}return t}function _a(t,e){return eo(t,e,{merger:XN})}function XN(t,e,n){if(!qv(t))return;const r=e[t],s=n[t];de(r)&&de(s)?_a(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=yc(s))}const mg={"":t=>t,x:t=>t.x,y:t=>t.y};function KN(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function QN(t){const e=KN(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function xs(t,e){return(mg[e]||(mg[e]=QN(e)))(t)}function Qf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const to=t=>typeof t<"u",Ir=t=>typeof t=="function",pg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function JN(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ye=Math.PI,Fe=2*ye,ZN=Fe+ye,xc=Number.POSITIVE_INFINITY,eC=ye/180,Qe=ye/2,Wr=ye/4,gg=ye*2/3,Yv=Math.log10,En=Math.sign;function ka(t,e,n){return Math.abs(t-e)<n}function yg(t){const e=Math.round(t);t=ka(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Yv(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function tC(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,i)=>s-i).pop(),e}function nC(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function no(t){return!nC(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function rC(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function sC(t,e,n){let r,s,i;for(r=0,s=t.length;r<s;r++)i=t[r][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Hn(t){return t*(ye/180)}function iC(t){return t*(180/ye)}function xg(t){if(!Zt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Gv(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i<-.5*ye&&(i+=Fe),{angle:i,distance:s}}function vh(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function aC(t,e){return(t-e+ZN)%Fe-ye}function ln(t){return(t%Fe+Fe)%Fe}function ro(t,e,n,r){const s=ln(t),i=ln(e),a=ln(n),o=ln(i-s),l=ln(a-s),c=ln(s-i),d=ln(s-a);return s===i||s===a||r&&i===a||o>l&&c<d}function ft(t,e,n){return Math.max(e,Math.min(n,t))}function oC(t){return ft(t,-32768,32767)}function br(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Jf(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const os=(t,e,n,r)=>Jf(t,n,r?s=>{const i=t[s][e];return i<n||i===n&&t[s+1][e]===n}:s=>t[s][e]<n),lC=(t,e,n)=>Jf(t,n,r=>t[r][e]>=n);function cC(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const Xv=["push","pop","shift","splice","unshift"];function uC(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Xv.forEach(n=>{const r="_onData"+Qf(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const a=s.apply(this,i);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...i)}),a}})})}function vg(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(Xv.forEach(i=>{delete t[i]}),delete t._chartjs)}function Kv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Qv=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Jv(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Qv.call(window,()=>{r=!1,t.apply(e,n)}))}}function dC(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Zf=t=>t==="start"?"left":t==="end"?"right":"center",dt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,hC=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function fC(t,e,n){const r=e.length;let s=0,i=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:m,maxDefined:x}=a.getUserBounds();if(m){if(s=Math.min(os(l,d,h).lo,n?r:os(e,d,a.getPixelForValue(h)).lo),c){const v=l.slice(0,s+1).reverse().findIndex(b=>!me(b[o.axis]));s-=Math.max(0,v)}s=ft(s,0,r-1)}if(x){let v=Math.max(os(l,a.axis,f,!0).hi+1,n?0:os(e,d,a.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(v-1).findIndex(y=>!me(y[o.axis]));v+=Math.max(0,b)}i=ft(v,s,r)-s}else i=r-s}return{start:s,count:i}}function mC(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),i}const Zo=t=>t===0||t===1,bg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Fe/n)),wg=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Fe/n)+1,ja={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Qe)+1,easeOutSine:t=>Math.sin(t*Qe),easeInOutSine:t=>-.5*(Math.cos(ye*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zo(t)?t:bg(t,.075,.3),easeOutElastic:t=>Zo(t)?t:wg(t,.075,.3),easeInOutElastic(t){return Zo(t)?t:t<.5?.5*bg(t*2,.1125,.45):.5+.5*wg(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ja.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ja.easeInBounce(t*2)*.5:ja.easeOutBounce(t*2-1)*.5+.5};function em(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function _g(t){return em(t)?t:new Za(t)}function qu(t){return em(t)?t:new Za(t).saturate(.5).darken(.1).hexString()}const pC=["x","y","borderWidth","radius","tension"],gC=["color","borderColor","backgroundColor"];function yC(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:gC},numbers:{type:"number",properties:pC}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xC(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kg=new Map;function vC(t,e){e=e||{};const n=t+JSON.stringify(e);let r=kg.get(n);return r||(r=new Intl.NumberFormat(t,e),kg.set(n,r)),r}function tm(t,e,n){return vC(e,n).format(t)}const bC={values(t){return Xe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=wC(t,n)}const a=Yv(Math.abs(i)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),tm(t,r,l)}};function wC(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Zv={formatters:bC};function _C(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Zv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vs=Object.create(null),bh=Object.create(null);function Sa(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const i=n[r];t=t[i]||(t[i]=Object.create(null))}return t}function Yu(t,e,n){return typeof e=="string"?eo(Sa(t,e),n):eo(Sa(t,""),e)}class kC{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>qu(s.backgroundColor),this.hoverBorderColor=(r,s)=>qu(s.borderColor),this.hoverColor=(r,s)=>qu(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Yu(this,e,n)}get(e){return Sa(this,e)}describe(e,n){return Yu(bh,e,n)}override(e,n){return Yu(vs,e,n)}route(e,n,r,s){const i=Sa(this,e),a=Sa(this,r),o="_"+n;Object.defineProperties(i,{[o]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[s];return de(l)?Object.assign({},c,l):ie(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var Be=new kC({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[yC,xC,_C]);function jC(t){return!t||me(t.size)||me(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function jg(t,e,n,r,s){let i=e[s];return i||(i=e[s]=t.measureText(s).width,n.push(s)),i>r&&(r=i),r}function Hr(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function Sg(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function wh(t,e,n,r){eb(t,e,n,r,null)}function eb(t,e,n,r,s){let i,a,o,l,c,d,h,f;const m=e.pointStyle,x=e.rotation,v=e.radius;let b=(x||0)*eC;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),m){default:s?t.ellipse(n,r,s/2,v,0,0,Fe):t.arc(n,r,v,0,Fe),t.closePath();break;case"triangle":d=s?s/2:v,t.moveTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=gg,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),b+=gg,t.lineTo(n+Math.sin(b)*d,r-Math.cos(b)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,a=Math.cos(b+Wr)*l,h=Math.cos(b+Wr)*(s?s/2-c:l),o=Math.sin(b+Wr)*l,f=Math.sin(b+Wr)*(s?s/2-c:l),t.arc(n-h,r-o,c,b-ye,b-Qe),t.arc(n+f,r-a,c,b-Qe,b),t.arc(n+h,r+o,c,b,b+Qe),t.arc(n-f,r+a,c,b+Qe,b+ye),t.closePath();break;case"rect":if(!x){l=Math.SQRT1_2*v,d=s?s/2:l,t.rect(n-d,r-l,2*d,2*l);break}b+=Wr;case"rectRot":h=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,o=Math.sin(b)*v,f=Math.sin(b)*(s?s/2:v),t.moveTo(n-h,r-o),t.lineTo(n+f,r-a),t.lineTo(n+h,r+o),t.lineTo(n-f,r+a),t.closePath();break;case"crossRot":b+=Wr;case"cross":h=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,o=Math.sin(b)*v,f=Math.sin(b)*(s?s/2:v),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"star":h=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,o=Math.sin(b)*v,f=Math.sin(b)*(s?s/2:v),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a),b+=Wr,h=Math.cos(b)*(s?s/2:v),a=Math.cos(b)*v,o=Math.sin(b)*v,f=Math.sin(b)*(s?s/2:v),t.moveTo(n-h,r-o),t.lineTo(n+h,r+o),t.moveTo(n+f,r-a),t.lineTo(n-f,r+a);break;case"line":a=s?s/2:Math.cos(b)*v,o=Math.sin(b)*v,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(s?s/2:v),r+Math.sin(b)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function so(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function nm(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function rm(t){t.restore()}function SC(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function NC(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function CC(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),me(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function EC(t,e,n,r,s){if(s.strikethrough||s.underline){const i=t.measureText(r),a=e-i.actualBoundingBoxLeft,o=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function TC(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function io(t,e,n,r,s,i={}){const a=Xe(e)?e:[e],o=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,CC(t,i),l=0;l<a.length;++l)c=a[l],i.backdrop&&TC(t,i.backdrop),o&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),me(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,r,i.maxWidth)),t.fillText(c,n,r,i.maxWidth),EC(t,n,r,c,i),r+=Number(s.lineHeight);t.restore()}function vc(t,e){const{x:n,y:r,w:s,h:i,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*ye,ye,!0),t.lineTo(n,r+i-a.bottomLeft),t.arc(n+a.bottomLeft,r+i-a.bottomLeft,a.bottomLeft,ye,Qe,!0),t.lineTo(n+s-a.bottomRight,r+i),t.arc(n+s-a.bottomRight,r+i-a.bottomRight,a.bottomRight,Qe,0,!0),t.lineTo(n+s,r+a.topRight),t.arc(n+s-a.topRight,r+a.topRight,a.topRight,0,-Qe,!0),t.lineTo(n+a.topLeft,r)}const PC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,MC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function DC(t,e){const n=(""+t).match(PC);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const OC=t=>+t||0;function sm(t,e){const n={},r=de(e),s=r?Object.keys(e):e,i=de(t)?r?a=>ie(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of s)n[a]=OC(i(a));return n}function tb(t){return sm(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ii(t){return sm(t,["topLeft","topRight","bottomLeft","bottomRight"])}function en(t){const e=tb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mt(t,e){t=t||{},e=e||Be.font;let n=ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ie(t.style,e.style);r&&!(""+r).match(MC)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:ie(t.family,e.family),lineHeight:DC(ie(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ie(t.weight,e.weight),string:""};return s.string=jC(s),s}function el(t,e,n,r){let s,i,a;for(s=0,i=t.length;s<i;++s)if(a=t[s],a!==void 0&&a!==void 0)return a}function AC(t,e,n){const{min:r,max:s}=t,i=Vv(e,(s-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(i)),max:a(s,i)}}function js(t,e){return Object.assign(Object.create(t),e)}function im(t,e=[""],n,r,s=()=>t[0]){const i=n||t;typeof r>"u"&&(r=ib("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:r,_getTarget:s,override:o=>im([o,...t],e,i,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return rb(o,l,()=>UC(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return Cg(o).includes(l)},ownKeys(o){return Cg(o)},set(o,l,c){const d=o._storage||(o._storage=s());return o[l]=d[l]=c,delete o._keys,!0}})}function gi(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:nb(t,r),setContext:i=>gi(t,i,n,r),override:i=>gi(t.override(i),e,n,r)};return new Proxy(s,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,o){return rb(i,a,()=>IC(i,a,o))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,o){return t[a]=o,delete i[a],!0}})}function nb(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Ir(n)?n:()=>n,isIndexable:Ir(r)?r:()=>r}}const RC=(t,e)=>t?t+Qf(e):e,am=(t,e)=>de(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function rb(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function IC(t,e,n){const{_proxy:r,_context:s,_subProxy:i,_descriptors:a}=t;let o=r[e];return Ir(o)&&a.isScriptable(e)&&(o=LC(e,o,t,n)),Xe(o)&&o.length&&(o=FC(e,o,t,a.isIndexable)),am(e,o)&&(o=gi(o,s,i&&i[e],a)),o}function LC(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(i,a||r);return o.delete(t),am(t,l)&&(l=om(s._scopes,s,t,l)),l}function FC(t,e,n,r){const{_proxy:s,_context:i,_subProxy:a,_descriptors:o}=n;if(typeof i.index<"u"&&r(t))return e[i.index%e.length];if(de(e[0])){const l=e,c=s._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=om(c,s,t,d);e.push(gi(h,i,a&&a[t],o))}}return e}function sb(t,e,n){return Ir(t)?t(e,n):t}const $C=(t,e)=>t===!0?e:typeof t=="string"?xs(e,t):void 0;function zC(t,e,n,r,s){for(const i of e){const a=$C(n,i);if(a){t.add(a);const o=sb(a._fallback,n,s);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function om(t,e,n,r){const s=e._rootScopes,i=sb(e._fallback,n,r),a=[...t,...s],o=new Set;o.add(r);let l=Ng(o,a,n,i||n,r);return l===null||typeof i<"u"&&i!==n&&(l=Ng(o,a,i,l,r),l===null)?!1:im(Array.from(o),[""],s,i,()=>BC(e,n,r))}function Ng(t,e,n,r,s){for(;n;)n=zC(t,e,n,r,s);return n}function BC(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Xe(s)&&de(n)?n:s||{}}function UC(t,e,n,r){let s;for(const i of e)if(s=ib(RC(i,t),n),typeof s<"u")return am(t,s)?om(n,r,t,s):s}function ib(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Cg(t){let e=t._keys;return e||(e=t._keys=WC(t._scopes)),e}function WC(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const HC=Number.EPSILON||1e-14,yi=(t,e)=>e<t.length&&!t[e].skip&&t[e],ab=t=>t==="x"?"y":"x";function VC(t,e,n,r){const s=t.skip?e:t,i=e,a=n.skip?e:n,o=vh(i,s),l=vh(a,i);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=r*c,f=r*d;return{previous:{x:i.x-h*(a.x-s.x),y:i.y-h*(a.y-s.y)},next:{x:i.x+f*(a.x-s.x),y:i.y+f*(a.y-s.y)}}}function qC(t,e,n){const r=t.length;let s,i,a,o,l,c=yi(t,0);for(let d=0;d<r-1;++d)if(l=c,c=yi(t,d+1),!(!l||!c)){if(ka(e[d],0,HC)){n[d]=n[d+1]=0;continue}s=n[d]/e[d],i=n[d+1]/e[d],o=Math.pow(s,2)+Math.pow(i,2),!(o<=9)&&(a=3/Math.sqrt(o),n[d]=s*a*e[d],n[d+1]=i*a*e[d])}}function YC(t,e,n="x"){const r=ab(n),s=t.length;let i,a,o,l=yi(t,0);for(let c=0;c<s;++c){if(a=o,o=l,l=yi(t,c+1),!o)continue;const d=o[n],h=o[r];a&&(i=(d-a[n])/3,o[`cp1${n}`]=d-i,o[`cp1${r}`]=h-i*e[c]),l&&(i=(l[n]-d)/3,o[`cp2${n}`]=d+i,o[`cp2${r}`]=h+i*e[c])}}function GC(t,e="x"){const n=ab(e),r=t.length,s=Array(r).fill(0),i=Array(r);let a,o,l,c=yi(t,0);for(a=0;a<r;++a)if(o=l,l=c,c=yi(t,a+1),!!l){if(c){const d=c[e]-l[e];s[a]=d!==0?(c[n]-l[n])/d:0}i[a]=o?c?En(s[a-1])!==En(s[a])?0:(s[a-1]+s[a])/2:s[a-1]:s[a]}qC(t,s,i),YC(t,i,e)}function tl(t,e,n){return Math.max(Math.min(t,n),e)}function XC(t,e){let n,r,s,i,a,o=so(t[0],e);for(n=0,r=t.length;n<r;++n)a=i,i=o,o=n<r-1&&so(t[n+1],e),i&&(s=t[n],a&&(s.cp1x=tl(s.cp1x,e.left,e.right),s.cp1y=tl(s.cp1y,e.top,e.bottom)),o&&(s.cp2x=tl(s.cp2x,e.left,e.right),s.cp2y=tl(s.cp2y,e.top,e.bottom)))}function KC(t,e,n,r,s){let i,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")GC(t,s);else{let c=r?t[t.length-1]:t[0];for(i=0,a=t.length;i<a;++i)o=t[i],l=VC(c,o,t[Math.min(i+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&XC(t,n)}function lm(){return typeof window<"u"&&typeof document<"u"}function cm(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bc(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const nu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function QC(t,e){return nu(t).getPropertyValue(e)}const JC=["top","right","bottom","left"];function ds(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const i=JC[s];r[i]=parseFloat(t[e+"-"+i+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const ZC=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function eE(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:i}=r;let a=!1,o,l;if(ZC(s,i,t.target))o=s,l=i;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Zr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=nu(n),i=s.boxSizing==="border-box",a=ds(s,"padding"),o=ds(s,"border","width"),{x:l,y:c,box:d}=eE(t,n),h=a.left+(d&&o.left),f=a.top+(d&&o.top);let{width:m,height:x}=e;return i&&(m-=a.width+o.width,x-=a.height+o.height),{x:Math.round((l-h)/m*n.width/r),y:Math.round((c-f)/x*n.height/r)}}function tE(t,e,n){let r,s;if(e===void 0||n===void 0){const i=t&&cm(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const a=i.getBoundingClientRect(),o=nu(i),l=ds(o,"border","width"),c=ds(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,r=bc(o.maxWidth,i,"clientWidth"),s=bc(o.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:r||xc,maxHeight:s||xc}}const nl=t=>Math.round(t*10)/10;function nE(t,e,n,r){const s=nu(t),i=ds(s,"margin"),a=bc(s.maxWidth,t,"clientWidth")||xc,o=bc(s.maxHeight,t,"clientHeight")||xc,l=tE(t,e,n);let{width:c,height:d}=l;if(s.boxSizing==="content-box"){const f=ds(s,"border","width"),m=ds(s,"padding");c-=m.width+f.width,d-=m.height+f.height}return c=Math.max(0,c-i.width),d=Math.max(0,r?c/r:d-i.height),c=nl(Math.min(c,a,l.maxWidth)),d=nl(Math.min(d,o,l.maxHeight)),c&&!d&&(d=nl(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=nl(Math.floor(d*r))),{width:c,height:d}}function Eg(t,e,n){const r=e||1,s=Math.floor(t.height*r),i=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==s||a.width!==i?(t.currentDevicePixelRatio=r,a.height=s,a.width=i,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const rE=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};lm()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Tg(t,e){const n=QC(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function es(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function sE(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function iE(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},a=es(t,s,n),o=es(s,i,n),l=es(i,e,n),c=es(a,o,n),d=es(o,l,n);return es(c,d,n)}const aE=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},oE=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ai(t,e,n){return t?aE(e,n):oE()}function ob(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function lb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function cb(t){return t==="angle"?{between:ro,compare:aC,normalize:ln}:{between:br,compare:(e,n)=>e-n,normalize:e=>e}}function Pg({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function lE(t,e,n){const{property:r,start:s,end:i}=n,{between:a,normalize:o}=cb(r),l=e.length;let{start:c,end:d,loop:h}=t,f,m;if(h){for(c+=l,d+=l,f=0,m=l;f<m&&a(o(e[c%l][r]),s,i);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function cE(t,e,n){if(!n)return[t];const{property:r,start:s,end:i}=n,a=e.length,{compare:o,between:l,normalize:c}=cb(r),{start:d,end:h,loop:f,style:m}=lE(t,e,n),x=[];let v=!1,b=null,y,p,g;const w=()=>l(s,g,y)&&o(s,g)!==0,_=()=>o(i,y)===0||l(i,g,y),k=()=>v||w(),C=()=>!v||_();for(let T=d,O=d;T<=h;++T)p=e[T%a],!p.skip&&(y=c(p[r]),y!==g&&(v=l(y,s,i),b===null&&k()&&(b=o(y,s)===0?T:O),b!==null&&C()&&(x.push(Pg({start:b,end:T,loop:f,count:a,style:m})),b=null),O=T,g=y));return b!==null&&x.push(Pg({start:b,end:h,loop:f,count:a,style:m})),x}function uE(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const i=cE(r[s],t.points,e);i.length&&n.push(...i)}return n}function dE(t,e,n,r){let s=0,i=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(i+=s);i>s&&t[i%e].skip;)i--;return i%=e,{start:s,end:i}}function hE(t,e,n,r){const s=t.length,i=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?o.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&i.push({start:e%s,end:a%s,loop:r}),i}function fE(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const i=!!t._loop,{start:a,end:o}=dE(n,s,i,r);if(r===!0)return Mg(t,[{start:a,end:o,loop:i}],n,e);const l=o<a?o+s:o,c=!!t._fullLoop&&a===0&&o===s-1;return Mg(t,hE(n,a,l,c),n,e)}function Mg(t,e,n,r){return!r||!r.setContext||!n?e:mE(t,e,n,r)}function mE(t,e,n,r){const s=t._chart.getContext(),i=Dg(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let d=i,h=e[0].start,f=h;function m(x,v,b,y){const p=o?-1:1;if(x!==v){for(x+=l;n[x%l].skip;)x-=p;for(;n[v%l].skip;)v+=p;x%l!==v%l&&(c.push({start:x%l,end:v%l,loop:b,style:y}),d=y,h=v%l)}}for(const x of e){h=o?h:x.start;let v=n[h%l],b;for(f=h+1;f<=x.end;f++){const y=n[f%l];b=Dg(r.setContext(js(s,{type:"segment",p0:v,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),pE(b,d)&&m(h,f-1,x.loop,d),v=y,d=b}h<f-1&&m(h,f-1,x.loop,d)}return c}function Dg(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function pE(t,e){if(!e)return!1;const n=[],r=function(s,i){return em(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function rl(t,e,n){return t.options.clip?t[n]:e[n]}function gE(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:rl(n,e,"left"),right:rl(n,e,"right"),top:rl(r,e,"top"),bottom:rl(r,e,"bottom")}:e}function yE(t,e){const n=e._clip;if(n.disabled)return!1;const r=gE(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xE{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const i=n.listeners[s],a=n.duration;i.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Qv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let a=i.length-1,o=!1,l;for(;a>=0;--a)l=i[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(i[a]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var In=new xE;const Og="transparent",vE={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=_g(t||Og),s=r.valid&&_g(e||Og);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class bE{constructor(e,n,r,s){const i=n[r];s=el([e.to,s,i,e.from]);const a=el([e.from,i,s]);this._active=!0,this._fn=e.fn||vE[e.type||typeof a],this._easing=ja[e.easing]||ja.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,a=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=el([e.to,n,s,e.from]),this._from=el([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,i=this._from,a=this._loop,o=this._to;let l;if(this._active=i!==o&&(a||n<r),!this._active){this._target[s]=o,this._notify(!0);return}if(n<0){this._target[s]=i;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class ub{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!de(e))return;const n=Object.keys(Be.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!de(i))return;const a={};for(const o of n)a[o]=i[o];(Xe(i.properties)&&i.properties||[s]).forEach(o=>{(o===s||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,s=_E(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&wE(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,n){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const d=n[c];let h=i[c];const f=r.get(c);if(h)if(f&&h.active()){h.update(f,d,o);continue}else h.cancel();if(!f||!f.duration){e[c]=d;continue}i[c]=h=new bE(f,e,c,d),s.push(h)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return In.add(this._chart,r),!0}}function wE(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=t[r[s]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function _E(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ag(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function kE(t,e,n){if(n===!1)return!1;const r=Ag(t,n),s=Ag(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function jE(t){let e,n,r,s;return de(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function db(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)n.push(r[s].index);return n}function Rg(t,e,n,r={}){const s=t.keys,i=r.mode==="single";let a,o,l,c;if(e===null)return;let d=!1;for(a=0,o=s.length;a<o;++a){if(l=+s[a],l===n){if(d=!0,r.all)continue;break}c=t.values[l],Zt(c)&&(i||e===0||En(e)===En(c))&&(e+=c)}return!d&&!r.all?0:e}function SE(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l],o[l]={[s]:d,[i]:t[d]};return o}function Gu(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function NE(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function CE(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function EE(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function Ig(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=t[s.index];if(n&&i>0||!n&&i<0)return s.index}return null}function Lg(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:i,vScale:a,index:o}=r,l=i.axis,c=a.axis,d=NE(i,a,r),h=e.length;let f;for(let m=0;m<h;++m){const x=e[m],{[l]:v,[c]:b}=x,y=x._stacks||(x._stacks={});f=y[c]=EE(s,d,v),f[o]=b,f._top=Ig(f,a,!0,r.type),f._bottom=Ig(f,a,!1,r.type);const p=f._visualValues||(f._visualValues={});p[o]=b}}function Xu(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function TE(t,e){return js(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function PE(t,e,n){return js(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Bi(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][n]===void 0)return;delete i[r][n],i[r]._visualValues!==void 0&&i[r]._visualValues[n]!==void 0&&delete i[r]._visualValues[n]}}}const Ku=t=>t==="reset"||t==="none",Fg=(t,e)=>e?t:Object.assign({},t),ME=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:db(n,!0),values:null};class hs{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Bi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(h,f,m,x)=>h==="x"?f:h==="r"?x:m,i=n.xAxisID=ie(r.xAxisID,Xu(e,"x")),a=n.yAxisID=ie(r.yAxisID,Xu(e,"y")),o=n.rAxisID=ie(r.rAxisID,Xu(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,i,a,o),d=n.vAxisID=s(l,a,i,o);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vg(this._data,this),e._stacked&&Bi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(de(n)){const s=this._cachedMeta;this._data=SE(n,s)}else if(r!==n){if(r){vg(r,this);const s=this._cachedMeta;Bi(s),s._parsed=[]}n&&Object.isExtensible(n)&&uC(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=n._stacked;n._stacked=Gu(n.vScale,n),n.stack!==r.stack&&(s=!0,Bi(n),n.stack=r.stack),this._resyncElements(e),(s||i!==n._stacked)&&(Lg(this,n._parsed),n._stacked=Gu(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:a}=r,o=i.axis;let l=e===0&&n===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],d,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{Xe(s[e])?f=this.parseArrayData(r,s,e,n):de(s[e])?f=this.parseObjectData(r,s,e,n):f=this.parsePrimitiveData(r,s,e,n);const m=()=>h[o]===null||c&&h[o]<c[o];for(d=0;d<n;++d)r._parsed[d+e]=h=f[d],l&&(m()&&(l=!1),c=h);r._sorted=l}a&&Lg(this,f)}parsePrimitiveData(e,n,r,s){const{iScale:i,vScale:a}=e,o=i.axis,l=a.axis,c=i.getLabels(),d=i===a,h=new Array(s);let f,m,x;for(f=0,m=s;f<m;++f)x=f+r,h[f]={[o]:d||i.parse(c[x],x),[l]:a.parse(n[x],x)};return h}parseArrayData(e,n,r,s){const{xScale:i,yScale:a}=e,o=new Array(s);let l,c,d,h;for(l=0,c=s;l<c;++l)d=l+r,h=n[d],o[l]={x:i.parse(h[0],d),y:a.parse(h[1],d)};return o}parseObjectData(e,n,r,s){const{xScale:i,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let d,h,f,m;for(d=0,h=s;d<h;++d)f=d+r,m=n[f],c[d]={x:i.parse(xs(m,o),f),y:a.parse(xs(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,i=this._cachedMeta,a=n[e.axis],o={keys:db(s,!0),values:n._stacks[e.axis]._visualValues};return Rg(o,a,i.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const i=r[n.axis];let a=i===null?NaN:i;const o=s&&r._stacks[n.axis];s&&o&&(s.values=o,a=Rg(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,a=s.length,o=this._getOtherScale(e),l=ME(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=CE(o);let f,m;function x(){m=s[f];const v=m[o.axis];return!Zt(m[e.axis])||d>v||h<v}for(f=0;f<a&&!(!x()&&(this.updateRangeFromParsed(c,e,m,l),i));++f);if(i){for(f=a-1;f>=0;--f)if(!x()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,i,a;for(s=0,i=n.length;s<i;++s)a=n[s][e.axis],Zt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=jE(ie(this.options.clip,kE(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],i=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||s.length-o,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,i,o,l),d=o;d<o+l;++d){const h=s[d];h.hidden||(h.active&&c?a.push(h):h.draw(e,i))}for(d=0;d<a.length;++d)a[d].draw(e,i)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=PE(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=TE(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",i=this._cachedDataOpts,a=e+"-"+n,o=i[a],l=this.enableOptionSharing&&to(r);if(o)return Fg(o,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),d),m=Object.keys(Be.elements[e]),x=()=>this.getContext(r,s,n),v=c.resolveNamedOptions(f,m,x,h);return v.$shared&&(v.$shared=l,i[a]=Object.freeze(Fg(v,l))),v}_resolveAnimations(e,n,r){const s=this.chart,i=this._cachedDataOpts,a=`animation-${n}`,o=i[a];if(o)return o;let l;if(s.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,r,n))}const c=new ub(s,l&&l.animations);return l&&l._cacheable&&(i[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Ku(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,i=this.getSharedOptions(r),a=this.includeOptions(n,i)||i!==s;return this.updateSharedOptions(i,n,r),{sharedOptions:i,includeOptions:a}}updateElement(e,n,r,s){Ku(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!Ku(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const i=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const s=r.length,i=n.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,n,r=!0){const s=this._cachedMeta,i=s.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(i),o=e;o<a;++o)i[o]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),r&&this.updateElements(i,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Bi(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}D(hs,"defaults",{}),D(hs,"datasetElementType",null),D(hs,"dataElementType",null);function DE(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=n.length;s<i;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=Kv(r.sort((s,i)=>s-i))}return t._cache.$bar}function OE(t){const e=t.iScale,n=DE(e,t.type);let r=e._length,s,i,a,o;const l=()=>{a===32767||a===-32768||(to(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(s=0,i=n.length;s<i;++s)a=e.getPixelForValue(n[s]),l();for(o=void 0,s=0,i=e.ticks.length;s<i;++s)a=e.getPixelForTick(s),l();return r}function AE(t,e,n,r){const s=n.barThickness;let i,a;return me(s)?(i=e.min*n.categoryPercentage,a=n.barPercentage):(i=s*r,a=1),{chunk:i/r,ratio:a,start:e.pixels[t]-i/2}}function RE(t,e,n,r){const s=e.pixels,i=s[t];let a=t>0?s[t-1]:null,o=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;a===null&&(a=i-(o===null?e.end-e.start:o-i)),o===null&&(o=i+i-a);const c=i-(i-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}function IE(t,e,n,r){const s=n.parse(t[0],r),i=n.parse(t[1],r),a=Math.min(s,i),o=Math.max(s,i);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:a,max:o}}function hb(t,e,n,r){return Xe(t)?IE(t,e,n,r):e[n.axis]=n.parse(t,r),e}function $g(t,e,n,r){const s=t.iScale,i=t.vScale,a=s.getLabels(),o=s===i,l=[];let c,d,h,f;for(c=n,d=n+r;c<d;++c)f=e[c],h={},h[s.axis]=o||s.parse(a[c],c),l.push(hb(f,h,i,c));return l}function Qu(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function LE(t,e,n){return t!==0?En(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function FE(t){let e,n,r,s,i;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:n,end:r,reverse:e,top:s,bottom:i}}function $E(t,e,n,r){let s=e.borderSkipped;const i={};if(!s){t.borderSkipped=i;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:d}=FE(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=d:(i[zg(d,a,o,l)]=!0,s=c)),i[zg(s,a,o,l)]=!0,t.borderSkipped=i}function zg(t,e,n,r){return r?(t=zE(t,e,n),t=Bg(t,n,e)):t=Bg(t,e,n),t}function zE(t,e,n){return t===e?n:t===n?e:t}function Bg(t,e,n){return t==="start"?e:t==="end"?n:t}function BE(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Tl extends hs{parsePrimitiveData(e,n,r,s){return $g(e,n,r,s)}parseArrayData(e,n,r,s){return $g(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:i,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?o:l,d=a.axis==="x"?o:l,h=[];let f,m,x,v;for(f=r,m=r+s;f<m;++f)v=n[f],x={},x[i.axis]=i.parse(xs(v,c),f),h.push(hb(xs(v,d),x,a,f));return h}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const i=r._custom;i&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,i=this.getParsed(e),a=i._custom,o=Qu(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const i=s==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let m=n;m<n+r;m++){const x=this.getParsed(m),v=i||me(x[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,d),y=(x._stacks||{})[o.axis],p={horizontal:c,base:v.base,enableBorderRadius:!y||Qu(x._custom)||a===y._top||a===y._bottom,x:c?v.head:b.center,y:c?b.center:v.head,height:c?b.size:Math.abs(v.size),width:c?Math.abs(v.size):b.size};f&&(p.options=h||this.resolveDataElementOptions(m,e[m].active?"active":s));const g=p.options||e[m].options;$E(p,g,y,a),BE(p,g,d.ratio),this.updateElement(e[m],m,p,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),i=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],c=d=>{const h=d._parsed.find(m=>m[r.axis]===l),f=h&&h[d.vScale.axis];if(me(f)||isNaN(f))return!0};for(const d of s)if(!(n!==void 0&&c(d))&&((i===!1||a.indexOf(d.stack)===-1||i===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[ie(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const s=this._getStacks(e,r),i=n!==void 0?s.indexOf(n):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let i,a;for(i=0,a=n.data.length;i<a;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const o=e.barThickness;return{min:o||OE(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:i,minBarLength:a}}=this,o=i||0,l=this.getParsed(e),c=l._custom,d=Qu(c);let h=l[n.axis],f=0,m=r?this.applyStack(n,l,r):h,x,v;m!==h&&(f=m-h,m=h),d&&(h=c.barStart,m=c.barEnd-c.barStart,h!==0&&En(h)!==En(c.barEnd)&&(f=0),f+=h);const b=!me(i)&&!d?i:f;let y=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?x=n.getPixelForValue(f+m):x=y,v=x-y,Math.abs(v)<a){v=LE(v,n,o)*a,h===o&&(y-=v/2);const p=n.getPixelForDecimal(0),g=n.getPixelForDecimal(1),w=Math.min(p,g),_=Math.max(p,g);y=Math.max(Math.min(y,_),w),x=y+v,r&&!d&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(x)-n.getValueForPixel(y))}if(y===n.getPixelForValue(o)){const p=En(v)*n.getLineWidthForValue(o)/2;y+=p,v-=p}return{size:v,base:y,head:x,center:x+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,i=s.skipNull,a=ie(s.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(n.grouped){const d=i?this._getStackCount(e):n.stackCount,h=s.barThickness==="flex"?RE(e,n,s,d*c):AE(e,n,s,d*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(ie(f,this.getFirstScaleIdForIndexAxis())),x=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+m;o=h.start+h.chunk*x+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[n.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}D(Tl,"id","bar"),D(Tl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),D(Tl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function UE(t,e,n){let r=1,s=1,i=0,a=0;if(e<Fe){const o=t,l=o+e,c=Math.cos(o),d=Math.sin(o),h=Math.cos(l),f=Math.sin(l),m=(g,w,_)=>ro(g,o,l,!0)?1:Math.max(w,w*n,_,_*n),x=(g,w,_)=>ro(g,o,l,!0)?-1:Math.min(w,w*n,_,_*n),v=m(0,c,h),b=m(Qe,d,f),y=x(ye,c,h),p=x(ye+Qe,d,f);r=(v-y)/2,s=(b-p)/2,i=-(v+y)/2,a=-(b+p)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:a}}class ta extends hs{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(de(r[e])){const{key:l="value"}=this._parsing;i=c=>+xs(r[c],l)}let a,o;for(a=e,o=e+n;a<o;++a)s._parsed[a]=i(a)}}_getRotation(){return Hn(this.options.rotation-90)}_getCircumference(){return Hn(this.options.circumference)}_getRotationExtents(){let e=Fe,n=-Fe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),n=Math.max(n,i+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(YN(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:x,offsetY:v}=UE(h,d,l),b=(r.width-a)/f,y=(r.height-a)/m,p=Math.max(Math.min(b,y)/2,0),g=Vv(this.options.radius,p),w=Math.max(g*l,0),_=(g-w)/this._getVisibleDatasetWeightTotal();this.offsetX=x*g,this.offsetY=v*g,s.total=this.calculateTotal(),this.outerRadius=g-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Fe)}updateElements(e,n,r,s){const i=s==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,d=(o.left+o.right)/2,h=(o.top+o.bottom)/2,f=i&&c.animateScale,m=f?0:this.innerRadius,x=f?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,s);let y=this._getRotation(),p;for(p=0;p<n;++p)y+=this._circumference(p,i);for(p=n;p<n+r;++p){const g=this._circumference(p,i),w=e[p],_={x:d+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+g,circumference:g,outerRadius:x,innerRadius:m};b&&(_.options=v||this.resolveDataElementOptions(p,w.active?"active":s)),y+=g,this.updateElement(w,p,_,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,s;for(s=0;s<n.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Fe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=tm(n._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,i,a,o,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,o=a.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=o.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);n=Math.max(n,i.offset||0,i.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}D(ta,"id","doughnut"),D(ta,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),D(ta,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),D(ta,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return n.labels.map((i,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Pl extends hs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=fC(n,s,a);this._drawStart=o,this._drawCount=l,mC(n)&&(o=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(s,o,l,e)}updateElements(e,n,r,s){const i=s==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s),f=a.axis,m=o.axis,{spanGaps:x,segment:v}=this.options,b=no(x)?x:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||s==="none",p=n+r,g=e.length;let w=n>0&&this.getParsed(n-1);for(let _=0;_<g;++_){const k=e[_],C=y?k:{};if(_<n||_>=p){C.skip=!0;continue}const T=this.getParsed(_),O=me(T[m]),I=C[f]=a.getPixelForValue(T[f],_),U=C[m]=i||O?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,T,l):T[m],_);C.skip=isNaN(I)||isNaN(U)||O,C.stop=_>0&&Math.abs(T[f]-w[f])>b,v&&(C.parsed=T,C.raw=c.data[_]),h&&(C.options=d||this.resolveDataElementOptions(_,k.active?"active":s)),y||this.updateElement(k,_,C,s),w=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}D(Pl,"id","line"),D(Pl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),D(Pl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class _h extends ta{}D(_h,"id","pie"),D(_h,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Vr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class um{constructor(e){D(this,"options");this.options=e||{}}static override(e){Object.assign(um.prototype,e)}init(){}formats(){return Vr()}parse(){return Vr()}format(){return Vr()}add(){return Vr()}diff(){return Vr()}startOf(){return Vr()}endOf(){return Vr()}}var fb={_date:um};function WE(t,e,n,r){const{controller:s,data:i,_sorted:a}=t,o=s._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&i.length){const c=o._reversePixels?lC:os;if(r){if(s._sharedOptions){const d=i[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=c(i,e,n-h),m=c(i,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const d=c(i,e,n);if(l){const{vScale:h}=s._cachedMeta,{_parsed:f}=t,m=f.slice(0,d.lo+1).reverse().findIndex(v=>!me(v[h.axis]));d.lo-=Math.max(0,m);const x=f.slice(d.hi).findIndex(v=>!me(v[h.axis]));d.hi+=Math.max(0,x)}return d}}return{lo:0,hi:i.length-1}}function ru(t,e,n,r,s){const i=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=i.length;o<l;++o){const{index:c,data:d}=i[o],{lo:h,hi:f}=WE(i[o],e,a,s);for(let m=h;m<=f;++m){const x=d[m];x.skip||r(x,c,m)}}}function HE(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,a=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function Ju(t,e,n,r,s){const i=[];return!s&&!t.isPointInArea(e)||ru(t,n,e,function(o,l,c){!s&&!so(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&i.push({element:o,datasetIndex:l,index:c})},!0),i}function VE(t,e,n,r){let s=[];function i(a,o,l){const{startAngle:c,endAngle:d}=a.getProps(["startAngle","endAngle"],r),{angle:h}=Gv(a,{x:e.x,y:e.y});ro(h,c,d)&&s.push({element:a,datasetIndex:o,index:l})}return ru(t,n,e,i),s}function qE(t,e,n,r,s,i){let a=[];const o=HE(n);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const m=d.inRange(e.x,e.y,s);if(r&&!m)return;const x=d.getCenterPoint(s);if(!(!!i||t.isPointInArea(x))&&!m)return;const b=o(e,x);b<l?(a=[{element:d,datasetIndex:h,index:f}],l=b):b===l&&a.push({element:d,datasetIndex:h,index:f})}return ru(t,n,e,c),a}function Zu(t,e,n,r,s,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!r?VE(t,e,n,s):qE(t,e,n,r,s,i)}function Ug(t,e,n,r,s){const i=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return ru(t,n,e,(l,c,d)=>{l[a]&&l[a](e[n],s)&&(i.push({element:l,datasetIndex:c,index:d}),o=o||l.inRange(e.x,e.y,s))}),r&&!o?[]:i}var YE={modes:{index(t,e,n,r){const s=Zr(e,t),i=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?Ju(t,s,i,r,a):Zu(t,s,i,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=o[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,r){const s=Zr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?Ju(t,s,i,r,a):Zu(t,s,i,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let d=0;d<c.length;++d)o.push({element:c[d],datasetIndex:l,index:d})}return o},point(t,e,n,r){const s=Zr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Ju(t,s,i,r,a)},nearest(t,e,n,r){const s=Zr(e,t),i=n.axis||"xy",a=n.includeInvisible||!1;return Zu(t,s,i,n.intersect,r,a)},x(t,e,n,r){const s=Zr(e,t);return Ug(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Zr(e,t);return Ug(t,s,"y",n.intersect,r)}}};const mb=["left","top","right","bottom"];function Ui(t,e){return t.filter(n=>n.pos===e)}function Wg(t,e){return t.filter(n=>mb.indexOf(n.pos)===-1&&n.box.axis===e)}function Wi(t,e){return t.sort((n,r)=>{const s=e?r:n,i=e?n:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function GE(t){const e=[];let n,r,s,i,a,o;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:i,options:{stack:a,stackWeight:o=1}}=s,e.push({index:n,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:a&&i+a,stackWeight:o});return e}function XE(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:i}=n;if(!r||!mb.includes(s))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function KE(t,e){const n=XE(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,a,o;for(i=0,a=t.length;i<a;++i){o=t[i];const{fullSize:l}=o.box,c=n[o.stack],d=c&&o.stackWeight/c.weight;o.horizontal?(o.width=d?d*r:l&&e.availableWidth,o.height=s):(o.width=r,o.height=d?d*s:l&&e.availableHeight)}return n}function QE(t){const e=GE(t),n=Wi(e.filter(c=>c.box.fullSize),!0),r=Wi(Ui(e,"left"),!0),s=Wi(Ui(e,"right")),i=Wi(Ui(e,"top"),!0),a=Wi(Ui(e,"bottom")),o=Wg(e,"x"),l=Wg(e,"y");return{fullSize:n,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(a).concat(o),chartArea:Ui(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(a).concat(o)}}function Hg(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function pb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function JE(t,e,n,r){const{pos:s,box:i}=n,a=t.maxPadding;if(!de(s)){n.size&&(t[s]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?i.height:i.width),n.size=h.size/h.count,t[s]+=n.size}i.getPadding&&pb(a,i.getPadding());const o=Math.max(0,e.outerWidth-Hg(a,t,"left","right")),l=Math.max(0,e.outerHeight-Hg(a,t,"top","bottom")),c=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function ZE(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function eT(t,e){const n=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(a=>{i[a]=Math.max(e[a],n[a])}),i}return r(t?["left","right"]:["top","bottom"])}function na(t,e,n,r){const s=[];let i,a,o,l,c,d;for(i=0,a=t.length,c=0;i<a;++i){o=t[i],l=o.box,l.update(o.width||e.w,o.height||e.h,eT(o.horizontal,e));const{same:h,other:f}=JE(e,n,o,r);c|=h&&s.length,d=d||f,l.fullSize||s.push(o)}return c&&na(s,e,n,r)||d}function sl(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Vg(t,e,n,r){const s=n.padding;let{x:i,y:a}=e;for(const o of t){const l=o.box,c=r[o.stack]||{placed:0,weight:1},d=o.stackWeight/c.weight||1;if(o.horizontal){const h=e.w*d,f=c.size||l.height;to(c.start)&&(a=c.start),l.fullSize?sl(l,s.left,a,n.outerWidth-s.right-s.left,f):sl(l,e.left+c.placed,a,h,f),c.start=a,c.placed+=h,a=l.bottom}else{const h=e.h*d,f=c.size||l.width;to(c.start)&&(i=c.start),l.fullSize?sl(l,i,s.top,f,n.outerHeight-s.bottom-s.top):sl(l,i,e.top+c.placed,f,h),c.start=i,c.placed+=h,i=l.right}}e.x=i,e.y=a}var Gt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=en(t.options.layout.padding),i=Math.max(e-s.width,0),a=Math.max(n-s.height,0),o=QE(t.boxes),l=o.vertical,c=o.horizontal;ge(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=l.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},s);pb(f,en(r));const m=Object.assign({maxPadding:f,w:i,h:a,x:s.left,y:s.top},s),x=KE(l.concat(c),h);na(o.fullSize,m,h,x),na(l,m,h,x),na(c,m,h,x)&&na(l,m,h,x),ZE(m),Vg(o.leftAndTop,m,h,x),m.x+=m.w,m.y+=m.h,Vg(o.rightAndBottom,m,h,x),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},ge(o.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class gb{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class tT extends gb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ml="$chartjs",nT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qg=t=>t===null||t==="";function rT(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Ml]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",qg(s)){const i=Tg(t,"width");i!==void 0&&(t.width=i)}if(qg(r))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Tg(t,"height");i!==void 0&&(t.height=i)}return t}const yb=rE?{passive:!0}:!1;function sT(t,e,n){t&&t.addEventListener(e,n,yb)}function iT(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,yb)}function aT(t,e){const n=nT[t.type]||t.type,{x:r,y:s}=Zr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function wc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function oT(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||wc(o.addedNodes,r),a=a&&!wc(o.removedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function lT(t,e,n){const r=t.canvas,s=new MutationObserver(i=>{let a=!1;for(const o of i)a=a||wc(o.removedNodes,r),a=a&&!wc(o.addedNodes,r);a&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ao=new Map;let Yg=0;function xb(){const t=window.devicePixelRatio;t!==Yg&&(Yg=t,ao.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function cT(t,e){ao.size||window.addEventListener("resize",xb),ao.set(t,e)}function uT(t){ao.delete(t),ao.size||window.removeEventListener("resize",xb)}function dT(t,e,n){const r=t.canvas,s=r&&cm(r);if(!s)return;const i=Jv((o,l)=>{const c=s.clientWidth;n(o,l),c<s.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||i(c,d)});return a.observe(s),cT(t,i),a}function ed(t,e,n){n&&n.disconnect(),e==="resize"&&uT(t)}function hT(t,e,n){const r=t.canvas,s=Jv(i=>{t.ctx!==null&&n(aT(i,t))},t);return sT(r,e,s),s}class fT extends gb{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(rT(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ml])return!1;const r=n[Ml].initial;["height","width"].forEach(i=>{const a=r[i];me(a)?n.removeAttribute(i):n.setAttribute(i,a)});const s=r.style||{};return Object.keys(s).forEach(i=>{n.style[i]=s[i]}),n.width=n.width,delete n[Ml],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),a={attach:oT,detach:lT,resize:dT}[n]||hT;s[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:ed,detach:ed,resize:ed}[n]||iT)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return nE(e,n,r,s)}isAttached(e){const n=e&&cm(e);return!!(n&&n.isConnected)}}function mT(t){return!lm()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?tT:fT}class pn{constructor(){D(this,"x");D(this,"y");D(this,"active",!1);D(this,"options");D(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return no(this.x)&&no(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}D(pn,"defaults",{}),D(pn,"defaultRoutes");function pT(t,e){const n=t.options.ticks,r=gT(t),s=Math.min(n.maxTicksLimit||r,r),i=n.major.enabled?xT(e):[],a=i.length,o=i[0],l=i[a-1],c=[];if(a>s)return vT(e,c,i,a/s),c;const d=yT(i,e,s);if(a>0){let h,f;const m=a>1?Math.round((l-o)/(a-1)):null;for(il(e,c,d,me(m)?0:o-m,o),h=0,f=a-1;h<f;h++)il(e,c,d,i[h],i[h+1]);return il(e,c,d,l,me(m)?e.length:l+m),c}return il(e,c,d),c}function gT(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function yT(t,e,n){const r=bT(t),s=e.length/n;if(!r)return Math.max(s,1);const i=tC(r);for(let a=0,o=i.length-1;a<o;a++){const l=i[a];if(l>s)return l}return Math.max(s,1)}function xT(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function vT(t,e,n,r){let s=0,i=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===i&&(e.push(t[a]),s++,i=n[s*r])}function il(t,e,n,r,s){const i=ie(r,0),a=Math.min(ie(s,t.length),t.length);let o=0,l,c,d;for(n=Math.ceil(n),s&&(l=s-r,n=l/Math.floor(l/n)),d=i;d<0;)o++,d=Math.round(i+o*n);for(c=Math.max(i,0);c<a;c++)c===d&&(e.push(t[c]),o++,d=Math.round(i+o*n))}function bT(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const wT=t=>t==="left"?"right":t==="right"?"left":t,Gg=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Xg=(t,e)=>Math.min(e||t,t);function Kg(t,e){const n=[],r=t.length/e,s=t.length;let i=0;for(;i<s;i+=r)n.push(t[Math.floor(i)]);return n}function _T(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),i=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(r===1?c=Math.max(l-i,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-o||l>a+o)))return l}function kT(t,e){ge(t,n=>{const r=n.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete n.data[r[i]];r.splice(0,s)}})}function Hi(t){return t.drawTicks?t.tickLength:0}function Qg(t,e){if(!t.display)return 0;const n=mt(t.font,e),r=en(t.padding);return(Xe(t.text)?t.text.length:1)*n.lineHeight+r.height}function jT(t,e){return js(t,{scale:e,type:"scale"})}function ST(t,e,n){return js(t,{tick:n,index:e,type:"tick"})}function NT(t,e,n){let r=Zf(t);return(n&&e!=="right"||!n&&e==="right")&&(r=wT(r)),r}function CT(t,e,n,r){const{top:s,left:i,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,f,m,x;const v=a-s,b=o-i;if(t.isHorizontal()){if(m=dt(r,i,o),de(n)){const y=Object.keys(n)[0],p=n[y];x=d[y].getPixelForValue(p)+v-e}else n==="center"?x=(c.bottom+c.top)/2+v-e:x=Gg(t,n,e);f=o-i}else{if(de(n)){const y=Object.keys(n)[0],p=n[y];m=d[y].getPixelForValue(p)-b+e}else n==="center"?m=(c.left+c.right)/2-b+e:m=Gg(t,n,e);x=dt(r,a,s),h=n==="left"?-Qe:Qe}return{titleX:m,titleY:x,maxWidth:f,rotation:h}}class Ti extends pn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=vn(e,Number.POSITIVE_INFINITY),n=vn(n,Number.NEGATIVE_INFINITY),r=vn(r,Number.POSITIVE_INFINITY),s=vn(s,Number.NEGATIVE_INFINITY),{min:vn(e,r),max:vn(n,s),minDefined:Zt(e),maxDefined:Zt(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),a;if(s&&i)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),s||(n=Math.min(n,a.min)),i||(r=Math.max(r,a.max));return n=i&&n>r?r:n,r=s&&n>r?n:r,{min:vn(n,vn(r,n)),max:vn(r,vn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:i,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AC(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Kg(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=pT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=je(n.callback,[i.value,r,e],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Xg(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,i=n.maxRotation;let a=s,o,l,c;if(!this._isVisible()||!n.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=ft(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/r:m/(r-1),h+6>o&&(o=m/(r-(e.offset?.5:1)),l=this.maxHeight-Hi(e.grid)-n.padding-Qg(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),a=iC(Math.min(Math.asin(ft((d.highest.height+6)/o,-1,1)),Math.asin(ft(l/c,-1,1))-Math.asin(ft(f/c,-1,1)))),a=Math.max(s,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:i}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=Qg(s,n.options.font);if(o?(e.width=this.maxWidth,e.height=Hi(i)+l):(e.height=this.maxHeight,e.width=Hi(i)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),m=r.padding*2,x=Hn(this.labelRotation),v=Math.cos(x),b=Math.sin(x);if(o){const y=r.mirror?0:b*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{const y=r.mirror?0:v*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(c,d,b,v)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:i,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=s*e.width,m=r*n.height):(f=r*e.height,m=s*n.width):i==="start"?m=n.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;i==="start"?(d=0,h=e.height):i==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)me(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Kg(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:i}=this,a=[],o=[],l=Math.floor(n/Xg(n,r));let c=0,d=0,h,f,m,x,v,b,y,p,g,w,_;for(h=0;h<n;h+=l){if(x=e[h].label,v=this._resolveTickFontOptions(h),s.font=b=v.string,y=i[b]=i[b]||{data:{},gc:[]},p=v.lineHeight,g=w=0,!me(x)&&!Xe(x))g=jg(s,y.data,y.gc,g,x),w=p;else if(Xe(x))for(f=0,m=x.length;f<m;++f)_=x[f],!me(_)&&!Xe(_)&&(g=jg(s,y.data,y.gc,g,_),w+=p);a.push(g),o.push(w),c=Math.max(g,c),d=Math.max(w,d)}kT(i,n);const k=a.indexOf(c),C=o.indexOf(d),T=O=>({width:a[O]||0,height:o[O]||0});return{first:T(0),last:T(n-1),widest:T(k),highest:T(C),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return oC(this._alignToPixels?Hr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=ST(this.getContext(),e,r))}return this.$context||(this.$context=jT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Hn(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,l=i?i.highest.height+a:0;return this.isHorizontal()?l*r>o*s?o/r:l/s:l*s<o*r?l/r:o/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:i,position:a,border:o}=s,l=i.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Hi(i),m=[],x=o.setContext(this.getContext()),v=x.display?x.width:0,b=v/2,y=function(A){return Hr(r,A,v)};let p,g,w,_,k,C,T,O,I,U,M,$;if(a==="top")p=y(this.bottom),C=this.bottom-f,O=p-b,U=y(e.top)+b,$=e.bottom;else if(a==="bottom")p=y(this.top),U=e.top,$=y(e.bottom)-b,C=p+b,O=this.top+f;else if(a==="left")p=y(this.right),k=this.right-f,T=p-b,I=y(e.left)+b,M=e.right;else if(a==="right")p=y(this.left),I=e.left,M=y(e.right)-b,k=p+b,T=this.left+f;else if(n==="x"){if(a==="center")p=y((e.top+e.bottom)/2+.5);else if(de(a)){const A=Object.keys(a)[0],V=a[A];p=y(this.chart.scales[A].getPixelForValue(V))}U=e.top,$=e.bottom,C=p+b,O=C+f}else if(n==="y"){if(a==="center")p=y((e.left+e.right)/2);else if(de(a)){const A=Object.keys(a)[0],V=a[A];p=y(this.chart.scales[A].getPixelForValue(V))}k=p-b,T=k-f,I=e.left,M=e.right}const S=ie(s.ticks.maxTicksLimit,h),z=Math.max(1,Math.ceil(h/S));for(g=0;g<h;g+=z){const A=this.getContext(g),V=i.setContext(A),L=o.setContext(A),N=V.lineWidth,F=V.color,H=L.dash||[],J=L.dashOffset,Ce=V.tickWidth,fe=V.tickColor,at=V.tickBorderDash||[],He=V.tickBorderDashOffset;w=_T(this,g,l),w!==void 0&&(_=Hr(r,w,N),c?k=T=I=M=_:C=O=U=$=_,m.push({tx1:k,ty1:C,tx2:T,ty2:O,x1:I,y1:U,x2:M,y2:$,width:N,color:F,borderDash:H,borderDashOffset:J,tickWidth:Ce,tickColor:fe,tickBorderDash:at,tickBorderDashOffset:He}))}return this._ticksLength=h,this._borderValue=p,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:i}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=i,f=Hi(r.grid),m=f+d,x=h?-d:m,v=-Hn(this.labelRotation),b=[];let y,p,g,w,_,k,C,T,O,I,U,M,$="middle";if(s==="top")k=this.bottom-x,C=this._getXAxisLabelAlignment();else if(s==="bottom")k=this.top+x,C=this._getXAxisLabelAlignment();else if(s==="left"){const z=this._getYAxisLabelAlignment(f);C=z.textAlign,_=z.x}else if(s==="right"){const z=this._getYAxisLabelAlignment(f);C=z.textAlign,_=z.x}else if(n==="x"){if(s==="center")k=(e.top+e.bottom)/2+m;else if(de(s)){const z=Object.keys(s)[0],A=s[z];k=this.chart.scales[z].getPixelForValue(A)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")_=(e.left+e.right)/2-m;else if(de(s)){const z=Object.keys(s)[0],A=s[z];_=this.chart.scales[z].getPixelForValue(A)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?$="top":l==="end"&&($="bottom"));const S=this._getLabelSizes();for(y=0,p=o.length;y<p;++y){g=o[y],w=g.label;const z=i.setContext(this.getContext(y));T=this.getPixelForTick(y)+i.labelOffset,O=this._resolveTickFontOptions(y),I=O.lineHeight,U=Xe(w)?w.length:1;const A=U/2,V=z.color,L=z.textStrokeColor,N=z.textStrokeWidth;let F=C;a?(_=T,C==="inner"&&(y===p-1?F=this.options.reverse?"left":"right":y===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?c==="near"||v!==0?M=-U*I+I/2:c==="center"?M=-S.highest.height/2-A*I+I:M=-S.highest.height+I/2:c==="near"||v!==0?M=I/2:c==="center"?M=S.highest.height/2-A*I:M=S.highest.height-U*I,h&&(M*=-1),v!==0&&!z.showLabelBackdrop&&(_+=I/2*Math.sin(v))):(k=T,M=(1-U)*I/2);let H;if(z.showLabelBackdrop){const J=en(z.backdropPadding),Ce=S.heights[y],fe=S.widths[y];let at=M-J.top,He=0-J.left;switch($){case"middle":at-=Ce/2;break;case"bottom":at-=Ce;break}switch(C){case"center":He-=fe/2;break;case"right":He-=fe;break;case"inner":y===p-1?He-=fe:y>0&&(He-=fe/2);break}H={left:He,top:at,width:fe+J.width,height:Ce+J.height,color:z.backdropColor}}b.push({label:w,font:O,textOffset:M,options:{rotation:v,color:V,strokeColor:L,strokeWidth:N,textAlign:F,textBaseline:$,translation:[_,k],backdrop:H}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Hn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,a=this._getLabelSizes(),o=e+i,l=a.widest.width;let c,d;return n==="left"?s?(d=this.right+i,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-o,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?s?(d=this.left+i,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+o,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:i,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,i,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const o=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(i=0,a=s.length;i<a;++i){const l=s[i];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),a=r.display?i.width:0;if(!a)return;const o=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=Hr(e,this.left,a)-a/2,d=Hr(e,this.right,o)+o/2,h=f=l):(h=Hr(e,this.top,a)-a/2,f=Hr(e,this.bottom,o)+o/2,c=d=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&nm(r,s);const i=this.getLabelItems(e);for(const a of i){const o=a.options,l=a.font,c=a.label,d=a.textOffset;io(r,c,0,d,l,o)}s&&rm(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const i=mt(r.font),a=en(r.padding),o=r.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||de(n)?(l+=a.bottom,Xe(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=CT(this,l,n,o);io(e,r.text,0,0,i,{color:r.color,maxWidth:h,rotation:f,textAlign:NT(o,n,s),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ie(e.grid&&e.grid.z,-1),s=ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ti.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,a;for(i=0,a=n.length;i<a;++i){const o=n[i];o[r]===this.id&&(!e||o.type===e)&&s.push(o)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return mt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class al{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;PT(n)&&(r=this.register(n));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,ET(e,a,r),this.override&&Be.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Be[s]&&(delete Be[s][r],this.override&&delete vs[r])}}function ET(t,e,n){const r=eo(Object.create(null),[n?Be.get(n):{},Be.get(e),t.defaults]);Be.set(e,r),t.defaultRoutes&&TT(e,t.defaultRoutes),t.descriptors&&Be.describe(e,t.descriptors)}function TT(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),i=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");Be.route(i,s,l,o)})}function PT(t){return"id"in t&&"defaults"in t}class MT{constructor(){this.controllers=new al(hs,"datasets",!0),this.elements=new al(pn,"elements"),this.plugins=new al(Object,"plugins"),this.scales=new al(Ti,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):ge(s,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const s=Qf(e);je(r["before"+s],[],r),n[e](r),je(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var _n=new MT;class DT{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,n,r);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,r,s){s=s||{};for(const i of e){const a=i.plugin,o=a[r],l=[n,s,i.options];if(je(o,l,a)===!1&&s.cancelable)return!1}return!0}invalidate(){me(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=ie(r.options&&r.options.plugins,{}),i=OT(r);return s===!1&&!n?[]:RT(e,i,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(i,a)=>i.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function OT(t){const e={},n=[],r=Object.keys(_n.plugins.items);for(let i=0;i<r.length;i++)n.push(_n.getPlugin(r[i]));const s=t.plugins||[];for(let i=0;i<s.length;i++){const a=s[i];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function AT(t,e){return!e&&t===!1?null:t===!0?{}:t}function RT(t,{plugins:e,localIds:n},r,s){const i=[],a=t.getContext();for(const o of e){const l=o.id,c=AT(r[l],s);c!==null&&i.push({plugin:o,options:IT(t.config,{plugin:o,local:n[l]},c,a)})}return i}function IT(t,{plugin:e,local:n},r,s){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(r,i);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function kh(t,e){const n=Be.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function LT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function FT(t,e){return t===e?"_index_":"_value_"}function Jg(t){if(t==="x"||t==="y"||t==="r")return t}function $T(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function jh(t,...e){if(Jg(t))return t;for(const n of e){const r=n.axis||$T(n.position)||t.length>1&&Jg(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Zg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function zT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Zg(t,"x",n[0])||Zg(t,"y",n[0])}return{}}function BT(t,e){const n=vs[t.type]||{scales:{}},r=e.scales||{},s=kh(t.type,e),i=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!de(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=jh(a,o,zT(a,t),Be.scales[o.type]),c=FT(l,s),d=n.scales||{};i[a]=_a(Object.create(null),[{axis:l},o,d[l],d[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||kh(o,e),d=(vs[o]||{}).scales||{};Object.keys(d).forEach(h=>{const f=LT(h,l),m=a[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),_a(i[m],[{axis:f},r[m],d[h]])})}),Object.keys(i).forEach(a=>{const o=i[a];_a(o,[Be.scales[o.type],Be.scale])}),i}function vb(t){const e=t.options||(t.options={});e.plugins=ie(e.plugins,{}),e.scales=BT(t,e)}function bb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function UT(t){return t=t||{},t.data=bb(t.data),vb(t),t}const e0=new Map,wb=new Set;function ol(t,e){let n=e0.get(t);return n||(n=e(),e0.set(t,n),wb.add(n)),n}const Vi=(t,e,n)=>{const r=xs(e,n);r!==void 0&&t.add(r)};class WT{constructor(e){this._config=UT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vb(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ol(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ol(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ol(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ol(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:i}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>Vi(l,e,h))),d.forEach(h=>Vi(l,s,h)),d.forEach(h=>Vi(l,vs[i]||{},h)),d.forEach(h=>Vi(l,Be,h)),d.forEach(h=>Vi(l,bh,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),wb.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,vs[n]||{},Be.datasets[n]||{},{type:n},Be,bh]}resolveNamedOptions(e,n,r,s=[""]){const i={$shared:!0},{resolver:a,subPrefixes:o}=t0(this._resolverCache,e,s);let l=a;if(VT(a,n)){i.$shared=!1,r=Ir(r)?r():r;const c=this.createResolver(e,r,o);l=gi(a,r,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,r=[""],s){const{resolver:i}=t0(this._resolverCache,e,r);return de(n)?gi(i,n,void 0,s):i}}function t0(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let i=r.get(s);return i||(i={resolver:im(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(s,i)),i}const HT=t=>de(t)&&Object.getOwnPropertyNames(t).some(e=>Ir(t[e]));function VT(t,e){const{isScriptable:n,isIndexable:r}=nb(t);for(const s of e){const i=n(s),a=r(s),o=(a||i)&&t[s];if(i&&(Ir(o)||HT(o))||a&&Xe(o))return!0}return!1}var qT="4.5.0";const YT=["top","bottom","left","right","chartArea"];function n0(t,e){return t==="top"||t==="bottom"||YT.indexOf(t)===-1&&e==="x"}function r0(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function s0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),je(n&&n.onComplete,[t],e)}function GT(t){const e=t.chart,n=e.options.animation;je(n&&n.onProgress,[t],e)}function _b(t){return lm()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Dl={},i0=t=>{const e=_b(t);return Object.values(Dl).filter(n=>n.canvas===e).pop()};function XT(t,e,n){const r=Object.keys(t);for(const s of r){const i=+s;if(i>=e){const a=t[s];delete t[s],(n>0||i>e)&&(t[i+n]=a)}}}function KT(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var or;let su=(or=class{static register(...e){_n.add(...e),a0()}static unregister(...e){_n.remove(...e),a0()}constructor(e,n){const r=this.config=new WT(n),s=_b(e),i=i0(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||mT(s)),this.platform.updateConfig(r);const o=this.platform.acquireContext(s,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,d=l&&l.width;if(this.id=qN(),this.ctx=o,this.canvas=l,this.width=d,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dC(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Dl[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}In.listen(this,"complete",s0),In.listen(this,"progress",GT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:i}=this;return me(e)?n&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _n}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Eg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sg(this.canvas,this.ctx),this}stop(){return In.stop(this),this}resize(e,n){In.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,n,i),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Eg(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),je(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ge(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let i=[];n&&(i=i.concat(Object.keys(n).map(a=>{const o=n[a],l=jh(a,o),c=l==="r",d=l==="x";return{options:o,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),ge(i,a=>{const o=a.options,l=o.id,c=jh(l,o),d=ie(o.type,a.dtype);(o.position===void 0||n0(o.position,c)!==n0(a.dposition))&&(o.position=a.dposition),s[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{const f=_n.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(o,e)}),ge(s,(a,o)=>{a||delete r[o]}),ge(r,a=>{Gt.configure(this,a,a.options),Gt.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(r0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const i=n[r];let a=this.getDatasetMeta(r);const o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=i.indexAxis||kh(o,this.options),a.order=i.order||0,a.index=r,a.label=""+i.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=_n.getController(o),{datasetElementType:c,dataElementType:d}=Be.datasets[o];Object.assign(l,{dataElementType:_n.getElement(d),datasetElementType:c&&_n.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){ge(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||ge(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(r0("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){ge(this.scales,e=>{Gt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!pg(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of n){const a=r==="_removeElements"?-i:i;XT(e,s,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=i=>new Set(e.filter(a=>a[0]===i).map((a,o)=>o+","+a.splice(1).join(","))),s=r(0);for(let i=1;i<n;i++)if(!pg(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Gt.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ge(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ir(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(In.has(this)?this.attached&&!In.running(this)&&In.start(this):(this.draw(),s0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,i;for(s=0,i=n.length;s<i;++s){const a=n[s];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=yE(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&nm(n,s),e.controller.draw(),s&&rm(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return so(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const i=YE.modes[n];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=js(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);to(n)?(i.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(i,{visible:r}),this.update(o=>o.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),In.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Sg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(i,a)=>{n.addEventListener(this,i,a),e[i]=a},s=(i,a,o)=>{i.offsetX=a,i.offsetY=o,this._eventHandler(i)};ge(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{s("attach",o),this.attached=!0,this.resize(),r("resize",i),r("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){ge(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ge(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let i,a,o,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:i,index:a})=>{const o=this.getDatasetMeta(i);if(!o)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:o.data[a],index:a}});!gc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,i=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=i(n,e),o=r?e:i(e,n);a.length&&this.updateHoverStyle(a,s.mode,!1),o.length&&s.mode&&this.updateHoverStyle(o,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:i}=this,a=n,o=this._getActiveElements(e,s,r,a),l=JN(e),c=KT(e,this._lastEvent,r,l);r&&(this._lastEvent=null,je(i.onHover,[e,o,this],this),l&&je(i.onClick,[e,o,this],this));const d=!gc(o,s);return(d||n)&&(this._active=o,this._updateHoverStyles(o,s,n)),this._lastEvent=c,d}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},D(or,"defaults",Be),D(or,"instances",Dl),D(or,"overrides",vs),D(or,"registry",_n),D(or,"version",qT),D(or,"getChart",i0),or);function a0(){return ge(su.instances,t=>t._plugins.invalidate())}function QT(t,e,n){const{startAngle:r,x:s,y:i,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:d}=l,h=Math.min(c/a,ln(r-n));if(t.beginPath(),t.arc(s,i,a-c/2,r+h/2,n-h/2),o>0){const f=Math.min(c/o,ln(r-n));t.arc(s,i,o+c/2,n-f/2,r+f/2,!0)}else{const f=Math.min(c/2,a*ln(r-n));if(d==="round")t.arc(s,i,f,n-ye/2,r+ye/2,!0);else if(d==="bevel"){const m=2*f*f,x=-m*Math.cos(n+ye/2)+s,v=-m*Math.sin(n+ye/2)+i,b=m*Math.cos(r+ye/2)+s,y=m*Math.sin(r+ye/2)+i;t.lineTo(x,v),t.lineTo(b,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function JT(t,e,n){const{startAngle:r,pixelMargin:s,x:i,y:a,outerRadius:o,innerRadius:l}=e;let c=s/o;t.beginPath(),t.arc(i,a,o,r-c,n+c),l>s?(c=s/l,t.arc(i,a,l,n+c,r-c,!0)):t.arc(i,a,s,n+Qe,r-Qe),t.closePath(),t.clip()}function ZT(t){return sm(t,["outerStart","outerEnd","innerStart","innerEnd"])}function eP(t,e,n,r){const s=ZT(t.options.borderRadius),i=(n-e)/2,a=Math.min(i,r*e/2),o=l=>{const c=(n-Math.min(i,l))*r/2;return ft(l,0,Math.min(i,c))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:ft(s.innerStart,0,a),innerEnd:ft(s.innerEnd,0,a)}}function Os(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function _c(t,e,n,r,s,i){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=e,h=Math.max(e.outerRadius+r+n-c,0),f=d>0?d+r+n+c:0;let m=0;const x=s-l;if(r){const z=d>0?d-r:0,A=h>0?h-r:0,V=(z+A)/2,L=V!==0?x*V/(V+r):x;m=(x-L)/2}const v=Math.max(.001,x*h-n/ye)/h,b=(x-v)/2,y=l+b+m,p=s-b-m,{outerStart:g,outerEnd:w,innerStart:_,innerEnd:k}=eP(e,f,h,p-y),C=h-g,T=h-w,O=y+g/C,I=p-w/T,U=f+_,M=f+k,$=y+_/U,S=p-k/M;if(t.beginPath(),i){const z=(O+I)/2;if(t.arc(a,o,h,O,z),t.arc(a,o,h,z,I),w>0){const N=Os(T,I,a,o);t.arc(N.x,N.y,w,I,p+Qe)}const A=Os(M,p,a,o);if(t.lineTo(A.x,A.y),k>0){const N=Os(M,S,a,o);t.arc(N.x,N.y,k,p+Qe,S+Math.PI)}const V=(p-k/f+(y+_/f))/2;if(t.arc(a,o,f,p-k/f,V,!0),t.arc(a,o,f,V,y+_/f,!0),_>0){const N=Os(U,$,a,o);t.arc(N.x,N.y,_,$+Math.PI,y-Qe)}const L=Os(C,y,a,o);if(t.lineTo(L.x,L.y),g>0){const N=Os(C,O,a,o);t.arc(N.x,N.y,g,y-Qe,O)}}else{t.moveTo(a,o);const z=Math.cos(O)*h+a,A=Math.sin(O)*h+o;t.lineTo(z,A);const V=Math.cos(I)*h+a,L=Math.sin(I)*h+o;t.lineTo(V,L)}t.closePath()}function tP(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o}=e;let l=e.endAngle;if(i){_c(t,e,n,r,l,s);for(let c=0;c<i;++c)t.fill();isNaN(o)||(l=a+(o%Fe||Fe))}return _c(t,e,n,r,l,s),t.fill(),l}function nP(t,e,n,r,s){const{fullCircles:i,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f,borderRadius:m}=l,x=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,x?(t.lineWidth=c*2,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let v=e.endAngle;if(i){_c(t,e,n,r,v,s);for(let b=0;b<i;++b)t.stroke();isNaN(o)||(v=a+(o%Fe||Fe))}x&&JT(t,e,v),l.selfJoin&&v-a>=ye&&m===0&&d!=="miter"&&QT(t,e,v),i||(_c(t,e,n,r,v,s),t.stroke())}class ra extends pn{constructor(n){super();D(this,"circumference");D(this,"endAngle");D(this,"fullCircles");D(this,"innerRadius");D(this,"outerRadius");D(this,"pixelMargin");D(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.getProps(["x","y"],s),{angle:a,distance:o}=Gv(i,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,x=ie(f,c-l),v=ro(a,l,c)&&l!==c,b=x>=Fe||v,y=br(o,d+m,h+m);return b&&y}getCenterPoint(n){const{x:r,y:s,startAngle:i,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,h=(i+a)/2,f=(o+l+d+c)/2;return{x:r+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,i=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Fe?Math.floor(s/Fe):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(ye,s||0)),d=i*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,tP(n,this,d,a,o),nP(n,this,d,a,o),n.restore()}}D(ra,"id","arc"),D(ra,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),D(ra,"defaultRoutes",{backgroundColor:"backgroundColor"}),D(ra,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function kb(t,e,n=e){t.lineCap=ie(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ie(n.borderDash,e.borderDash)),t.lineDashOffset=ie(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ie(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ie(n.borderWidth,e.borderWidth),t.strokeStyle=ie(n.borderColor,e.borderColor)}function rP(t,e,n){t.lineTo(n.x,n.y)}function sP(t){return t.stepped?SC:t.tension||t.cubicInterpolationMode==="monotone"?NC:rP}function jb(t,e,n={}){const r=t.length,{start:s=0,end:i=r-1}=n,{start:a,end:o}=e,l=Math.max(s,a),c=Math.min(i,o),d=s<a&&i<a||s>o&&i>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!d?r+c-l:c-l}}function iP(t,e,n,r){const{points:s,options:i}=e,{count:a,start:o,loop:l,ilen:c}=jb(s,n,r),d=sP(i);let{move:h=!0,reverse:f}=r||{},m,x,v;for(m=0;m<=c;++m)x=s[(o+(f?c-m:m))%a],!x.skip&&(h?(t.moveTo(x.x,x.y),h=!1):d(t,v,x,f,i.stepped),v=x);return l&&(x=s[(o+(f?c:0))%a],d(t,v,x,f,i.stepped)),!!l}function aP(t,e,n,r){const s=e.points,{count:i,start:a,ilen:o}=jb(s,n,r),{move:l=!0,reverse:c}=r||{};let d=0,h=0,f,m,x,v,b,y;const p=w=>(a+(c?o-w:w))%i,g=()=>{v!==b&&(t.lineTo(d,b),t.lineTo(d,v),t.lineTo(d,y))};for(l&&(m=s[p(0)],t.moveTo(m.x,m.y)),f=0;f<=o;++f){if(m=s[p(f)],m.skip)continue;const w=m.x,_=m.y,k=w|0;k===x?(_<v?v=_:_>b&&(b=_),d=(h*d+w)/++h):(g(),t.lineTo(w,_),x=k,h=0,v=b=_),y=_}g()}function Sh(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?aP:iP}function oP(t){return t.stepped?sE:t.tension||t.cubicInterpolationMode==="monotone"?iE:es}function lP(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),kb(t,e.options),t.stroke(s)}function cP(t,e,n,r){const{segments:s,options:i}=e,a=Sh(e);for(const o of s)kb(t,i,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const uP=typeof Path2D=="function";function dP(t,e,n,r){uP&&!e.options.segment?lP(t,e,n,r):cP(t,e,n,r)}class sa extends pn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;KC(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fE(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],i=this.points,a=uE(this,{property:n,start:s,end:s});if(!a.length)return;const o=[],l=oP(r);let c,d;for(c=0,d=a.length;c<d;++c){const{start:h,end:f}=a[c],m=i[h],x=i[f];if(m===x){o.push(m);continue}const v=Math.abs((s-m[n])/(x[n]-m[n])),b=l(m,x,v,r.stepped);b[n]=e[n],o.push(b)}return o.length===1?o[0]:o}pathSegment(e,n,r){return Sh(this)(e,this,n,r)}path(e,n,r){const s=this.segments,i=Sh(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of s)a&=i(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),dP(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}D(sa,"id","line"),D(sa,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),D(sa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),D(sa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function o0(t,e,n,r){const s=t.options,{[n]:i}=t.getProps([n],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Ol extends pn{constructor(n){super();D(this,"parsed");D(this,"skip");D(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const i=this.options,{x:a,y:o}=this.getProps(["x","y"],s);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,r){return o0(this,n,"x",r)}inYRange(n,r){return o0(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!so(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,wh(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}D(Ol,"id","point"),D(Ol,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),D(Ol,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Sb(t,e){const{x:n,y:r,base:s,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,d,h;return t.horizontal?(h=a/2,o=Math.min(n,s),l=Math.max(n,s),c=r-h,d=r+h):(h=i/2,o=n-h,l=n+h,c=Math.min(r,s),d=Math.max(r,s)),{left:o,top:c,right:l,bottom:d}}function wr(t,e,n,r){return t?0:ft(e,n,r)}function hP(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,i=tb(r);return{t:wr(s.top,i.top,0,n),r:wr(s.right,i.right,0,e),b:wr(s.bottom,i.bottom,0,n),l:wr(s.left,i.left,0,e)}}function fP(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,i=ii(s),a=Math.min(e,n),o=t.borderSkipped,l=r||de(s);return{topLeft:wr(!l||o.top||o.left,i.topLeft,0,a),topRight:wr(!l||o.top||o.right,i.topRight,0,a),bottomLeft:wr(!l||o.bottom||o.left,i.bottomLeft,0,a),bottomRight:wr(!l||o.bottom||o.right,i.bottomRight,0,a)}}function mP(t){const e=Sb(t),n=e.right-e.left,r=e.bottom-e.top,s=hP(t,n/2,r/2),i=fP(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function td(t,e,n,r){const s=e===null,i=n===null,o=t&&!(s&&i)&&Sb(t,r);return o&&(s||br(e,o.left,o.right))&&(i||br(n,o.top,o.bottom))}function pP(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function gP(t,e){t.rect(e.x,e.y,e.w,e.h)}function nd(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+i,h:t.h+a,radius:t.radius}}class Al extends pn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:a}=mP(this),o=pP(a.radius)?vc:gP;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),o(e,nd(a,n,i)),e.clip(),o(e,nd(i,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,nd(i,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return td(this,e,n,r)}inXRange(e,n){return td(this,e,null,n)}inYRange(e,n){return td(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+s)/2:n,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}D(Al,"id","bar"),D(Al,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),D(Al,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const l0=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},yP=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class c0 extends pn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=je(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=mt(r.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=l0(r,i);let c,d;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(a,i,o,l)+10):(d=this.maxHeight,c=this._fitCols(a,s,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:i,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+o;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-d;return this.legendItems.forEach((x,v)=>{const b=r+n/2+i.measureText(x.text).width;(v===0||c[c.length-1]+b+2*o>a)&&(h+=d,c[c.length-(v>0?0:1)]=0,m+=d,f++),l[v]={left:0,top:m,row:f,width:b,height:s},c[c.length-1]+=b+o}),h}_fitCols(e,n,r,s){const{ctx:i,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=a-e;let h=o,f=0,m=0,x=0,v=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:p,itemHeight:g}=xP(r,n,i,b,s);y>0&&m+g+2*o>d&&(h+=f+o,c.push({width:f,height:m}),x+=f+o,v++,f=m=0),l[y]={left:x,top:m,col:v,width:p,height:g},f=Math.max(f,p),m+=g+o}),h+=f,c.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:i}}=this,a=ai(i,this.left,this.width);if(this.isHorizontal()){let o=0,l=dt(r,this.left+s,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=dt(r,this.left+s,this.right-this.lineWidths[o])),c.top+=this.top+e+s,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+s}else{let o=0,l=dt(r,this.top+e+s,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=dt(r,this.top+e+s,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+s,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nm(e,this),this._draw(),rm(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:i,labels:a}=e,o=Be.color,l=ai(e.rtl,this.left,this.width),c=mt(a.font),{padding:d}=a,h=c.size,f=h/2;let m;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:x,boxHeight:v,itemHeight:b}=l0(a,h),y=function(k,C,T){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;s.save();const O=ie(T.lineWidth,1);if(s.fillStyle=ie(T.fillStyle,o),s.lineCap=ie(T.lineCap,"butt"),s.lineDashOffset=ie(T.lineDashOffset,0),s.lineJoin=ie(T.lineJoin,"miter"),s.lineWidth=O,s.strokeStyle=ie(T.strokeStyle,o),s.setLineDash(ie(T.lineDash,[])),a.usePointStyle){const I={radius:v*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:O},U=l.xPlus(k,x/2),M=C+f;eb(s,I,U,M,a.pointStyleWidth&&x)}else{const I=C+Math.max((h-v)/2,0),U=l.leftForLtr(k,x),M=ii(T.borderRadius);s.beginPath(),Object.values(M).some($=>$!==0)?vc(s,{x:U,y:I,w:x,h:v,radius:M}):s.rect(U,I,x,v),s.fill(),O!==0&&s.stroke()}s.restore()},p=function(k,C,T){io(s,T.text,k,C+b/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},g=this.isHorizontal(),w=this._computeTitleHeight();g?m={x:dt(i,this.left+d,this.right-r[0]),y:this.top+d+w,line:0}:m={x:this.left+d,y:dt(i,this.top+w+d,this.bottom-n[0].height),line:0},ob(this.ctx,e.textDirection);const _=b+d;this.legendItems.forEach((k,C)=>{s.strokeStyle=k.fontColor,s.fillStyle=k.fontColor;const T=s.measureText(k.text).width,O=l.textAlign(k.textAlign||(k.textAlign=a.textAlign)),I=x+f+T;let U=m.x,M=m.y;l.setWidth(this.width),g?C>0&&U+I+d>this.right&&(M=m.y+=_,m.line++,U=m.x=dt(i,this.left+d,this.right-r[m.line])):C>0&&M+_>this.bottom&&(U=m.x=U+n[m.line].width+d,m.line++,M=m.y=dt(i,this.top+w+d,this.bottom-n[m.line].height));const $=l.x(U);if(y($,M,k),U=hC(O,U+x+f,g?U+I:this.right,e.rtl),p(l.x(U),M,k),g)m.x+=I+d;else if(typeof k.text!="string"){const S=c.lineHeight;m.y+=Nb(k,S)+d}else m.y+=_}),lb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=mt(n.font),s=en(n.padding);if(!n.display)return;const i=ai(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,c=s.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=dt(e.align,h,this.right-f);else{const x=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=c+dt(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const m=dt(o,h,h+f);a.textAlign=i.textAlign(Zf(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,io(a,n.text,m,d,r)}_computeTitleHeight(){const e=this.options.title,n=mt(e.font),r=en(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,i;if(br(e,this.left,this.right)&&br(n,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],br(e,s.left,s.left+s.width)&&br(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!wP(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=yP(s,r);s&&!i&&je(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&je(n.onHover,[e,r,this],this)}else r&&je(n.onClick,[e,r,this],this)}}function xP(t,e,n,r,s){const i=vP(r,t,e,n),a=bP(s,r,e.lineHeight);return{itemWidth:i,itemHeight:a}}function vP(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((i,a)=>i.length>a.length?i:a)),e+n.size/2+r.measureText(s).width}function bP(t,e,n){let r=t;return typeof e.text!="string"&&(r=Nb(e,n)),r}function Nb(t,e){const n=t.text?t.text.length:0;return e*n}function wP(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var _P={id:"legend",_element:c0,start(t,e,n){const r=t.legend=new c0({ctx:t.ctx,options:n,chart:t});Gt.configure(t,r,n),Gt.addBox(t,r)},stop(t){Gt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Gt.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:i,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=en(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Cb extends pn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Xe(r.text)?r.text.length:1;this._padding=en(r.padding);const i=s*mt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:i,options:a}=this,o=a.align;let l=0,c,d,h;return this.isHorizontal()?(d=dt(o,r,i),h=n+e,c=i-r):(a.position==="left"?(d=r+e,h=dt(o,s,n),l=ye*-.5):(d=i-e,h=dt(o,n,s),l=ye*.5),c=s-n),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=mt(n.font),i=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(i);io(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Zf(n.align),textBaseline:"middle",translation:[a,o]})}}function kP(t,e){const n=new Cb({ctx:t.ctx,options:e,chart:t});Gt.configure(t,n,e),Gt.addBox(t,n),t.titleBlock=n}var jP={id:"title",_element:Cb,start(t,e,n){kP(t,n)},stop(t){const e=t.titleBlock;Gt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Gt.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ia={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,i=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:s/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,a,o;for(i=0,a=t.length;i<a;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=vh(e,c);d<s&&(s=d,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function bn(t,e){return e&&(Xe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ln(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function SP(t,e){const{element:n,datasetIndex:r,index:s}=e,i=t.getDatasetMeta(r).controller,{label:a,value:o}=i.getLabelAndValue(s);return{chart:t,label:a,parsed:i.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:o,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function u0(t,e){const n=t.chart.ctx,{body:r,footer:s,title:i}=t,{boxWidth:a,boxHeight:o}=e,l=mt(e.bodyFont),c=mt(e.titleFont),d=mt(e.footerFont),h=i.length,f=s.length,m=r.length,x=en(e.padding);let v=x.height,b=0,y=r.reduce((w,_)=>w+_.before.length+_.lines.length+_.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const w=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;v+=m*w+(y-m)*l.lineHeight+(y-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let p=0;const g=function(w){b=Math.max(b,n.measureText(w).width+p)};return n.save(),n.font=c.string,ge(t.title,g),n.font=l.string,ge(t.beforeBody.concat(t.afterBody),g),p=e.displayColors?a+2+e.boxPadding:0,ge(r,w=>{ge(w.before,g),ge(w.lines,g),ge(w.after,g)}),p=0,n.font=d.string,ge(t.footer,g),n.restore(),b+=x.width,{width:b,height:v}}function NP(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function CP(t,e,n,r){const{x:s,width:i}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&s+i+a>e.width||t==="right"&&s-i-a<0)return!0}function EP(t,e,n,r){const{x:s,width:i}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return r==="center"?c=s<=(o+l)/2?"left":"right":s<=i/2?c="left":s>=a-i/2&&(c="right"),CP(c,t,e,n)&&(c="center"),c}function d0(t,e,n){const r=n.yAlign||e.yAlign||NP(t,n);return{xAlign:n.xAlign||e.xAlign||EP(t,e,n,r),yAlign:r}}function TP(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function PP(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function h0(t,e,n,r){const{caretSize:s,caretPadding:i,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=s+i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=ii(a);let x=TP(e,o);const v=PP(e,l,c);return l==="center"?o==="left"?x+=c:o==="right"&&(x-=c):o==="left"?x-=Math.max(d,f)+s:o==="right"&&(x+=Math.max(h,m)+s),{x:ft(x,0,r.width-e.width),y:ft(v,0,r.height-e.height)}}function ll(t,e,n){const r=en(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function f0(t){return bn([],Ln(t))}function MP(t,e,n){return js(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function m0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Eb={beforeTitle:An,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:An,beforeBody:An,beforeLabel:An,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return me(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:An,afterBody:An,beforeFooter:An,footer:An,afterFooter:An};function _t(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?Eb[e].call(n,r):s}class Nh extends pn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,i=new ub(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=MP(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=_t(r,"beforeTitle",this,e),i=_t(r,"title",this,e),a=_t(r,"afterTitle",this,e);let o=[];return o=bn(o,Ln(s)),o=bn(o,Ln(i)),o=bn(o,Ln(a)),o}getBeforeBody(e,n){return f0(_t(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return ge(e,i=>{const a={before:[],lines:[],after:[]},o=m0(r,i);bn(a.before,Ln(_t(o,"beforeLabel",this,i))),bn(a.lines,_t(o,"label",this,i)),bn(a.after,Ln(_t(o,"afterLabel",this,i))),s.push(a)}),s}getAfterBody(e,n){return f0(_t(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=_t(r,"beforeFooter",this,e),i=_t(r,"footer",this,e),a=_t(r,"afterFooter",this,e);let o=[];return o=bn(o,Ln(s)),o=bn(o,Ln(i)),o=bn(o,Ln(a)),o}_createItems(e){const n=this._active,r=this.chart.data,s=[],i=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(SP(this.chart,n[l]));return e.filter&&(o=o.filter((d,h,f)=>e.filter(d,h,f,r))),e.itemSort&&(o=o.sort((d,h)=>e.itemSort(d,h,r))),ge(o,d=>{const h=m0(e.callbacks,d);s.push(_t(h,"labelColor",this,d)),i.push(_t(h,"labelPointStyle",this,d)),a.push(_t(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const o=ia[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=u0(this,r),c=Object.assign({},o,l),d=d0(this.chart,r,c),h=h0(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,i={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const i=this.getCaretPosition(e,r,s);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=ii(o),{x:f,y:m}=e,{width:x,height:v}=n;let b,y,p,g,w,_;return i==="center"?(w=m+v/2,s==="left"?(b=f,y=b-a,g=w+a,_=w-a):(b=f+x,y=b+a,g=w-a,_=w+a),p=b):(s==="left"?y=f+Math.max(l,d)+a:s==="right"?y=f+x-Math.max(c,h)-a:y=this.caretX,i==="top"?(g=m,w=g-a,b=y-a,p=y+a):(g=m+v,w=g+a,b=y+a,p=y-a),_=g),{x1:b,x2:y,x3:p,y1:g,y2:w,y3:_}}drawTitle(e,n,r){const s=this.title,i=s.length;let a,o,l;if(i){const c=ai(r.rtl,this.x,this.width);for(e.x=ll(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",a=mt(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<i;++l)n.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===i&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,s,i){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,d=mt(i.bodyFont),h=ll(this,"left",i),f=s.x(h),m=l<d.lineHeight?(d.lineHeight-l)/2:0,x=n.y+m;if(i.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},b=s.leftForLtr(f,c)+c/2,y=x+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,wh(e,v,b,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,wh(e,v,b,y)}else{e.lineWidth=de(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const v=s.leftForLtr(f,c),b=s.leftForLtr(s.xPlus(f,1),c-2),y=ii(a.borderRadius);Object.values(y).some(p=>p!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,vc(e,{x:v,y:x,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),vc(e,{x:b,y:x+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(v,x,c,l),e.strokeRect(v,x,c,l),e.fillStyle=a.backgroundColor,e.fillRect(b,x+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:d}=r,h=mt(r.bodyFont);let f=h.lineHeight,m=0;const x=ai(r.rtl,this.x,this.width),v=function(T){n.fillText(T,x.x(e.x+m),e.y+f/2),e.y+=f+i},b=x.textAlign(a);let y,p,g,w,_,k,C;for(n.textAlign=a,n.textBaseline="middle",n.font=h.string,e.x=ll(this,b,r),n.fillStyle=r.bodyColor,ge(this.beforeBody,v),m=o&&b!=="right"?a==="center"?c/2+d:c+2+d:0,w=0,k=s.length;w<k;++w){for(y=s[w],p=this.labelTextColors[w],n.fillStyle=p,ge(y.before,v),g=y.lines,o&&g.length&&(this._drawColorBox(n,e,w,x,r),f=Math.max(h.lineHeight,l)),_=0,C=g.length;_<C;++_)v(g[_]),f=h.lineHeight;ge(y.after,v)}m=0,f=h.lineHeight,ge(this.afterBody,v),e.y-=i}drawFooter(e,n,r){const s=this.footer,i=s.length;let a,o;if(i){const l=ai(r.rtl,this.x,this.width);for(e.x=ll(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=mt(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<i;++o)n.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:i,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:d}=r,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:x}=ii(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(o+h,l),a==="top"&&this.drawCaret(e,n,r,s),n.lineTo(o+c-f,l),n.quadraticCurveTo(o+c,l,o+c,l+f),a==="center"&&i==="right"&&this.drawCaret(e,n,r,s),n.lineTo(o+c,l+d-x),n.quadraticCurveTo(o+c,l+d,o+c-x,l+d),a==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(o+m,l+d),n.quadraticCurveTo(o,l+d,o,l+d-m),a==="center"&&i==="left"&&this.drawCaret(e,n,r,s),n.lineTo(o,l+h),n.quadraticCurveTo(o,l,o+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const a=ia[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=u0(this,e),l=Object.assign({},a,this._size),c=d0(n,e,l),d=h0(e,l,c,n);(s._to!==d.x||i._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=en(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,n),ob(e,n.textDirection),i.y+=a.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),lb(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),i=!gc(r,s),a=this._positionChanged(s,n);(i||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,n,r),o=this._positionChanged(a,e),l=n||!gc(a,i)||o;return l&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:i}=this,a=ia[i.position].call(this,e,n);return a!==!1&&(r!==a.x||s!==a.y)}}D(Nh,"positioners",ia);var DP={id:"tooltip",_element:Nh,positioners:ia,afterInit(t,e,n){n&&(t.tooltip=new Nh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Eb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const OP=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function AP(t,e,n,r){const s=t.indexOf(e);if(s===-1)return OP(t,e,n,r);const i=t.lastIndexOf(e);return s!==i?n:s}const RP=(t,e)=>t===null?null:ft(Math.round(t),0,e);function p0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ch extends Ti{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:i}of n)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(me(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:AP(r,e,ie(n,e),this._addedLabels),RP(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)s.push({value:a});return s}getLabelForValue(e){return p0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}D(Ch,"id","category"),D(Ch,"defaults",{ticks:{callback:p0}});function IP(t,e){const n=[],{bounds:s,step:i,min:a,max:o,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=t,m=i||1,x=d-1,{min:v,max:b}=e,y=!me(a),p=!me(o),g=!me(c),w=(b-v)/(h+1);let _=yg((b-v)/x/m)*m,k,C,T,O;if(_<1e-14&&!y&&!p)return[{value:v},{value:b}];O=Math.ceil(b/_)-Math.floor(v/_),O>x&&(_=yg(O*_/x/m)*m),me(l)||(k=Math.pow(10,l),_=Math.ceil(_*k)/k),s==="ticks"?(C=Math.floor(v/_)*_,T=Math.ceil(b/_)*_):(C=v,T=b),y&&p&&i&&rC((o-a)/i,_/1e3)?(O=Math.round(Math.min((o-a)/_,d)),_=(o-a)/O,C=a,T=o):g?(C=y?a:C,T=p?o:T,O=c-1,_=(T-C)/O):(O=(T-C)/_,ka(O,Math.round(O),_/1e3)?O=Math.round(O):O=Math.ceil(O));const I=Math.max(xg(_),xg(C));k=Math.pow(10,me(l)?I:l),C=Math.round(C*k)/k,T=Math.round(T*k)/k;let U=0;for(y&&(f&&C!==a?(n.push({value:a}),C<a&&U++,ka(Math.round((C+U*_)*k)/k,a,g0(a,w,t))&&U++):C<a&&U++);U<O;++U){const M=Math.round((C+U*_)*k)/k;if(p&&M>o)break;n.push({value:M})}return p&&f&&T!==o?n.length&&ka(n[n.length-1].value,o,g0(o,w,t))?n[n.length-1].value=o:n.push({value:o}):(!p||T===o)&&n.push({value:T}),n}function g0(t,e,{horizontal:n,minRotation:r}){const s=Hn(r),i=(n?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class LP extends Ti{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return me(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const a=l=>s=n?s:l,o=l=>i=r?i:l;if(e){const l=En(s),c=En(i);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);o(i+l),e||a(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,a=IP(s,i);return e.bounds==="ticks"&&sC(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return tm(e,this.chart.options.locale,this.options.ticks.format)}}class Eh extends LP{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?e:0,this.max=Zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Hn(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}D(Eh,"id","linear"),D(Eh,"defaults",{ticks:{callback:Zv.formatters.numeric}});const iu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nt=Object.keys(iu);function y0(t,e){return t-e}function x0(t,e){if(me(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:i}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),Zt(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(s&&(a=s==="week"&&(no(i)||i===!0)?n.startOf(a,"isoWeek",i):n.startOf(a,s)),+a)}function v0(t,e,n,r){const s=Nt.length;for(let i=Nt.indexOf(t);i<s-1;++i){const a=iu[Nt[i]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return Nt[i]}return Nt[s-1]}function FP(t,e,n,r,s){for(let i=Nt.length-1;i>=Nt.indexOf(n);i--){const a=Nt[i];if(iu[a].common&&t._adapter.diff(s,r,a)>=e-1)return a}return Nt[n?Nt.indexOf(n):0]}function $P(t){for(let e=Nt.indexOf(t)+1,n=Nt.length;e<n;++e)if(iu[Nt[e]].common)return Nt[e]}function b0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=Jf(n,e),i=n[r]>=e?n[r]:n[s];t[i]=!0}}function zP(t,e,n,r){const s=t._adapter,i=+s.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=i;o<=a;o=+s.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function w0(t,e,n){const r=[],s={},i=e.length;let a,o;for(a=0;a<i;++a)o=e[a],s[o]=a,r.push({value:o,major:!1});return i===0||!n?r:zP(t,r,s,n)}class oo extends Ti{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new fb._date(e.adapters.date);s.init(n),_a(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:x0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!o&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Zt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),i=Zt(i)&&!isNaN(i)?i:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=this.max,o=cC(s,i,a);return this._unit=n.unit||(r.autoSkip?v0(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):FP(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:$P(this._unit),this.initOffsets(s),e.reverse&&o.reverse(),w0(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=ft(n,0,a),r=ft(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,i=s.time,a=i.unit||v0(i.minUnit,n,r,this._getLabelCapacity(n)),o=ie(s.ticks.stepSize,1),l=a==="week"?i.isoWeekday:!1,c=no(l)||l===!0,d={};let h=n,f,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const x=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<r;f=+e.add(f,o,a),m++)b0(d,f,x);return(f===r||s.bounds==="ticks"||m===1)&&b0(d,f,x),Object.keys(d).sort(y0).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,i=this._unit,a=n||s[i];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,s){const i=this.options,a=i.ticks.callback;if(a)return je(a,[e,n,r],this);const o=i.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&o[l],h=c&&o[c],f=r[n],m=c&&h&&f&&f.major;return this._adapter.format(e,s||(m?h:d))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=Hn(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(s),a=Math.sin(s),o=this._resolveTickFontOptions(0).size;return{w:r*i+o*a,h:r*a+o*i}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,i=this._tickFormatFunction(e,0,w0(this,[e],this._majorUnit),s),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(x0(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Kv(e.sort(y0))}}D(oo,"id","time"),D(oo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cl(t,e,n){let r=0,s=t.length-1,i,a,o,l;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=os(t,"pos",e)),{pos:i,time:o}=t[r],{pos:a,time:l}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=os(t,"time",e)),{time:i,pos:o}=t[r],{time:a,pos:l}=t[s]);const c=a-i;return c?o+(l-o)*(e-i)/c:o}class _0 extends oo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=cl(n,this.min),this._tableRange=cl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],i=[];let a,o,l,c,d;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=r&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=s.length;a<o;++a)d=s[a+1],l=s[a-1],c=s[a],Math.round((d+l)/2)!==c&&i.push({time:c,pos:a/(o-1)});return i}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(cl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return cl(this._table,r*this._tableRange+this._minPos,!0)}}D(_0,"id","timeseries"),D(_0,"defaults",oo.defaults);const Tb="label";function k0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function BP(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function Pb(t,e){t.labels=e}function Mb(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tb;const r=[];t.datasets=e.map(s=>{const i=t.datasets.find(a=>a[n]===s[n]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function UP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tb;const n={labels:[],datasets:[]};return Pb(n,t.labels),Mb(n,t.datasets,e),n}function WP(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:a,data:o,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...f}=t,m=j.useRef(null),x=j.useRef(null),v=()=>{m.current&&(x.current=new su(m.current,{type:a,data:UP(o,i),options:l&&{...l},plugins:c}),k0(e,x.current))},b=()=>{k0(e,null),x.current&&(x.current.destroy(),x.current=null)};return j.useEffect(()=>{!s&&x.current&&l&&BP(x.current,l)},[s,l]),j.useEffect(()=>{!s&&x.current&&Pb(x.current.config.data,o.labels)},[s,o.labels]),j.useEffect(()=>{!s&&x.current&&o.datasets&&Mb(x.current.config.data,o.datasets,i)},[s,o.datasets]),j.useEffect(()=>{x.current&&(s?(b(),setTimeout(v)):x.current.update(h))},[s,l,o.labels,o.datasets,h]),j.useEffect(()=>{x.current&&(b(),setTimeout(v))},[a]),j.useEffect(()=>(v(),()=>b()),[]),zh.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},d)}const HP=j.forwardRef(WP);function dm(t,e){return su.register(e),j.forwardRef((n,r)=>zh.createElement(HP,{...n,ref:r,type:t}))}const VP=dm("line",Pl),qP=dm("bar",Tl),YP=dm("pie",_h);function Q(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Se(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function au(t,e){const n=Q(t);return isNaN(e)?Se(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function hm(t,e){const n=Q(t);if(isNaN(e))return Se(t,NaN);if(!e)return n;const r=n.getDate(),s=Se(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function ou(t,e){const n=+Q(t);return Se(t,n+e)}const Db=6048e5,GP=864e5,wo=6e4,_o=36e5,XP=1e3;function KP(t,e){return ou(t,e*_o)}let QP={};function Ss(){return QP}function Pn(t,e){var o,l,c,d;const n=Ss(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=Q(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function xi(t){return Pn(t,{weekStartsOn:1})}function Ob(t){const e=Q(t),n=e.getFullYear(),r=Se(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=xi(r),i=Se(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=xi(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Th(t){const e=Q(t);return e.setHours(0,0,0,0),e}function kc(t){const e=Q(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ab(t,e){const n=Th(t),r=Th(e),s=+n-kc(n),i=+r-kc(r);return Math.round((s-i)/GP)}function JP(t){const e=Ob(t),n=Se(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),xi(n)}function ZP(t,e){return ou(t,e*wo)}function eM(t,e){const n=e*3;return hm(t,n)}function tM(t,e){return ou(t,e*1e3)}function nM(t,e){const n=e*7;return au(t,n)}function rM(t,e){return hm(t,e*12)}function Na(t,e){const n=Q(t),r=Q(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function sM(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Rb(t){if(!sM(t)&&typeof t!="number")return!1;const e=Q(t);return!isNaN(Number(e))}function iM(t,e){const n=Q(t),r=Q(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function aM(t,e){const n=Q(t),r=Q(e);return n.getFullYear()-r.getFullYear()}function Ib(t,e){const n=Q(t),r=Q(e),s=j0(n,r),i=Math.abs(Ab(n,r));n.setDate(n.getDate()-s*i);const a=+(j0(n,r)===-s),o=s*(i-a);return o===0?0:o}function j0(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function ko(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function lu(t,e){return+Q(t)-+Q(e)}function oM(t,e,n){const r=lu(t,e)/_o;return ko(n==null?void 0:n.roundingMethod)(r)}function lM(t,e,n){const r=lu(t,e)/wo;return ko(n==null?void 0:n.roundingMethod)(r)}function Lb(t){const e=Q(t);return e.setHours(23,59,59,999),e}function Fb(t){const e=Q(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function cM(t){const e=Q(t);return+Lb(e)==+Fb(e)}function $b(t,e){const n=Q(t),r=Q(e),s=Na(n,r),i=Math.abs(iM(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let o=Na(n,r)===-s;cM(Q(t))&&i===1&&Na(t,r)===1&&(o=!1),a=s*(i-Number(o))}return a===0?0:a}function uM(t,e,n){const r=$b(t,e)/3;return ko(n==null?void 0:n.roundingMethod)(r)}function dM(t,e,n){const r=lu(t,e)/1e3;return ko(n==null?void 0:n.roundingMethod)(r)}function hM(t,e,n){const r=Ib(t,e)/7;return ko(n==null?void 0:n.roundingMethod)(r)}function fM(t,e){const n=Q(t),r=Q(e),s=Na(n,r),i=Math.abs(aM(n,r));n.setFullYear(1584),r.setFullYear(1584);const a=Na(n,r)===-s,o=s*(i-+a);return o===0?0:o}function mM(t){const e=Q(t);return e.setSeconds(0,0),e}function pM(t){const e=Q(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function gM(t){const e=Q(t);return e.setDate(1),e.setHours(0,0,0,0),e}function yM(t){const e=Q(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function zb(t){const e=Q(t),n=Se(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function xM(t){const e=Q(t);return e.setMinutes(59,59,999),e}function vM(t,e){var o,l;const n=Ss(),r=n.weekStartsOn??((l=(o=n.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,s=Q(t),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function bM(t){const e=Q(t);return e.setSeconds(59,999),e}function wM(t){const e=Q(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function _M(t){const e=Q(t);return e.setMilliseconds(999),e}const kM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jM=(t,e,n)=>{let r;const s=kM[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function rd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const SM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EM={date:rd({formats:SM,defaultWidth:"full"}),time:rd({formats:NM,defaultWidth:"full"}),dateTime:rd({formats:CM,defaultWidth:"full"})},TM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PM=(t,e,n,r)=>TM[t];function qi(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const MM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},IM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LM=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FM={ordinalNumber:LM,era:qi({values:MM,defaultWidth:"wide"}),quarter:qi({values:DM,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qi({values:OM,defaultWidth:"wide"}),day:qi({values:AM,defaultWidth:"wide"}),dayPeriod:qi({values:RM,defaultWidth:"wide",formattingValues:IM,defaultFormattingWidth:"wide"})};function Yi(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?zM(o,h=>h.test(a)):$M(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function $M(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function zM(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function BM(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const UM=/^(\d+)(th|st|nd|rd)?/i,WM=/\d+/i,HM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VM={any:[/^b/i,/^(a|c)/i]},qM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YM={any:[/1/i,/2/i,/3/i,/4/i]},GM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},JM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ZM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eD={ordinalNumber:BM({matchPattern:UM,parsePattern:WM,valueCallback:t=>parseInt(t,10)}),era:Yi({matchPatterns:HM,defaultMatchWidth:"wide",parsePatterns:VM,defaultParseWidth:"any"}),quarter:Yi({matchPatterns:qM,defaultMatchWidth:"wide",parsePatterns:YM,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yi({matchPatterns:GM,defaultMatchWidth:"wide",parsePatterns:XM,defaultParseWidth:"any"}),day:Yi({matchPatterns:KM,defaultMatchWidth:"wide",parsePatterns:QM,defaultParseWidth:"any"}),dayPeriod:Yi({matchPatterns:JM,defaultMatchWidth:"any",parsePatterns:ZM,defaultParseWidth:"any"})},Bb={code:"en-US",formatDistance:jM,formatLong:EM,formatRelative:PM,localize:FM,match:eD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tD(t){const e=Q(t);return Ab(e,zb(e))+1}function Ub(t){const e=Q(t),n=+xi(e)-+JP(e);return Math.round(n/Db)+1}function fm(t,e){var d,h,f,m;const n=Q(t),r=n.getFullYear(),s=Ss(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=Se(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const o=Pn(a,e),l=Se(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const c=Pn(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function nD(t,e){var o,l,c,d;const n=Ss(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=fm(t,e),i=Se(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Pn(i,e)}function Wb(t,e){const n=Q(t),r=+Pn(n,e)-+nD(n,e);return Math.round(r/Db)+1}function pe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ar={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return pe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):pe(n+1,2)},d(t,e){return pe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return pe(t.getHours()%12||12,e.length)},H(t,e){return pe(t.getHours(),e.length)},m(t,e){return pe(t.getMinutes(),e.length)},s(t,e){return pe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return pe(s,e.length)}},As={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S0={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ar.y(t,e)},Y:function(t,e,n,r){const s=fm(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return pe(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):pe(i,e.length)},R:function(t,e){const n=Ob(t);return pe(n,e.length)},u:function(t,e){const n=t.getFullYear();return pe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ar.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return pe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Wb(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):pe(s,e.length)},I:function(t,e,n){const r=Ub(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):pe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ar.d(t,e)},D:function(t,e,n){const r=tD(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return pe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return pe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return pe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=As.noon:r===0?s=As.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=As.evening:r>=12?s=As.afternoon:r>=4?s=As.morning:s=As.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ar.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ar.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):pe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ar.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ar.s(t,e)},S:function(t,e){return ar.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return C0(r);case"XXXX":case"XX":return ts(r);case"XXXXX":case"XXX":default:return ts(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return C0(r);case"xxxx":case"xx":return ts(r);case"xxxxx":case"xxx":default:return ts(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N0(r,":");case"OOOO":default:return"GMT"+ts(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N0(r,":");case"zzzz":default:return"GMT"+ts(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return pe(r,e.length)},T:function(t,e,n){const r=t.getTime();return pe(r,e.length)}};function N0(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+pe(i,2)}function C0(t,e){return t%60===0?(t>0?"-":"+")+pe(Math.abs(t)/60,2):ts(t,e)}function ts(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=pe(Math.trunc(r/60),2),i=pe(r%60,2);return n+s+e+i}const E0=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Hb=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rD=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return E0(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",E0(r,e)).replace("{{time}}",Hb(s,e))},Ph={p:Hb,P:rD},sD=/^D+$/,iD=/^Y+$/,aD=["D","DD","YY","YYYY"];function Vb(t){return sD.test(t)}function qb(t){return iD.test(t)}function Mh(t,e,n){const r=oD(t,e,n);if(console.warn(r),aD.includes(t))throw new RangeError(r)}function oD(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uD=/^'([^]*?)'?$/,dD=/''/g,hD=/[a-zA-Z]/;function fD(t,e,n){var d,h,f,m,x,v,b,y;const r=Ss(),s=(n==null?void 0:n.locale)??r.locale??Bb,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((y=(b=r.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,o=Q(t);if(!Rb(o))throw new RangeError("Invalid time value");let l=e.match(cD).map(p=>{const g=p[0];if(g==="p"||g==="P"){const w=Ph[g];return w(p,s.formatLong)}return p}).join("").match(lD).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:mD(p)};if(S0[g])return{isToken:!0,value:p};if(g.match(hD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const g=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&qb(g)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Vb(g))&&Mh(g,e,String(t));const w=S0[g[0]];return w(o,g,s.localize,c)}).join("")}function mD(t){const e=t.match(uD);return e?e[1].replace(dD,"'"):t}function pD(){return Object.assign({},Ss())}function gD(t){let n=Q(t).getDay();return n===0&&(n=7),n}function yD(t,e){const n=e instanceof Date?Se(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const xD=10;class Yb{constructor(){D(this,"subPriority",0)}validate(e,n){return!0}}class vD extends Yb{constructor(e,n,r,s,i){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,i&&(this.subPriority=i)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class bD extends Yb{constructor(){super(...arguments);D(this,"priority",xD);D(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:Se(n,yD(n,Date))}}class he{run(e,n,r,s){const i=this.parse(e,n,r,s);return i?{setter:new vD(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,n,r){return!0}}class wD extends he{constructor(){super(...arguments);D(this,"priority",140);D(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const Ue={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},jn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function We(t,e){return t&&{value:e(t.value),rest:t.rest}}function Oe(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Sn(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*_o+i*wo+a*XP),rest:e.slice(n[0].length)}}function Gb(t){return Oe(Ue.anyDigitsSigned,t)}function $e(t,e){switch(t){case 1:return Oe(Ue.singleDigit,e);case 2:return Oe(Ue.twoDigits,e);case 3:return Oe(Ue.threeDigits,e);case 4:return Oe(Ue.fourDigits,e);default:return Oe(new RegExp("^\\d{1,"+t+"}"),e)}}function jc(t,e){switch(t){case 1:return Oe(Ue.singleDigitSigned,e);case 2:return Oe(Ue.twoDigitsSigned,e);case 3:return Oe(Ue.threeDigitsSigned,e);case 4:return Oe(Ue.fourDigitsSigned,e);default:return Oe(new RegExp("^-?\\d{1,"+t+"}"),e)}}function mm(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Xb(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const i=r+50,a=Math.trunc(i/100)*100,o=t>=i%100;s=t+a-(o?100:0)}return n?s:1-s}function Kb(t){return t%400===0||t%4===0&&t%100!==0}class _D extends he{constructor(){super(...arguments);D(this,"priority",130);D(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const i=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return We($e(4,n),i);case"yo":return We(s.ordinalNumber(n,{unit:"year"}),i);default:return We($e(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const i=n.getFullYear();if(s.isTwoDigitYear){const o=Xb(s.year,i);return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class kD extends he{constructor(){super(...arguments);D(this,"priority",130);D(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const i=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return We($e(4,n),i);case"Yo":return We(s.ordinalNumber(n,{unit:"year"}),i);default:return We($e(r.length,n),i)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,i){const a=fm(n,i);if(s.isTwoDigitYear){const l=Xb(s.year,a);return n.setFullYear(l,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Pn(n,i)}const o=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(o,0,i.firstWeekContainsDate),n.setHours(0,0,0,0),Pn(n,i)}}class jD extends he{constructor(){super(...arguments);D(this,"priority",130);D(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return jc(r==="R"?4:r.length,n)}set(n,r,s){const i=Se(n,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),xi(i)}}class SD extends he{constructor(){super(...arguments);D(this,"priority",130);D(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return jc(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class ND extends he{constructor(){super(...arguments);D(this,"priority",120);D(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return $e(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class CD extends he{constructor(){super(...arguments);D(this,"priority",120);D(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return $e(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class ED extends he{constructor(){super(...arguments);D(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);D(this,"priority",110)}parse(n,r,s){const i=a=>a-1;switch(r){case"M":return We(Oe(Ue.month,n),i);case"MM":return We($e(2,n),i);case"Mo":return We(s.ordinalNumber(n,{unit:"month"}),i);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class TD extends he{constructor(){super(...arguments);D(this,"priority",110);D(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const i=a=>a-1;switch(r){case"L":return We(Oe(Ue.month,n),i);case"LL":return We($e(2,n),i);case"Lo":return We(s.ordinalNumber(n,{unit:"month"}),i);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function PD(t,e,n){const r=Q(t),s=Wb(r,n)-e;return r.setDate(r.getDate()-s*7),r}class MD extends he{constructor(){super(...arguments);D(this,"priority",100);D(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return Oe(Ue.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return $e(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,i){return Pn(PD(n,s,i),i)}}function DD(t,e){const n=Q(t),r=Ub(n)-e;return n.setDate(n.getDate()-r*7),n}class OD extends he{constructor(){super(...arguments);D(this,"priority",100);D(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return Oe(Ue.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return $e(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return xi(DD(n,s))}}const AD=[31,28,31,30,31,30,31,31,30,31,30,31],RD=[31,29,31,30,31,30,31,31,30,31,30,31];class ID extends he{constructor(){super(...arguments);D(this,"priority",90);D(this,"subPriority",1);D(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return Oe(Ue.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return $e(r.length,n)}}validate(n,r){const s=n.getFullYear(),i=Kb(s),a=n.getMonth();return i?r>=1&&r<=RD[a]:r>=1&&r<=AD[a]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class LD extends he{constructor(){super(...arguments);D(this,"priority",90);D(this,"subpriority",1);D(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return Oe(Ue.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return $e(r.length,n)}}validate(n,r){const s=n.getFullYear();return Kb(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function pm(t,e,n){var h,f,m,x;const r=Ss(),s=(n==null?void 0:n.weekStartsOn)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,i=Q(t),a=i.getDay(),l=(e%7+7)%7,c=7-s,d=e<0||e>6?e-(a+c)%7:(l+c)%7-(a+c)%7;return au(i,d)}class FD extends he{constructor(){super(...arguments);D(this,"priority",90);D(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=pm(n,s,i),n.setHours(0,0,0,0),n}}class $D extends he{constructor(){super(...arguments);D(this,"priority",90);D(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,i){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return We($e(r.length,n),a);case"eo":return We(s.ordinalNumber(n,{unit:"day"}),a);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=pm(n,s,i),n.setHours(0,0,0,0),n}}class zD extends he{constructor(){super(...arguments);D(this,"priority",90);D(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,i){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return We($e(r.length,n),a);case"co":return We(s.ordinalNumber(n,{unit:"day"}),a);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,i){return n=pm(n,s,i),n.setHours(0,0,0,0),n}}function BD(t,e){const n=Q(t),r=gD(n),s=e-r;return au(n,s)}class UD extends he{constructor(){super(...arguments);D(this,"priority",90);D(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const i=a=>a===0?7:a;switch(r){case"i":case"ii":return $e(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return We(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiii":return We(s.day(n,{width:"narrow",context:"formatting"}),i);case"iiiiii":return We(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i);case"iiii":default:return We(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),i)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=BD(n,s),n.setHours(0,0,0,0),n}}class WD extends he{constructor(){super(...arguments);D(this,"priority",80);D(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(mm(s),0,0,0),n}}class HD extends he{constructor(){super(...arguments);D(this,"priority",80);D(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(mm(s),0,0,0),n}}class VD extends he{constructor(){super(...arguments);D(this,"priority",80);D(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(mm(s),0,0,0),n}}class qD extends he{constructor(){super(...arguments);D(this,"priority",70);D(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return Oe(Ue.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return $e(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const i=n.getHours()>=12;return i&&s<12?n.setHours(s+12,0,0,0):!i&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class YD extends he{constructor(){super(...arguments);D(this,"priority",70);D(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return Oe(Ue.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return $e(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class GD extends he{constructor(){super(...arguments);D(this,"priority",70);D(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return Oe(Ue.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return $e(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class XD extends he{constructor(){super(...arguments);D(this,"priority",70);D(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return Oe(Ue.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return $e(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const i=s<=24?s%24:s;return n.setHours(i,0,0,0),n}}class KD extends he{constructor(){super(...arguments);D(this,"priority",60);D(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return Oe(Ue.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return $e(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class QD extends he{constructor(){super(...arguments);D(this,"priority",50);D(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return Oe(Ue.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return $e(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class JD extends he{constructor(){super(...arguments);D(this,"priority",30);D(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=i=>Math.trunc(i*Math.pow(10,-r.length+3));return We($e(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class ZD extends he{constructor(){super(...arguments);D(this,"priority",10);D(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Sn(jn.basicOptionalMinutes,n);case"XX":return Sn(jn.basic,n);case"XXXX":return Sn(jn.basicOptionalSeconds,n);case"XXXXX":return Sn(jn.extendedOptionalSeconds,n);case"XXX":default:return Sn(jn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Se(n,n.getTime()-kc(n)-s)}}class eO extends he{constructor(){super(...arguments);D(this,"priority",10);D(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Sn(jn.basicOptionalMinutes,n);case"xx":return Sn(jn.basic,n);case"xxxx":return Sn(jn.basicOptionalSeconds,n);case"xxxxx":return Sn(jn.extendedOptionalSeconds,n);case"xxx":default:return Sn(jn.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Se(n,n.getTime()-kc(n)-s)}}class tO extends he{constructor(){super(...arguments);D(this,"priority",40);D(this,"incompatibleTokens","*")}parse(n){return Gb(n)}set(n,r,s){return[Se(n,s*1e3),{timestampIsSet:!0}]}}class nO extends he{constructor(){super(...arguments);D(this,"priority",20);D(this,"incompatibleTokens","*")}parse(n){return Gb(n)}set(n,r,s){return[Se(n,s),{timestampIsSet:!0}]}}const rO={G:new wD,y:new _D,Y:new kD,R:new jD,u:new SD,Q:new ND,q:new CD,M:new ED,L:new TD,w:new MD,I:new OD,d:new ID,D:new LD,E:new FD,e:new $D,c:new zD,i:new UD,a:new WD,b:new HD,B:new VD,h:new qD,H:new YD,K:new GD,k:new XD,m:new KD,s:new QD,S:new JD,X:new ZD,x:new eO,t:new tO,T:new nO},sO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aO=/^'([^]*?)'?$/,oO=/''/g,lO=/\S/,cO=/[a-zA-Z]/;function uO(t,e,n,r){var v,b,y,p,g,w,_,k;const s=pD(),i=(r==null?void 0:r.locale)??s.locale??Bb,a=(r==null?void 0:r.firstWeekContainsDate)??((b=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(y=s.locale)==null?void 0:y.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((w=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((k=(_=s.locale)==null?void 0:_.options)==null?void 0:k.weekStartsOn)??0;if(e==="")return t===""?Q(n):Se(n,NaN);const l={firstWeekContainsDate:a,weekStartsOn:o,locale:i},c=[new bD],d=e.match(iO).map(C=>{const T=C[0];if(T in Ph){const O=Ph[T];return O(C,i.formatLong)}return C}).join("").match(sO),h=[];for(let C of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&qb(C)&&Mh(C,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Vb(C)&&Mh(C,e,t);const T=C[0],O=rO[T];if(O){const{incompatibleTokens:I}=O;if(Array.isArray(I)){const M=h.find($=>I.includes($.token)||$.token===T);if(M)throw new RangeError(`The format string mustn't contain \`${M.fullToken}\` and \`${C}\` at the same time`)}else if(O.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);h.push({token:T,fullToken:C});const U=O.run(t,C,i.match,l);if(!U)return Se(n,NaN);c.push(U.setter),t=U.rest}else{if(T.match(cO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(C==="''"?C="'":T==="'"&&(C=dO(C)),t.indexOf(C)===0)t=t.slice(C.length);else return Se(n,NaN)}}if(t.length>0&&lO.test(t))return Se(n,NaN);const f=c.map(C=>C.priority).sort((C,T)=>T-C).filter((C,T,O)=>O.indexOf(C)===T).map(C=>c.filter(T=>T.priority===C).sort((T,O)=>O.subPriority-T.subPriority)).map(C=>C[0]);let m=Q(n);if(isNaN(m.getTime()))return Se(n,NaN);const x={};for(const C of f){if(!C.validate(m,l))return Se(n,NaN);const T=C.set(m,x,l);Array.isArray(T)?(m=T[0],Object.assign(x,T[1])):m=T}return Se(n,m)}function dO(t){return t.match(aO)[1].replace(oO,"'")}function hO(t){const e=Q(t);return e.setMinutes(0,0,0),e}function fO(t){const e=Q(t);return e.setMilliseconds(0),e}function mO(t,e){const n=(e==null?void 0:e.additionalDigits)??2,r=xO(t);let s;if(r.date){const l=vO(r.date,n);s=bO(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(r.time&&(a=wO(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=_O(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(i+a+o)}const ul={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xO(t){const e={},n=t.split(ul.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ul.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ul.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=ul.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function vO(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function bO(t,e){if(e===null)return new Date(NaN);const n=t.match(pO);if(!n)return new Date(NaN);const r=!!n[4],s=Gi(n[1]),i=Gi(n[2])-1,a=Gi(n[3]),o=Gi(n[4]),l=Gi(n[5])-1;if(r)return CO(e,o,l)?kO(e,o,l):new Date(NaN);{const c=new Date(0);return!SO(e,i,a)||!NO(e,s)?new Date(NaN):(c.setUTCFullYear(e,i,Math.max(s,a)),c)}}function Gi(t){return t?parseInt(t):1}function wO(t){const e=t.match(gO);if(!e)return NaN;const n=sd(e[1]),r=sd(e[2]),s=sd(e[3]);return EO(n,r,s)?n*_o+r*wo+s*1e3:NaN}function sd(t){return t&&parseFloat(t.replace(",","."))||0}function _O(t){if(t==="Z")return 0;const e=t.match(yO);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return TO(r,s)?n*(r*_o+s*wo):NaN}function kO(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const jO=[31,null,31,30,31,30,31,31,30,31,30,31];function Qb(t){return t%400===0||t%4===0&&t%100!==0}function SO(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(jO[e]||(Qb(t)?29:28))}function NO(t,e){return e>=1&&e<=(Qb(t)?366:365)}function CO(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function EO(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function TO(t,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const PO={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};fb._date.override({_id:"date-fns",formats:function(){return PO},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=Q(t):n==="string"&&(typeof e=="string"?t=uO(t,e,new Date,this.options):t=mO(t,this.options)),Rb(t)?t.getTime():null},format:function(t,e){return fD(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return ou(t,e);case"second":return tM(t,e);case"minute":return ZP(t,e);case"hour":return KP(t,e);case"day":return au(t,e);case"week":return nM(t,e);case"month":return hm(t,e);case"quarter":return eM(t,e);case"year":return rM(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return lu(t,e);case"second":return dM(t,e);case"minute":return lM(t,e);case"hour":return oM(t,e);case"day":return Ib(t,e);case"week":return hM(t,e);case"month":return $b(t,e);case"quarter":return uM(t,e);case"year":return fM(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return fO(t);case"minute":return mM(t);case"hour":return hO(t);case"day":return Th(t);case"week":return Pn(t);case"isoWeek":return Pn(t,{weekStartsOn:+n});case"month":return gM(t);case"quarter":return pM(t);case"year":return zb(t);default:return t}},endOf:function(t,e){switch(e){case"second":return _M(t);case"minute":return bM(t);case"hour":return xM(t);case"day":return Lb(t);case"week":return vM(t);case"month":return Fb(t);case"quarter":return wM(t);case"year":return yM(t);default:return t}}});su.register(Ch,Eh,Ol,sa,Al,ra,jP,DP,_P,oo);const qt={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"rgba(255, 255, 255, 0.8)"}}},scales:{x:{ticks:{color:"rgba(255, 255, 255, 0.5)"},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{ticks:{color:"rgba(255, 255, 255, 0.5)"},grid:{color:"rgba(255, 255, 255, 0.1)"}}}},MO=()=>{const{getCurrentMonthTransactions:t,selectedYear:e,selectedMonth:n}=it(),r=t().filter(l=>l.type==="expense"),s=new Date(e,n+1,0).getDate(),i=Array(s).fill(0);r.forEach(l=>{const c=l.date.getDate()-1;i[c]+=l.amount});const a={labels:Array.from({length:s},(l,c)=>c+1),datasets:[{label:"Despesas Diárias",data:i,borderColor:"#6366f1",backgroundColor:"rgba(99, 102, 241, 0.2)",fill:!0,tension:.4}]},o={...qt,plugins:{...qt.plugins,tooltip:{callbacks:{label:function(l){const d=l.parsed.y.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return`${l.dataset.label}: ${d}`}}}},scales:{...qt.scales,y:{...qt.scales.y,ticks:{...qt.scales.y.ticks,callback:function(l){return l.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}}}}};return u.jsx(VP,{data:a,options:o})},DO=()=>{const{getCurrentMonthTransactions:t}=it(),e=t().filter(i=>i.type==="expense"),n={};e.forEach(i=>{n[i.category]=(n[i.category]||0)+i.amount});const r={labels:Object.keys(n),datasets:[{data:Object.values(n),backgroundColor:["#6366f1","#34d399","#f97316","#ef4444","#a78bfa","#ec4899","#9ca3af","#fbbf24"],borderColor:"#1f2937",borderWidth:2}]},s={...qt,scales:void 0,plugins:{...qt.plugins,tooltip:{callbacks:{label:function(i){const o=i.parsed.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return`${i.label}: ${o}`}}}}};return u.jsx(YP,{data:r,options:s})},OO=()=>{const{transactions:t,selectedYear:e,selectedMonth:n}=it(),r=t.filter(f=>f.type==="expense"&&f.date.getFullYear()===e&&f.date.getMonth()===n),s=n===0?11:n-1,i=n===0?e-1:e,a=t.filter(f=>f.type==="expense"&&f.date.getFullYear()===i&&f.date.getMonth()===s),o=[...new Set([...r.map(f=>f.category),...a.map(f=>f.category)])],l=o.map(f=>r.filter(m=>m.category===f).reduce((m,x)=>m+x.amount,0)),c=o.map(f=>a.filter(m=>m.category===f).reduce((m,x)=>m+x.amount,0)),d={labels:o,datasets:[{label:"Mês Anterior",data:c,backgroundColor:"rgba(107, 114, 128, 0.5)",borderRadius:4},{label:"Mês Atual",data:l,backgroundColor:"#6366f1",borderRadius:4}]},h={...qt,plugins:{...qt.plugins,tooltip:{callbacks:{label:function(f){const x=f.parsed.y.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return`${f.dataset.label}: ${x}`}}}},scales:{...qt.scales,y:{...qt.scales.y,ticks:{...qt.scales.y.ticks,callback:function(f){return f.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}}}}};return u.jsx(qP,{data:d,options:h})},Jb=({isOpen:t,onClose:e,transaction:n})=>{const{addTransaction:r,updateTransaction:s,banks:i}=it(),[a,o]=j.useState({type:"expense",amount:"",category:"Alimentação",description:"",date:new Date().toISOString().slice(0,16),tags:"",paymentMethod:"money",bankId:"",isInstallment:!1,currentInstallment:1,totalInstallments:2}),l=["Alimentação","Transporte","Moradia","Lazer","Saúde","Educação","Salário","Investimentos","Outros"];j.useEffect(()=>{var h,f,m;o(n?{type:n.type,amount:n.amount.toString(),category:n.category,description:n.description,date:n.date.toISOString().slice(0,16),tags:((h=n.tags)==null?void 0:h.join(", "))||"",paymentMethod:n.paymentMethod||"money",bankId:n.bankId||"",isInstallment:n.isInstallment||!1,currentInstallment:((f=n.installmentDetails)==null?void 0:f.current)||1,totalInstallments:((m=n.installmentDetails)==null?void 0:m.total)||2}:{type:"expense",amount:"",category:"Alimentação",description:"",date:new Date().toISOString().slice(0,16),tags:"",paymentMethod:"money",bankId:"",isInstallment:!1,currentInstallment:1,totalInstallments:2})},[n,t]);const c=h=>{var x;h.preventDefault();const f=parseFloat(a.amount);if(isNaN(f)||f<=0)return;const m={type:a.type,amount:f,category:a.category,description:a.description,date:new Date(a.date),tags:a.tags.split(",").map(v=>v.trim()).filter(Boolean),paymentMethod:a.paymentMethod,bankId:a.paymentMethod==="creditCard"?a.bankId:void 0,isInstallment:a.isInstallment,installmentDetails:a.isInstallment?{current:a.currentInstallment,total:a.totalInstallments,groupId:((x=n==null?void 0:n.installmentDetails)==null?void 0:x.groupId)||crypto.randomUUID()}:void 0,invoiceMonth:a.paymentMethod==="creditCard"?new Date(a.date).getMonth():void 0,invoiceYear:a.paymentMethod==="creditCard"?new Date(a.date).getFullYear():void 0};if(n)s(n.id,m);else if(a.isInstallment&&!n){const v=f/a.totalInstallments,b=new Date(a.date),y=crypto.randomUUID();for(let p=0;p<a.totalInstallments;p++){const g=new Date(b);g.setMonth(g.getMonth()+p),r({...m,amount:v,description:`${a.description} (${p+1}/${a.totalInstallments})`,date:g,installmentDetails:{current:p+1,total:a.totalInstallments,groupId:y},invoiceMonth:a.paymentMethod==="creditCard"?g.getMonth():void 0,invoiceYear:a.paymentMethod==="creditCard"?g.getFullYear():void 0})}}else r(m);e()},d=()=>{if(!a.description)return;const h=a.description.toLowerCase(),f={alimentação:["ifood","uber eats","rappi","mcdonalds","burger king","kfc","subway","pizza","restaurante","lanchonete","padaria","açougue","mercado","supermercado","feira","hortifruti","comida","almoço","jantar","café","bebida","cerveja","refrigerante","água","leite","pão","carne","frango","peixe","verdura","fruta","doce","chocolate","sorvete","delivery","entrega"],transporte:["uber","cabify","99","taxi","ônibus","metro","trem","gasolina","etanol","diesel","combustível","posto","shell","petrobras","ipiranga","br","estacionamento","pedágio","vinheta","multa","detran","ipva","seguro auto","mecânico","oficina","pneu","óleo","revisão","carro","moto","bicicleta","patinete","transporte público","bilhete único","cartão transporte"],moradia:["aluguel","condomínio","iptu","luz","energia","água","gás","internet","telefone","celular","tv","streaming","netflix","amazon prime","spotify","limpeza","faxina","porteiro","segurança","reforma","pintura","eletricista","encanador","pedreiro","móveis","decoração","casa","apartamento"],lazer:["cinema","teatro","show","festa","balada","bar","pub","clube","academia","ginásio","piscina","parque","zoológico","museu","exposição","viagem","hotel","pousada","passagem","avião","rodoviária","turismo","passeio","diversão","entretenimento","jogo","videogame","livro","revista","jornal","hobby","esporte","futebol","tênis","natação"],saúde:["médico","dentista","hospital","clínica","farmácia","remédio","medicamento","exame","consulta","cirurgia","tratamento","fisioterapia","psicólogo","psiquiatra","oftalmologista","cardiologista","dermatologista","ginecologista","pediatra","ortopedista","laboratório","raio-x","ultrassom","ressonância","tomografia","vacina","plano de saúde","convênio","unimed","bradesco saúde","amil","sulamerica"],educação:["escola","faculdade","universidade","curso","aula","professor","mensalidade","matrícula","material escolar","livro didático","caderno","caneta","lápis","mochila","uniforme","transporte escolar","lanche escolar","formatura","diploma","certificado","idioma","inglês","espanhol","francês","alemão","informática","computação","programação"],salário:["salário","ordenado","pagamento","pró-labore","comissão","bonus","gratificação","13º salário","férias","horas extras","adicional","trabalho","emprego","empresa","patrão","chefe"],investimentos:["dividendo","juros","rendimento","aplicação","poupança","cdb","lci","lca","tesouro","ações","fii","fundo","bitcoin","crypto","investimento","corretora","xp","rico","clear","inter","nubank","itaú","bradesco","santander","banco do brasil","caixa"]};for(const[m,x]of Object.entries(f))for(const v of x)if(h.includes(v)){o(b=>({...b,category:m.charAt(0).toUpperCase()+m.slice(1),type:["salário","investimentos"].includes(m)?"income":"expense"}));return}(h.includes("receb")||h.includes("salár")||h.includes("pag"))&&o(m=>({...m,type:"income",category:"Salário"}))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 dark:text-white",children:n?"Editar Transação":"Nova Transação"}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 p-1","aria-label":"Fechar modal",children:u.jsx(rr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-4 sm:p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Forma de Pagamento"}),u.jsxs("select",{value:a.paymentMethod,onChange:h=>o(f=>({...f,paymentMethod:h.target.value})),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white","aria-label":"Forma de pagamento",children:[u.jsx("option",{value:"money",children:"Dinheiro/Outros"}),u.jsx("option",{value:"creditCard",children:"Cartão de Crédito"}),u.jsx("option",{value:"debitCard",children:"Cartão de Débito"}),u.jsx("option",{value:"pix",children:"PIX"})]})]}),a.paymentMethod==="creditCard"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Banco/Cartão"}),u.jsxs("select",{value:a.bankId,onChange:h=>o(f=>({...f,bankId:h.target.value})),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white","aria-label":"Banco",required:!0,children:[u.jsx("option",{value:"",children:"Selecione um banco"}),i.map(h=>u.jsx("option",{value:h.id,children:h.name},h.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo"}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0",children:[u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"radio",name:"type",value:"expense",checked:a.type==="expense",onChange:h=>o(f=>({...f,type:h.target.value})),className:"mr-2"}),u.jsx("span",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300",children:"Despesa"})]}),u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"radio",name:"type",value:"income",checked:a.type==="income",onChange:h=>o(f=>({...f,type:h.target.value})),className:"mr-2"}),u.jsx("span",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300",children:"Receita"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor (R$)"}),u.jsx("input",{type:"number",step:"0.01",value:a.amount,onChange:h=>o(f=>({...f,amount:h.target.value})),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"0,00","aria-label":"Valor",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),u.jsx("select",{value:a.category,onChange:h=>o(f=>({...f,category:h.target.value})),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white","aria-label":"Categoria",children:l.map(h=>u.jsx("option",{value:h,children:h},h))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrição"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:a.description,onChange:h=>o(f=>({...f,description:h.target.value})),className:"w-full px-3 py-2 pr-10 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Descrição da transação","aria-label":"Descrição"}),u.jsx("button",{type:"button",onClick:d,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-purple-500 hover:text-purple-600 p-1",title:"Sugerir categoria automaticamente",children:u.jsx(wN,{className:"w-4 h-4"})})]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"💡 Clique na varinha para sugerir categoria automaticamente"})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:a.isInstallment,onChange:h=>o(f=>({...f,isInstallment:h.target.checked})),className:"mr-2"}),u.jsx("span",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300",children:"Compra Parcelada?"})]})}),a.isInstallment&&u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Parcela Atual"}),u.jsx("input",{type:"number",value:a.currentInstallment,onChange:h=>o(f=>({...f,currentInstallment:parseInt(h.target.value)||1})),min:"1",max:a.totalInstallments,className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white","aria-label":"Parcela atual"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total de Parcelas"}),u.jsx("input",{type:"number",value:a.totalInstallments,onChange:h=>o(f=>({...f,totalInstallments:parseInt(h.target.value)||2})),min:"2",className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white","aria-label":"Total de parcelas"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags (separadas por vírgula)"}),u.jsx("input",{type:"text",value:a.tags,onChange:h=>o(f=>({...f,tags:h.target.value})),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Separe as tags por vírgula","aria-label":"Tags"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data"}),u.jsx("input",{type:"datetime-local",value:a.date,onChange:h=>o(f=>({...f,date:h.target.value})),className:"w-full px-3 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-sm sm:text-base border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 text-sm sm:text-base",children:n?"Atualizar":"Salvar"})]})]})]})}):null},AO=()=>{const{getCurrentMonthTransactions:t,getCurrentMonthBalance:e,getCurrentMonthBudgets:n,transactions:r,selectedYear:s,selectedMonth:i,addNotification:a}=it(),[o,l]=j.useState(!1),[c,d]=j.useState(""),[h,f]=j.useState(!1),m=t(),x=e(),v=m.filter(M=>M.type==="income").reduce((M,$)=>M+$.amount,0),b=m.filter(M=>M.type==="expense").reduce((M,$)=>M+$.amount,0),y=i===0?11:i-1,p=i===0?s-1:s,g=r.filter(M=>M.type==="expense"&&M.date.getFullYear()===p&&M.date.getMonth()===y).reduce((M,$)=>M+$.amount,0),w=g>0?(b-g)/g*100:0,_=new Date(s,i+1,0).getDate(),k=b/_,C=m.sort((M,$)=>$.date.getTime()-M.date.getTime()).slice(0,5),T=n(),O=m.filter(M=>M.type==="expense").reduce((M,$)=>(M[$.category]=(M[$.category]||0)+$.amount,M),{}),I=()=>{f(!0),setTimeout(()=>{const M=[];b>v&&M.push("⚠️ Seus gastos estão acima da sua renda este mês.");const $=Object.entries(O).sort(([,S],[,z])=>z-S)[0];$&&M.push(`💡 Sua maior categoria de gastos é ${$[0]} com ${$[1].toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}.`),w>20?M.push("📈 Seus gastos aumentaram significativamente em relação ao mês passado."):w<-20&&M.push("📉 Parabéns! Você reduziu seus gastos em relação ao mês passado."),k>100&&M.push(`💰 Sua média diária de gastos é de ${k.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}.`),d(M.join(" ")),f(!1)},1500)},U=[{label:"Receitas do Mês",value:v.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),change:"+8.2%",trend:"up",icon:Yn,color:"green"},{label:"Gastos do Mês",value:b.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),change:`${w>0?"+":""}${w.toFixed(1)}%`,trend:w>0?"up":"down",icon:Mr,color:"red"},{label:"Saldo Atual",value:x.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),change:x>0?"Positivo":"Negativo",trend:x>0?"up":"down",icon:Qa,color:"blue"},{label:"Média Diária",value:k.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),change:`${_} dias`,trend:"up",icon:vo,color:"purple"}];return u.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-700 rounded-xl lg:rounded-2xl p-4 lg:p-6 text-white shadow-2xl",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-3 sm:space-y-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl lg:text-2xl font-bold mb-2",children:"Olá! Bem-vindo de volta 👋"}),u.jsx("p",{className:"text-blue-100 text-sm lg:text-base",children:"Aqui está um resumo das suas finanças hoje"})]}),u.jsxs("button",{onClick:()=>l(!0),className:"bg-white/20 hover:bg-white/30 text-white px-3 py-2 lg:px-4 lg:py-2 rounded-lg font-medium transition-colors flex items-center space-x-2 backdrop-blur-sm text-sm lg:text-base",children:[u.jsx(Ei,{className:"w-4 h-4"}),u.jsx("span",{children:"Nova Transação"})]})]})}),u.jsxs("div",{className:"bg-slate-800 border border-blue-800 p-4 lg:p-6 rounded-xl shadow-lg",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 space-y-2 sm:space-y-0",children:[u.jsxs("h3",{className:"text-lg lg:text-xl font-semibold text-white flex items-center",children:[u.jsx(og,{className:"w-4 h-4 lg:w-5 lg:h-5 mr-2 lg:mr-3 text-yellow-400"}),"Insights Financeiros"]}),u.jsxs("button",{onClick:I,disabled:h,className:"bg-blue-600 text-white px-3 py-1.5 rounded-md hover:bg-blue-500 flex items-center text-xs lg:text-sm disabled:opacity-50 transition-colors",children:[h?u.jsx("div",{className:"w-3 h-3 lg:w-4 lg:h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):u.jsx(og,{className:"w-3 h-3 lg:w-4 lg:h-4 mr-2"}),"Gerar Insight"]})]}),u.jsx("div",{className:"text-gray-300 min-h-[50px] flex items-center text-sm lg:text-base",children:c||"Clique no botão para gerar um insight sobre suas finanças do mês."})]}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6",children:U.map((M,$)=>{const S=M.icon;return u.jsxs("div",{className:"bg-slate-800 rounded-xl p-3 lg:p-6 border border-slate-700 hover:shadow-lg transition-shadow duration-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 lg:mb-4",children:[u.jsx("div",{className:`w-8 h-8 lg:w-12 lg:h-12 rounded-lg flex items-center justify-center ${M.color==="blue"?"bg-blue-900/20":M.color==="red"?"bg-red-900/20":M.color==="green"?"bg-green-900/20":"bg-purple-900/20"}`,children:u.jsx(S,{className:`w-4 h-4 lg:w-6 lg:h-6 ${M.color==="blue"?"text-blue-400":M.color==="red"?"text-red-400":M.color==="green"?"text-green-400":"text-purple-400"}`})}),u.jsxs("div",{className:`flex items-center text-xs lg:text-sm font-medium ${M.trend==="up"?"text-green-400":"text-red-400"}`,children:[M.trend==="up"?u.jsx(ig,{className:"w-3 h-3 lg:w-4 lg:h-4 mr-1"}):u.jsx(sg,{className:"w-3 h-3 lg:w-4 lg:h-4 mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:M.change})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-lg lg:text-2xl font-bold text-white mb-1",children:M.value}),u.jsx("p",{className:"text-xs lg:text-sm text-gray-400",children:M.label})]})]},$)})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-slate-800 rounded-xl p-4 lg:p-6 border border-slate-700",children:[u.jsx("h3",{className:"text-base lg:text-lg font-semibold text-white mb-4",children:"Evolução de Despesas Diárias"}),u.jsx("div",{className:"relative h-64 lg:h-80 xl:h-96",children:u.jsx(MO,{})})]}),u.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 lg:p-6 border border-slate-700",children:[u.jsx("h3",{className:"text-base lg:text-lg font-semibold text-white mb-4",children:"Despesas por Categoria"}),u.jsx("div",{className:"relative h-64 lg:h-80 xl:h-96",children:u.jsx(DO,{})})]})]}),u.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 lg:p-6 border border-slate-700",children:[u.jsx("h3",{className:"text-base lg:text-lg font-semibold text-white mb-4",children:"Comparativo Mensal"}),u.jsx("div",{className:"relative h-64 lg:h-80 xl:h-96",children:u.jsx(OO,{})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[u.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 lg:p-6 border border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[u.jsx("h3",{className:"text-base lg:text-lg font-semibold text-white",children:"Transações Recentes"}),u.jsx("button",{className:"text-xs lg:text-sm text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Ver todas"})]}),u.jsx("div",{className:"space-y-3 lg:space-y-4",children:C.map(M=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[u.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-lg flex items-center justify-center ${M.type==="income"?"bg-green-900/20":"bg-red-900/20"}`,children:M.type==="income"?u.jsx(ig,{className:"w-4 h-4 lg:w-5 lg:h-5 text-green-400"}):u.jsx(sg,{className:"w-4 h-4 lg:w-5 lg:h-5 text-red-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs lg:text-sm font-medium text-white",children:M.description}),u.jsx("p",{className:"text-xs text-gray-400",children:M.category})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:`text-xs lg:text-sm font-medium ${M.type==="income"?"text-green-400":"text-red-400"}`,children:[M.type==="income"?"+":"-",M.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),u.jsx("p",{className:"text-xs text-gray-400",children:M.date.toLocaleDateString("pt-BR")})]})]},M.id))})]}),u.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 lg:p-6 border border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[u.jsx("h3",{className:"text-base lg:text-lg font-semibold text-white",children:"Orçamentos"}),u.jsx("button",{className:"text-xs lg:text-sm text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Gerenciar"})]}),u.jsx("div",{className:"space-y-3 lg:space-y-4",children:T.slice(0,4).map(M=>{const $=O[M.category]||0,S=Math.min($/M.targetAmount*100,100),z=$>M.targetAmount;return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-xs lg:text-sm font-medium text-white",children:M.category}),u.jsxs("span",{className:`text-xs lg:text-sm ${z?"text-red-400":"text-gray-400"}`,children:[$.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})," / ",M.targetAmount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),u.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${z?"bg-red-500":S>80?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(S,100)}%`}})})]},M.id)})})]})]}),u.jsx(Jb,{isOpen:o,onClose:()=>l(!1)})]})};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function T0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T0(Object(n),!0).forEach(function(r){RO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rl(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rl=function(e){return typeof e}:Rl=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function RO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function er(){return er=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},er.apply(this,arguments)}function IO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function LO(t,e){if(t==null)return{};var n=IO(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var FO="1.15.6";function Gn(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var sr=Gn(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),jo=Gn(/Edge/i),P0=Gn(/firefox/i),Ca=Gn(/safari/i)&&!Gn(/chrome/i)&&!Gn(/android/i),gm=Gn(/iP(ad|od|hone)/i),Zb=Gn(/chrome/i)&&Gn(/android/i),ew={capture:!1,passive:!1};function ce(t,e,n){t.addEventListener(e,n,!sr&&ew)}function le(t,e,n){t.removeEventListener(e,n,!sr&&ew)}function Sc(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function tw(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function cn(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Sc(t,e):Sc(t,e))||r&&t===n)return t;if(t===n)break}while(t=tw(t))}return null}var M0=/\s+/g;function Ot(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(M0," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(M0," ")}}function Z(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function oi(t,e){var n="";if(typeof t=="string")n=t;else do{var r=Z(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(n)}function nw(t,e,n){if(t){var r=t.getElementsByTagName(e),s=0,i=r.length;if(n)for(;s<i;s++)n(r[s],s);return r}return[]}function Tn(){var t=document.scrollingElement;return t||document.documentElement}function qe(t,e,n,r,s){if(!(!t.getBoundingClientRect&&t!==window)){var i,a,o,l,c,d,h;if(t!==window&&t.parentNode&&t!==Tn()?(i=t.getBoundingClientRect(),a=i.top,o=i.left,l=i.bottom,c=i.right,d=i.height,h=i.width):(a=0,o=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(s=s||t.parentNode,!sr))do if(s&&s.getBoundingClientRect&&(Z(s,"transform")!=="none"||n&&Z(s,"position")!=="static")){var f=s.getBoundingClientRect();a-=f.top+parseInt(Z(s,"border-top-width")),o-=f.left+parseInt(Z(s,"border-left-width")),l=a+i.height,c=o+i.width;break}while(s=s.parentNode);if(r&&t!==window){var m=oi(s||t),x=m&&m.a,v=m&&m.d;m&&(a/=v,o/=x,h/=x,d/=v,l=a+d,c=o+h)}return{top:a,left:o,bottom:l,right:c,width:h,height:d}}}function D0(t,e,n){for(var r=_r(t,!0),s=qe(t)[e];r;){var i=qe(r)[n],a=void 0;if(a=s>=i,!a)return r;if(r===Tn())break;r=_r(r,!1)}return!1}function vi(t,e,n,r){for(var s=0,i=0,a=t.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==ee.ghost&&(r||a[i]!==ee.dragged)&&cn(a[i],n.draggable,t,!1)){if(s===e)return a[i];s++}i++}return null}function ym(t,e){for(var n=t.lastElementChild;n&&(n===ee.ghost||Z(n,"display")==="none"||e&&!Sc(n,e));)n=n.previousElementSibling;return n||null}function Wt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ee.clone&&(!e||Sc(t,e))&&n++;return n}function O0(t){var e=0,n=0,r=Tn();if(t)do{var s=oi(t),i=s.a,a=s.d;e+=t.scrollLeft*i,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function $O(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function _r(t,e){if(!t||!t.getBoundingClientRect)return Tn();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var s=Z(n);if(n.clientWidth<n.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Tn();if(r||e)return n;r=!0}}while(n=n.parentNode);return Tn()}function zO(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function id(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ea;function rw(t,e){return function(){if(!Ea){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),Ea=setTimeout(function(){Ea=void 0},e)}}}function BO(){clearTimeout(Ea),Ea=void 0}function sw(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function iw(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function aw(t,e,n){var r={};return Array.from(t.children).forEach(function(s){var i,a,o,l;if(!(!cn(s,e.draggable,t,!1)||s.animated||s===n)){var c=qe(s);r.left=Math.min((i=r.left)!==null&&i!==void 0?i:1/0,c.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,c.top),r.right=Math.max((o=r.right)!==null&&o!==void 0?o:-1/0,c.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Ct="Sortable"+new Date().getTime();function UO(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(s){if(!(Z(s,"display")==="none"||s===ee.ghost)){t.push({target:s,rect:qe(s)});var i=Mn({},t[t.length-1].rect);if(s.thisAnimationDuration){var a=oi(s,!0);a&&(i.top-=a.f,i.left-=a.e)}s.fromRect=i}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice($O(t,{target:r}),1)},animateAll:function(r){var s=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var i=!1,a=0;t.forEach(function(o){var l=0,c=o.target,d=c.fromRect,h=qe(c),f=c.prevFromRect,m=c.prevToRect,x=o.rect,v=oi(c,!0);v&&(h.top-=v.f,h.left-=v.e),c.toRect=h,c.thisAnimationDuration&&id(f,h)&&!id(d,h)&&(x.top-h.top)/(x.left-h.left)===(d.top-h.top)/(d.left-h.left)&&(l=HO(x,f,m,s.options)),id(h,d)||(c.prevFromRect=d,c.prevToRect=h,l||(l=s.options.animation),s.animate(c,x,h,l)),l&&(i=!0,a=Math.max(a,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),i?e=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),t=[]},animate:function(r,s,i,a){if(a){Z(r,"transition",""),Z(r,"transform","");var o=oi(this.el),l=o&&o.a,c=o&&o.d,d=(s.left-i.left)/(l||1),h=(s.top-i.top)/(c||1);r.animatingX=!!d,r.animatingY=!!h,Z(r,"transform","translate3d("+d+"px,"+h+"px,0)"),this.forRepaintDummy=WO(r),Z(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Z(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Z(r,"transition",""),Z(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function WO(t){return t.offsetWidth}function HO(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var Rs=[],ad={initializeByDefault:!0},So={mount:function(e){for(var n in ad)ad.hasOwnProperty(n)&&!(n in e)&&(e[n]=ad[n]);Rs.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Rs.push(e)},pluginEvent:function(e,n,r){var s=this;this.eventCanceled=!1,r.cancel=function(){s.eventCanceled=!0};var i=e+"Global";Rs.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][i]&&n[a.pluginName][i](Mn({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](Mn({sortable:n},r)))})},initializePlugins:function(e,n,r,s){Rs.forEach(function(o){var l=o.pluginName;if(!(!e.options[l]&&!o.initializeByDefault)){var c=new o(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,er(r,c.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);typeof a<"u"&&(e.options[i]=a)}},getEventProperties:function(e,n){var r={};return Rs.forEach(function(s){typeof s.eventProperties=="function"&&er(r,s.eventProperties.call(n[s.pluginName],e))}),r},modifyOption:function(e,n,r){var s;return Rs.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(s=i.optionListeners[n].call(e[i.pluginName],r))}),s}};function VO(t){var e=t.sortable,n=t.rootEl,r=t.name,s=t.targetEl,i=t.cloneEl,a=t.toEl,o=t.fromEl,l=t.oldIndex,c=t.newIndex,d=t.oldDraggableIndex,h=t.newDraggableIndex,f=t.originalEvent,m=t.putSortable,x=t.extraEventProperties;if(e=e||n&&n[Ct],!!e){var v,b=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!sr&&!jo?v=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(r,!0,!0)),v.to=a||n,v.from=o||n,v.item=s||n,v.clone=i,v.oldIndex=l,v.newIndex=c,v.oldDraggableIndex=d,v.newDraggableIndex=h,v.originalEvent=f,v.pullMode=m?m.lastPutMode:void 0;var p=Mn(Mn({},x),So.getEventProperties(r,e));for(var g in p)v[g]=p[g];n&&n.dispatchEvent(v),b[y]&&b[y].call(e,v)}}var qO=["evt"],kt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.evt,i=LO(r,qO);So.pluginEvent.bind(ee)(e,n,Mn({dragEl:W,parentEl:Ie,ghostEl:ne,rootEl:Ee,nextEl:ns,lastDownEl:Il,cloneEl:Me,cloneHidden:gr,dragStarted:aa,putSortable:tt,activeSortable:ee.active,originalEvent:s,oldIndex:Qs,oldDraggableIndex:Ta,newIndex:At,newDraggableIndex:hr,hideGhostForTarget:uw,unhideGhostForTarget:dw,cloneNowHidden:function(){gr=!0},cloneNowShown:function(){gr=!1},dispatchSortableEvent:function(o){gt({sortable:n,name:o,originalEvent:s})}},i))};function gt(t){VO(Mn({putSortable:tt,cloneEl:Me,targetEl:W,rootEl:Ee,oldIndex:Qs,oldDraggableIndex:Ta,newIndex:At,newDraggableIndex:hr},t))}var W,Ie,ne,Ee,ns,Il,Me,gr,Qs,At,Ta,hr,dl,tt,Fs=!1,Nc=!1,Cc=[],qr,nn,od,ld,A0,R0,aa,Is,Pa,Ma=!1,hl=!1,Ll,ct,cd=[],Dh=!1,Ec=[],cu=typeof document<"u",fl=gm,I0=jo||sr?"cssFloat":"float",YO=cu&&!Zb&&!gm&&"draggable"in document.createElement("div"),ow=function(){if(cu){if(sr)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),lw=function(e,n){var r=Z(e),s=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=vi(e,0,n),a=vi(e,1,n),o=i&&Z(i),l=a&&Z(a),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+qe(i).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+qe(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&o.float!=="none"){var h=o.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return i&&(o.display==="block"||o.display==="flex"||o.display==="table"||o.display==="grid"||c>=s&&r[I0]==="none"||a&&r[I0]==="none"&&c+d>s)?"vertical":"horizontal"},GO=function(e,n,r){var s=r?e.left:e.top,i=r?e.right:e.bottom,a=r?e.width:e.height,o=r?n.left:n.top,l=r?n.right:n.bottom,c=r?n.width:n.height;return s===o||i===l||s+a/2===o+c/2},XO=function(e,n){var r;return Cc.some(function(s){var i=s[Ct].options.emptyInsertThreshold;if(!(!i||ym(s))){var a=qe(s),o=e>=a.left-i&&e<=a.right+i,l=n>=a.top-i&&n<=a.bottom+i;if(o&&l)return r=s}}),r},cw=function(e){function n(i,a){return function(o,l,c,d){var h=o.options.group.name&&l.options.group.name&&o.options.group.name===l.options.group.name;if(i==null&&(a||h))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return n(i(o,l,c,d),a)(o,l,c,d);var f=(a?o:l).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}var r={},s=e.group;(!s||Rl(s)!="object")&&(s={name:s}),r.name=s.name,r.checkPull=n(s.pull,!0),r.checkPut=n(s.put),r.revertClone=s.revertClone,e.group=r},uw=function(){!ow&&ne&&Z(ne,"display","none")},dw=function(){!ow&&ne&&Z(ne,"display","")};cu&&!Zb&&document.addEventListener("click",function(t){if(Nc)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Nc=!1,!1},!0);var Yr=function(e){if(W){e=e.touches?e.touches[0]:e;var n=XO(e.clientX,e.clientY);if(n){var r={};for(var s in e)e.hasOwnProperty(s)&&(r[s]=e[s]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Ct]._onDragOver(r)}}},KO=function(e){W&&W.parentNode[Ct]._isOutsideThisEl(e.target)};function ee(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=er({},e),t[Ct]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return lw(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,o){a.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ee.supportPointer!==!1&&"PointerEvent"in window&&(!Ca||gm),emptyInsertThreshold:5};So.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);cw(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:YO,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ce(t,"pointerdown",this._onTapStart):(ce(t,"mousedown",this._onTapStart),ce(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ce(t,"dragover",this),ce(t,"dragenter",this)),Cc.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),er(this,UO())}ee.prototype={constructor:ee,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Is=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,W):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,s=this.options,i=s.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(o||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=s.filter;if(sA(r),!W&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||s.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Ca&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=cn(l,s.draggable,r,!1),!(l&&l.animated)&&Il!==l)){if(Qs=Wt(l),Ta=Wt(l,s.draggable),typeof d=="function"){if(d.call(this,e,l,this)){gt({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),kt("filter",n,{evt:e}),i&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(h){if(h=cn(c,h.trim(),r,!1),h)return gt({sortable:n,rootEl:h,name:"filter",targetEl:l,fromEl:r,toEl:r}),kt("filter",n,{evt:e}),!0}),d)){i&&e.preventDefault();return}s.handle&&!cn(c,s.handle,r,!1)||this._prepareDragStart(e,o,l)}}},_prepareDragStart:function(e,n,r){var s=this,i=s.el,a=s.options,o=i.ownerDocument,l;if(r&&!W&&r.parentNode===i){var c=qe(r);if(Ee=i,W=r,Ie=W.parentNode,ns=W.nextSibling,Il=r,dl=a.group,ee.dragged=W,qr={target:W,clientX:(n||e).clientX,clientY:(n||e).clientY},A0=qr.clientX-c.left,R0=qr.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,W.style["will-change"]="all",l=function(){if(kt("delayEnded",s,{evt:e}),ee.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!P0&&s.nativeDraggable&&(W.draggable=!0),s._triggerDragStart(e,n),gt({sortable:s,name:"choose",originalEvent:e}),Ot(W,a.chosenClass,!0)},a.ignore.split(",").forEach(function(d){nw(W,d.trim(),ud)}),ce(o,"dragover",Yr),ce(o,"mousemove",Yr),ce(o,"touchmove",Yr),a.supportPointer?(ce(o,"pointerup",s._onDrop),!this.nativeDraggable&&ce(o,"pointercancel",s._onDrop)):(ce(o,"mouseup",s._onDrop),ce(o,"touchend",s._onDrop),ce(o,"touchcancel",s._onDrop)),P0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,W.draggable=!0),kt("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(jo||sr))){if(ee.eventCanceled){this._onDrop();return}a.supportPointer?(ce(o,"pointerup",s._disableDelayedDrag),ce(o,"pointercancel",s._disableDelayedDrag)):(ce(o,"mouseup",s._disableDelayedDrag),ce(o,"touchend",s._disableDelayedDrag),ce(o,"touchcancel",s._disableDelayedDrag)),ce(o,"mousemove",s._delayedDragTouchMoveHandler),ce(o,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&ce(o,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){W&&ud(W),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;le(e,"mouseup",this._disableDelayedDrag),le(e,"touchend",this._disableDelayedDrag),le(e,"touchcancel",this._disableDelayedDrag),le(e,"pointerup",this._disableDelayedDrag),le(e,"pointercancel",this._disableDelayedDrag),le(e,"mousemove",this._delayedDragTouchMoveHandler),le(e,"touchmove",this._delayedDragTouchMoveHandler),le(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?ce(document,"pointermove",this._onTouchMove):n?ce(document,"touchmove",this._onTouchMove):ce(document,"mousemove",this._onTouchMove):(ce(W,"dragend",this),ce(Ee,"dragstart",this._onDragStart));try{document.selection?Fl(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Fs=!1,Ee&&W){kt("dragStarted",this,{evt:n}),this.nativeDraggable&&ce(document,"dragover",KO);var r=this.options;!e&&Ot(W,r.dragClass,!1),Ot(W,r.ghostClass,!0),ee.active=this,e&&this._appendGhost(),gt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(nn){this._lastX=nn.clientX,this._lastY=nn.clientY,uw();for(var e=document.elementFromPoint(nn.clientX,nn.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(nn.clientX,nn.clientY),e!==n);)n=e;if(W.parentNode[Ct]._isOutsideThisEl(e),n)do{if(n[Ct]){var r=void 0;if(r=n[Ct]._onDragOver({clientX:nn.clientX,clientY:nn.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=tw(n));dw()}},_onTouchMove:function(e){if(qr){var n=this.options,r=n.fallbackTolerance,s=n.fallbackOffset,i=e.touches?e.touches[0]:e,a=ne&&oi(ne,!0),o=ne&&a&&a.a,l=ne&&a&&a.d,c=fl&&ct&&O0(ct),d=(i.clientX-qr.clientX+s.x)/(o||1)+(c?c[0]-cd[0]:0)/(o||1),h=(i.clientY-qr.clientY+s.y)/(l||1)+(c?c[1]-cd[1]:0)/(l||1);if(!ee.active&&!Fs){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(ne){a?(a.e+=d-(od||0),a.f+=h-(ld||0)):a={a:1,b:0,c:0,d:1,e:d,f:h};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Z(ne,"webkitTransform",f),Z(ne,"mozTransform",f),Z(ne,"msTransform",f),Z(ne,"transform",f),od=d,ld=h,nn=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ne){var e=this.options.fallbackOnBody?document.body:Ee,n=qe(W,!0,fl,!0,e),r=this.options;if(fl){for(ct=e;Z(ct,"position")==="static"&&Z(ct,"transform")==="none"&&ct!==document;)ct=ct.parentNode;ct!==document.body&&ct!==document.documentElement?(ct===document&&(ct=Tn()),n.top+=ct.scrollTop,n.left+=ct.scrollLeft):ct=Tn(),cd=O0(ct)}ne=W.cloneNode(!0),Ot(ne,r.ghostClass,!1),Ot(ne,r.fallbackClass,!0),Ot(ne,r.dragClass,!0),Z(ne,"transition",""),Z(ne,"transform",""),Z(ne,"box-sizing","border-box"),Z(ne,"margin",0),Z(ne,"top",n.top),Z(ne,"left",n.left),Z(ne,"width",n.width),Z(ne,"height",n.height),Z(ne,"opacity","0.8"),Z(ne,"position",fl?"absolute":"fixed"),Z(ne,"zIndex","100000"),Z(ne,"pointerEvents","none"),ee.ghost=ne,e.appendChild(ne),Z(ne,"transform-origin",A0/parseInt(ne.style.width)*100+"% "+R0/parseInt(ne.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,s=e.dataTransfer,i=r.options;if(kt("dragStart",this,{evt:e}),ee.eventCanceled){this._onDrop();return}kt("setupClone",this),ee.eventCanceled||(Me=iw(W),Me.removeAttribute("id"),Me.draggable=!1,Me.style["will-change"]="",this._hideClone(),Ot(Me,this.options.chosenClass,!1),ee.clone=Me),r.cloneId=Fl(function(){kt("clone",r),!ee.eventCanceled&&(r.options.removeCloneOnHide||Ee.insertBefore(Me,W),r._hideClone(),gt({sortable:r,name:"clone"}))}),!n&&Ot(W,i.dragClass,!0),n?(Nc=!0,r._loopId=setInterval(r._emulateDragOver,50)):(le(document,"mouseup",r._onDrop),le(document,"touchend",r._onDrop),le(document,"touchcancel",r._onDrop),s&&(s.effectAllowed="move",i.setData&&i.setData.call(r,s,W)),ce(document,"drop",r),Z(W,"transform","translateZ(0)")),Fs=!0,r._dragStartId=Fl(r._dragStarted.bind(r,n,e)),ce(document,"selectstart",r),aa=!0,window.getSelection().removeAllRanges(),Ca&&Z(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,s,i,a,o=this.options,l=o.group,c=ee.active,d=dl===l,h=o.sort,f=tt||c,m,x=this,v=!1;if(Dh)return;function b(L,N){kt(L,x,Mn({evt:e,isOwner:d,axis:m?"vertical":"horizontal",revert:a,dragRect:s,targetRect:i,canSort:h,fromSortable:f,target:r,completed:p,onMove:function(H,J){return ml(Ee,n,W,s,H,qe(H),e,J)},changed:g},N))}function y(){b("dragOverAnimationCapture"),x.captureAnimationState(),x!==f&&f.captureAnimationState()}function p(L){return b("dragOverCompleted",{insertion:L}),L&&(d?c._hideClone():c._showClone(x),x!==f&&(Ot(W,tt?tt.options.ghostClass:c.options.ghostClass,!1),Ot(W,o.ghostClass,!0)),tt!==x&&x!==ee.active?tt=x:x===ee.active&&tt&&(tt=null),f===x&&(x._ignoreWhileAnimating=r),x.animateAll(function(){b("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===W&&!W.animated||r===n&&!r.animated)&&(Is=null),!o.dragoverBubble&&!e.rootEl&&r!==document&&(W.parentNode[Ct]._isOutsideThisEl(e.target),!L&&Yr(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function g(){At=Wt(W),hr=Wt(W,o.draggable),gt({sortable:x,name:"change",toEl:n,newIndex:At,newDraggableIndex:hr,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=cn(r,o.draggable,n,!0),b("dragOver"),ee.eventCanceled)return v;if(W.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||x._ignoreWhileAnimating===r)return p(!1);if(Nc=!1,c&&!o.disabled&&(d?h||(a=Ie!==Ee):tt===this||(this.lastPutMode=dl.checkPull(this,c,W,e))&&l.checkPut(this,c,W,e))){if(m=this._getDirection(e,r)==="vertical",s=qe(W),b("dragOverValid"),ee.eventCanceled)return v;if(a)return Ie=Ee,y(),this._hideClone(),b("revert"),ee.eventCanceled||(ns?Ee.insertBefore(W,ns):Ee.appendChild(W)),p(!0);var w=ym(n,o.draggable);if(!w||eA(e,m,this)&&!w.animated){if(w===W)return p(!1);if(w&&n===e.target&&(r=w),r&&(i=qe(r)),ml(Ee,n,W,s,r,i,e,!!r)!==!1)return y(),w&&w.nextSibling?n.insertBefore(W,w.nextSibling):n.appendChild(W),Ie=n,g(),p(!0)}else if(w&&ZO(e,m,this)){var _=vi(n,0,o,!0);if(_===W)return p(!1);if(r=_,i=qe(r),ml(Ee,n,W,s,r,i,e,!1)!==!1)return y(),n.insertBefore(W,_),Ie=n,g(),p(!0)}else if(r.parentNode===n){i=qe(r);var k=0,C,T=W.parentNode!==n,O=!GO(W.animated&&W.toRect||s,r.animated&&r.toRect||i,m),I=m?"top":"left",U=D0(r,"top","top")||D0(W,"top","top"),M=U?U.scrollTop:void 0;Is!==r&&(C=i[I],Ma=!1,hl=!O&&o.invertSwap||T),k=tA(e,r,i,m,O?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,hl,Is===r);var $;if(k!==0){var S=Wt(W);do S-=k,$=Ie.children[S];while($&&(Z($,"display")==="none"||$===ne))}if(k===0||$===r)return p(!1);Is=r,Pa=k;var z=r.nextElementSibling,A=!1;A=k===1;var V=ml(Ee,n,W,s,r,i,e,A);if(V!==!1)return(V===1||V===-1)&&(A=V===1),Dh=!0,setTimeout(JO,30),y(),A&&!z?n.appendChild(W):r.parentNode.insertBefore(W,A?z:r),U&&sw(U,0,M-U.scrollTop),Ie=W.parentNode,C!==void 0&&!hl&&(Ll=Math.abs(C-qe(r)[I])),g(),p(!0)}if(n.contains(W))return p(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){le(document,"mousemove",this._onTouchMove),le(document,"touchmove",this._onTouchMove),le(document,"pointermove",this._onTouchMove),le(document,"dragover",Yr),le(document,"mousemove",Yr),le(document,"touchmove",Yr)},_offUpEvents:function(){var e=this.el.ownerDocument;le(e,"mouseup",this._onDrop),le(e,"touchend",this._onDrop),le(e,"pointerup",this._onDrop),le(e,"pointercancel",this._onDrop),le(e,"touchcancel",this._onDrop),le(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(At=Wt(W),hr=Wt(W,r.draggable),kt("drop",this,{evt:e}),Ie=W&&W.parentNode,At=Wt(W),hr=Wt(W,r.draggable),ee.eventCanceled){this._nulling();return}Fs=!1,hl=!1,Ma=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Oh(this.cloneId),Oh(this._dragStartId),this.nativeDraggable&&(le(document,"drop",this),le(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ca&&Z(document.body,"user-select",""),Z(W,"transform",""),e&&(aa&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),ne&&ne.parentNode&&ne.parentNode.removeChild(ne),(Ee===Ie||tt&&tt.lastPutMode!=="clone")&&Me&&Me.parentNode&&Me.parentNode.removeChild(Me),W&&(this.nativeDraggable&&le(W,"dragend",this),ud(W),W.style["will-change"]="",aa&&!Fs&&Ot(W,tt?tt.options.ghostClass:this.options.ghostClass,!1),Ot(W,this.options.chosenClass,!1),gt({sortable:this,name:"unchoose",toEl:Ie,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ee!==Ie?(At>=0&&(gt({rootEl:Ie,name:"add",toEl:Ie,fromEl:Ee,originalEvent:e}),gt({sortable:this,name:"remove",toEl:Ie,originalEvent:e}),gt({rootEl:Ie,name:"sort",toEl:Ie,fromEl:Ee,originalEvent:e}),gt({sortable:this,name:"sort",toEl:Ie,originalEvent:e})),tt&&tt.save()):At!==Qs&&At>=0&&(gt({sortable:this,name:"update",toEl:Ie,originalEvent:e}),gt({sortable:this,name:"sort",toEl:Ie,originalEvent:e})),ee.active&&((At==null||At===-1)&&(At=Qs,hr=Ta),gt({sortable:this,name:"end",toEl:Ie,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){kt("nulling",this),Ee=W=Ie=ne=ns=Me=Il=gr=qr=nn=aa=At=hr=Qs=Ta=Is=Pa=tt=dl=ee.dragged=ee.ghost=ee.clone=ee.active=null,Ec.forEach(function(e){e.checked=!0}),Ec.length=od=ld=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":W&&(this._onDragOver(e),QO(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,s=0,i=r.length,a=this.options;s<i;s++)n=r[s],cn(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||rA(n));return e},sort:function(e,n){var r={},s=this.el;this.toArray().forEach(function(i,a){var o=s.children[a];cn(o,this.options.draggable,s,!1)&&(r[i]=o)},this),n&&this.captureAnimationState(),e.forEach(function(i){r[i]&&(s.removeChild(r[i]),s.appendChild(r[i]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return cn(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var s=So.modifyOption(this,e,n);typeof s<"u"?r[e]=s:r[e]=n,e==="group"&&cw(r)},destroy:function(){kt("destroy",this);var e=this.el;e[Ct]=null,le(e,"mousedown",this._onTapStart),le(e,"touchstart",this._onTapStart),le(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(le(e,"dragover",this),le(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Cc.splice(Cc.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!gr){if(kt("hideClone",this),ee.eventCanceled)return;Z(Me,"display","none"),this.options.removeCloneOnHide&&Me.parentNode&&Me.parentNode.removeChild(Me),gr=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(gr){if(kt("showClone",this),ee.eventCanceled)return;W.parentNode==Ee&&!this.options.group.revertClone?Ee.insertBefore(Me,W):ns?Ee.insertBefore(Me,ns):Ee.appendChild(Me),this.options.group.revertClone&&this.animate(W,Me),Z(Me,"display",""),gr=!1}}};function QO(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function ml(t,e,n,r,s,i,a,o){var l,c=t[Ct],d=c.options.onMove,h;return window.CustomEvent&&!sr&&!jo?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=s||e,l.relatedRect=i||qe(e),l.willInsertAfter=o,l.originalEvent=a,t.dispatchEvent(l),d&&(h=d.call(c,l,a)),h}function ud(t){t.draggable=!1}function JO(){Dh=!1}function ZO(t,e,n){var r=qe(vi(n.el,0,n.options,!0)),s=aw(n.el,n.options,ne),i=10;return e?t.clientX<s.left-i||t.clientY<r.top&&t.clientX<r.right:t.clientY<s.top-i||t.clientY<r.bottom&&t.clientX<r.left}function eA(t,e,n){var r=qe(ym(n.el,n.options.draggable)),s=aw(n.el,n.options,ne),i=10;return e?t.clientX>s.right+i||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>s.bottom+i||t.clientX>r.right&&t.clientY>r.top}function tA(t,e,n,r,s,i,a,o){var l=r?t.clientY:t.clientX,c=r?n.height:n.width,d=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!a){if(o&&Ll<c*s){if(!Ma&&(Pa===1?l>d+c*i/2:l<h-c*i/2)&&(Ma=!0),Ma)f=!0;else if(Pa===1?l<d+Ll:l>h-Ll)return-Pa}else if(l>d+c*(1-s)/2&&l<h-c*(1-s)/2)return nA(e)}return f=f||a,f&&(l<d+c*i/2||l>h-c*i/2)?l>d+c/2?1:-1:0}function nA(t){return Wt(W)<Wt(t)?1:-1}function rA(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function sA(t){Ec.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Ec.push(r)}}function Fl(t){return setTimeout(t,0)}function Oh(t){return clearTimeout(t)}cu&&ce(document,"touchmove",function(t){(ee.active||Fs)&&t.cancelable&&t.preventDefault()});ee.utils={on:ce,off:le,css:Z,find:nw,is:function(e,n){return!!cn(e,n,e,!1)},extend:zO,throttle:rw,closest:cn,toggleClass:Ot,clone:iw,index:Wt,nextTick:Fl,cancelNextTick:Oh,detectDirection:lw,getChild:vi,expando:Ct};ee.get=function(t){return t[Ct]};ee.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ee.utils=Mn(Mn({},ee.utils),r.utils)),So.mount(r)})};ee.create=function(t,e){return new ee(t,e)};ee.version=FO;var Ve=[],oa,Ah,Rh=!1,dd,hd,Tc,la;function iA(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?ce(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ce(document,"pointermove",this._handleFallbackAutoScroll):r.touches?ce(document,"touchmove",this._handleFallbackAutoScroll):ce(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?le(document,"dragover",this._handleAutoScroll):(le(document,"pointermove",this._handleFallbackAutoScroll),le(document,"touchmove",this._handleFallbackAutoScroll),le(document,"mousemove",this._handleFallbackAutoScroll)),L0(),$l(),BO()},nulling:function(){Tc=Ah=oa=Rh=la=dd=hd=null,Ve.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var s=this,i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,o=document.elementFromPoint(i,a);if(Tc=n,r||this.options.forceAutoScrollFallback||jo||sr||Ca){fd(n,this.options,o,r);var l=_r(o,!0);Rh&&(!la||i!==dd||a!==hd)&&(la&&L0(),la=setInterval(function(){var c=_r(document.elementFromPoint(i,a),!0);c!==l&&(l=c,$l()),fd(n,s.options,c,r)},10),dd=i,hd=a)}else{if(!this.options.bubbleScroll||_r(o,!0)===Tn()){$l();return}fd(n,this.options,_r(o,!1),!1)}}},er(t,{pluginName:"scroll",initializeByDefault:!0})}function $l(){Ve.forEach(function(t){clearInterval(t.pid)}),Ve=[]}function L0(){clearInterval(la)}var fd=rw(function(t,e,n,r){if(e.scroll){var s=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,o=e.scrollSpeed,l=Tn(),c=!1,d;Ah!==n&&(Ah=n,$l(),oa=e.scroll,d=e.scrollFn,oa===!0&&(oa=_r(n,!0)));var h=0,f=oa;do{var m=f,x=qe(m),v=x.top,b=x.bottom,y=x.left,p=x.right,g=x.width,w=x.height,_=void 0,k=void 0,C=m.scrollWidth,T=m.scrollHeight,O=Z(m),I=m.scrollLeft,U=m.scrollTop;m===l?(_=g<C&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),k=w<T&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(_=g<C&&(O.overflowX==="auto"||O.overflowX==="scroll"),k=w<T&&(O.overflowY==="auto"||O.overflowY==="scroll"));var M=_&&(Math.abs(p-s)<=a&&I+g<C)-(Math.abs(y-s)<=a&&!!I),$=k&&(Math.abs(b-i)<=a&&U+w<T)-(Math.abs(v-i)<=a&&!!U);if(!Ve[h])for(var S=0;S<=h;S++)Ve[S]||(Ve[S]={});(Ve[h].vx!=M||Ve[h].vy!=$||Ve[h].el!==m)&&(Ve[h].el=m,Ve[h].vx=M,Ve[h].vy=$,clearInterval(Ve[h].pid),(M!=0||$!=0)&&(c=!0,Ve[h].pid=setInterval((function(){r&&this.layer===0&&ee.active._onTouchMove(Tc);var z=Ve[this.layer].vy?Ve[this.layer].vy*o:0,A=Ve[this.layer].vx?Ve[this.layer].vx*o:0;typeof d=="function"&&d.call(ee.dragged.parentNode[Ct],A,z,t,Tc,Ve[this.layer].el)!=="continue"||sw(Ve[this.layer].el,A,z)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&f!==l&&(f=_r(f,!1)));Rh=c}},30),hw=function(e){var n=e.originalEvent,r=e.putSortable,s=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=r||i;o();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(h)&&(a("spill"),this.onSpill({dragEl:s,putSortable:r}))}};function xm(){}xm.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var s=vi(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(n,s):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:hw};er(xm,{pluginName:"revertOnSpill"});function vm(){}vm.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,s=r||this.sortable;s.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),s.animateAll()},drop:hw};er(vm,{pluginName:"removeOnSpill"});ee.mount(new iA);ee.mount(vm,xm);const aA=({transactions:t,onEdit:e,onDelete:n})=>{const{reorderTransactions:r,banks:s}=it(),i=j.useRef(null);j.useEffect(()=>{if(i.current){const d=ee.create(i.current,{animation:150,handle:".drag-handle",ghostClass:"opacity-50",chosenClass:"sortable-chosen",dragClass:"shadow-lg",onEnd:h=>{const f=h.oldIndex,m=h.newIndex;if(f!==void 0&&m!==void 0){const x=[...t],[v]=x.splice(f,1);x.splice(m,0,v),r(x)}}});return()=>{d.destroy()}}},[t,r]);const a=d=>d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),o=d=>d.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),l=d=>{if(!d)return"Dinheiro";const h=s.find(f=>f.id===d);return(h==null?void 0:h.name)||"Banco não encontrado"},c=d=>{switch(d){case"creditCard":return"Cartão de Crédito";case"debitCard":return"Cartão de Débito";case"pix":return"PIX";default:return"Dinheiro"}};return t.length===0?u.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center",children:u.jsx(Rr,{className:"w-8 h-8"})}),u.jsx("p",{className:"text-lg font-medium",children:"Nenhuma transação encontrada"}),u.jsx("p",{className:"text-sm",children:"Adicione uma nova transação para começar"})]})}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-8",children:u.jsx(ag,{className:"w-4 h-4"})}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Data/Hora"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Tipo"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Descrição"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Categoria"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Pagamento"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Valor"}),u.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Ações"})]})}),u.jsx("tbody",{ref:i,className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:t.map(d=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors cursor-move","data-id":d.id,children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:u.jsx("div",{className:"drag-handle cursor-move text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u.jsx(ag,{className:"w-4 h-4"})})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:o(d.date)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.type==="income"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:[d.type==="income"?u.jsx(nN,{className:"w-3 h-3 mr-1"}):u.jsx(tN,{className:"w-3 h-3 mr-1"}),d.type==="income"?"Receita":"Despesa"]})}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-gray-300",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:d.description}),d.isInstallment&&d.installmentDetails&&u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Parcela ",d.installmentDetails.current,"/",d.installmentDetails.total]}),d.tags&&d.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:d.tags.map((h,f)=>u.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-800 dark:bg-slate-700 dark:text-gray-300",children:h},f))})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:d.category}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:u.jsxs("div",{children:[u.jsx("div",{children:c(d.paymentMethod)}),d.bankId&&u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:l(d.bankId)})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:u.jsxs("span",{className:d.type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[d.type==="income"?"+":"-",a(d.amount)]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:u.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[u.jsx("button",{onClick:()=>e(d),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"Editar",children:u.jsx(tu,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>n(d.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:"Excluir",children:u.jsx(Rr,{className:"w-4 h-4"})})]})})]},d.id))})]})})},oA=()=>{const{getCurrentMonthTransactions:t,deleteTransaction:e,banks:n,selectedYear:r,selectedMonth:s}=it(),[i,a]=j.useState(!1),[o,l]=j.useState(null),[c,d]=j.useState(""),[h,f]=j.useState("all"),[m,x]=j.useState("all"),[v,b]=j.useState("all"),y=["Alimentação","Transporte","Moradia","Lazer","Saúde","Educação","Salário","Investimentos","Outros"],g=t().filter(A=>{const V=A.description.toLowerCase().includes(c.toLowerCase())||A.category.toLowerCase().includes(c.toLowerCase()),L=h==="all"||A.category===h,N=m==="all"||A.paymentMethod===m,F=v==="all"||A.type===v;return V&&L&&N&&F}),w=g.filter(A=>A.type==="expense").reduce((A,V)=>A+V.amount,0),_=g.filter(A=>A.type==="income").reduce((A,V)=>A+V.amount,0),k=g.length,C=w/new Date(r,s+1,0).getDate(),T=A=>{l(A),a(!0)},O=A=>{confirm("Tem certeza que deseja excluir esta transação?")&&e(A)},I=()=>{a(!1),l(null)},U=()=>{d(""),f("all"),x("all"),b("all")},M=()=>{confirm("Tem certeza que deseja excluir TODAS as transações do mês? Esta ação não pode ser desfeita.")&&g.forEach(A=>e(A.id))},$=()=>{const V=[["Data","Tipo","Descrição","Categoria","Valor","Forma de Pagamento","Tags"].join(","),...g.map(H=>[H.date.toLocaleDateString("pt-BR"),H.type==="income"?"Receita":"Despesa",`"${H.description}"`,H.category,H.amount.toFixed(2).replace(".",","),H.paymentMethod||"money",`"${(H.tags||[]).join(", ")}"`].join(","))].join(`
`),L=new Blob([V],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),F=URL.createObjectURL(L);N.setAttribute("href",F),N.setAttribute("download",`transacoes-${r}-${s+1}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)},S=A=>A.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),z=c||h!=="all"||m!=="all"||v!=="all";return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Controle de Transações"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie e monitore suas transações"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("button",{onClick:$,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[u.jsx(sN,{className:"w-4 h-4"}),u.jsx("span",{children:"Exportar"})]}),u.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2",children:[u.jsx(Ei,{className:"w-5 h-5"}),u.jsx("span",{children:"Adicionar Transação"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Receitas"}),u.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:S(_)})]}),u.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:u.jsx(Qa,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Despesas"}),u.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:S(w)})]}),u.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center",children:u.jsx(Qa,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Transações"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:k})]}),u.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:u.jsx(yN,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Média Diária"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:S(C)})]}),u.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:u.jsx(vo,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white flex items-center",children:[u.jsx(iN,{className:"w-5 h-5 mr-2"}),"Filtros"]}),z&&u.jsx("button",{onClick:U,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:"Limpar Filtros"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(hN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Buscar por descrição...",value:c,onChange:A=>d(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),u.jsxs("select",{value:v,onChange:A=>b(A.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[u.jsx("option",{value:"all",children:"Todos os tipos"}),u.jsx("option",{value:"income",children:"Receitas"}),u.jsx("option",{value:"expense",children:"Despesas"})]}),u.jsxs("select",{value:h,onChange:A=>f(A.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[u.jsx("option",{value:"all",children:"Todas as categorias"}),y.map(A=>u.jsx("option",{value:A,children:A},A))]}),u.jsxs("select",{value:m,onChange:A=>x(A.target.value),className:"px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[u.jsx("option",{value:"all",children:"Todas as formas"}),u.jsx("option",{value:"money",children:"Dinheiro"}),u.jsx("option",{value:"creditCard",children:"Cartão de Crédito"}),u.jsx("option",{value:"debitCard",children:"Cartão de Débito"}),u.jsx("option",{value:"pix",children:"PIX"})]}),u.jsxs("button",{onClick:M,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2",children:[u.jsx(Rr,{className:"w-4 h-4"}),u.jsx("span",{children:"Limpar Tudo"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-gray-100 dark:border-slate-700 overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:["Transações (",g.length,")"]}),z&&u.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Filtros ativos"})]})}),u.jsx(aA,{transactions:g,onEdit:T,onDelete:O})]}),u.jsx(Jb,{isOpen:i,onClose:I,transaction:o})]})},lA=({isOpen:t,onClose:e,bank:n})=>{const{addBank:r,updateBank:s}=it(),[i,a]=j.useState({name:"",color:"#6366f1",type:"credit",creditLimit:"",closingDay:"",dueDay:""});j.useEffect(()=>{var l,c,d;a(n?{name:n.name,color:n.color,type:n.type,creditLimit:((l=n.creditLimit)==null?void 0:l.toString())||"",closingDay:((c=n.closingDay)==null?void 0:c.toString())||"",dueDay:((d=n.dueDay)==null?void 0:d.toString())||""}:{name:"",color:"#6366f1",type:"credit",creditLimit:"",closingDay:"",dueDay:""})},[n,t]);const o=l=>{l.preventDefault();const c={name:i.name,color:i.color,type:i.type,creditLimit:i.creditLimit?parseFloat(i.creditLimit):void 0,closingDay:i.closingDay?parseInt(i.closingDay):void 0,dueDay:i.dueDay?parseInt(i.dueDay):void 0};n?s(n.id,c):r(c),e()};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:n?"Editar Banco":"Adicionar Banco"}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:u.jsx(rr,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome do Banco/Cartão"}),u.jsx("input",{type:"text",value:i.name,onChange:l=>a(c=>({...c,name:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo"}),u.jsxs("select",{value:i.type,onChange:l=>a(c=>({...c,type:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[u.jsx("option",{value:"credit",children:"Cartão de Crédito"}),u.jsx("option",{value:"debit",children:"Cartão de Débito"}),u.jsx("option",{value:"account",children:"Conta Corrente"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cor de Identificação"}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"color",value:i.color,onChange:l=>a(c=>({...c,color:l.target.value})),className:"w-12 h-10 border border-gray-300 dark:border-slate-600 rounded-lg cursor-pointer"}),u.jsx("input",{type:"text",value:i.color,onChange:l=>a(c=>({...c,color:l.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"#6366f1"})]})]}),i.type==="credit"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Limite de Crédito (R$)"}),u.jsx("input",{type:"number",step:"0.01",value:i.creditLimit,onChange:l=>a(c=>({...c,creditLimit:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dia do Fechamento"}),u.jsx("input",{type:"number",min:"1",max:"31",value:i.closingDay,onChange:l=>a(c=>({...c,closingDay:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dia do Vencimento"}),u.jsx("input",{type:"number",min:"1",max:"31",value:i.dueDay,onChange:l=>a(c=>({...c,dueDay:l.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:n?"Atualizar":"Salvar"})]})]})]})}):null},cA=()=>{const{banks:t,deleteBank:e,transactions:n,selectedYear:r,selectedMonth:s,getBankInvoice:i,forceUpdateAllCreditCardTransactions:a}=it(),[o,l]=j.useState(!1),[c,d]=j.useState(null),[h,f]=j.useState(null),m=k=>{d(k),l(!0)},x=k=>{confirm("Tem certeza que deseja excluir este banco? Todas as transações associadas perderão a referência.")&&e(k)},v=()=>{l(!1),d(null)},b=k=>k.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),y=k=>{switch(k){case"credit":return u.jsx(Mr,{className:"w-6 h-6"});case"debit":return u.jsx(Mr,{className:"w-6 h-6"});default:return u.jsx(yh,{className:"w-6 h-6"})}},p=k=>{switch(k){case"credit":return"Cartão de Crédito";case"debit":return"Cartão de Débito";default:return"Conta Corrente"}},g=k=>{f(k)},w=h?i(h,s,r):null,_=h?t.find(k=>k.id===h):null;return h&&w&&_?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:()=>f(null),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center space-x-2",children:u.jsx("span",{children:"← Voltar para Bancos"})}),u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:["Fatura - ",_.name]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:_.color},children:y(_.type)}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:_.name}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:new Date(r,s).toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total da Fatura"}),u.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:b(w.totalAmount)}),_.creditLimit&&u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Limite: ",b(_.creditLimit)]})]})]}),w.transactions.length===0?u.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[u.jsx(Mr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),u.jsx("p",{className:"text-lg font-medium",children:"Nenhuma transação nesta fatura"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Data"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Descrição"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Categoria"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Valor"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-gray-200 dark:divide-slate-700",children:w.transactions.sort((k,C)=>C.date.getTime()-k.date.getTime()).map(k=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:k.date.toLocaleDateString("pt-BR")}),u.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-gray-300",children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:k.description}),k.isInstallment&&k.installmentDetails&&u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Parcela ",k.installmentDetails.current,"/",k.installmentDetails.total]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-300",children:k.category}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-red-600 dark:text-red-400",children:b(k.amount)})]},k.id))})]})})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Meus Bancos e Cartões"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gerencie seus bancos, cartões e faturas"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx("button",{onClick:()=>a(),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition-all duration-200 flex items-center space-x-2",children:u.jsx("span",{children:"Atualizar Faturas"})}),u.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2",children:[u.jsx(Ei,{className:"w-5 h-5"}),u.jsx("span",{children:"Adicionar Banco"})]})]})]}),t.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-12 text-center border border-gray-100 dark:border-slate-700",children:[u.jsx(yh,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),u.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Nenhum banco cadastrado"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Adicione seus bancos e cartões para organizar melhor suas finanças"}),u.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Primeiro Banco"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(k=>{const T=n.filter(I=>I.bankId===k.id&&I.date.getFullYear()===r&&I.date.getMonth()===s).reduce((I,U)=>I+U.amount,0),O=k.creditLimit?T/k.creditLimit*100:0;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:k.color},children:y(k.type)}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:k.name}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p(k.type)})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>g(k.id),className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"Ver Fatura",children:u.jsx(Ja,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>m(k),className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:u.jsx(tu,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>x(k.id),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:u.jsx(Rr,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gasto no Mês"}),u.jsx("span",{className:"font-bold text-red-600 dark:text-red-400",children:b(T)})]}),k.type==="credit"&&k.creditLimit&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Limite Disponível"}),u.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:b(k.creditLimit-T)})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${O>90?"bg-red-500":O>70?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(O,100)}%`}})}),u.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[u.jsx("span",{children:"0%"}),u.jsxs("span",{children:[O.toFixed(1),"% usado"]}),u.jsx("span",{children:"100%"})]}),k.closingDay&&k.dueDay&&u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 pt-2 border-t border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(vo,{className:"w-3 h-3"}),u.jsxs("span",{children:["Fecha dia ",k.closingDay]})]}),u.jsxs("span",{children:["Vence dia ",k.dueDay]})]})]}),u.jsx("div",{className:"pt-2",children:u.jsx("button",{onClick:()=>g(k.id),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 px-4 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium",children:"Ver Detalhes da Fatura"})})]})]},k.id)})}),u.jsx(lA,{isOpen:o,onClose:v,bank:c})]})},uA=({isOpen:t,onClose:e,budget:n})=>{const{addBudget:r,updateBudget:s,selectedYear:i,selectedMonth:a}=it(),[o,l]=j.useState({category:"Alimentação",targetAmount:"",alertThreshold:"80"}),c=["Alimentação","Transporte","Moradia","Lazer","Saúde","Educação","Investimentos","Outros"];j.useEffect(()=>{l(n?{category:n.category,targetAmount:n.targetAmount.toString(),alertThreshold:(n.alertThreshold||80).toString()}:{category:"Alimentação",targetAmount:"",alertThreshold:"80"})},[n,t]);const d=h=>{h.preventDefault();const f=`${i}-${String(a+1).padStart(2,"0")}`,m={category:o.category,targetAmount:parseFloat(o.targetAmount),month:f,alertThreshold:parseInt(o.alertThreshold)};n?s(n.id,m):r(m),e()};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:n?"Editar Orçamento":"Novo Orçamento"}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:u.jsx(rr,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),u.jsx("select",{value:o.category,onChange:h=>l(f=>({...f,category:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0,children:c.map(h=>u.jsx("option",{value:h,children:h},h))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor do Orçamento (R$)"}),u.jsx("input",{type:"number",step:"0.01",value:o.targetAmount,onChange:h=>l(f=>({...f,targetAmount:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Alerta quando atingir (%)"}),u.jsx("input",{type:"number",min:"1",max:"100",value:o.alertThreshold,onChange:h=>l(f=>({...f,alertThreshold:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Você receberá uma notificação quando atingir esta porcentagem do orçamento"})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-lg font-medium hover:from-green-600 hover:to-green-700 transition-all duration-200",children:n?"Atualizar":"Salvar"})]})]})]})}):null},dA=()=>{const{getCurrentMonthBudgets:t,getCurrentMonthTransactions:e,deleteBudget:n,selectedYear:r,selectedMonth:s}=it(),[i,a]=j.useState(!1),[o,l]=j.useState(null),c=t(),d=e(),h=p=>{l(p),a(!0)},f=p=>{confirm("Tem certeza que deseja excluir este orçamento?")&&n(p)},m=()=>{a(!1),l(null)},x=p=>p.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),v=(p,g,w=80)=>{const _=p/g*100;return _>=100?{status:"exceeded",color:"red",icon:rg}:_>=w?{status:"warning",color:"yellow",icon:rg}:{status:"good",color:"green",icon:us}},b=d.filter(p=>p.type==="expense").reduce((p,g)=>(p[g.category]=(p[g.category]||0)+g.amount,p),{}),y=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:["Orçamentos - ",y[s]," ",r]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Controle seus gastos por categoria"})]}),u.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center space-x-2",children:[u.jsx(Ei,{className:"w-5 h-5"}),u.jsx("span",{children:"Novo Orçamento"})]})]}),c.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-12 text-center border border-gray-100 dark:border-slate-700",children:[u.jsx(si,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),u.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Nenhum orçamento definido"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Crie orçamentos para controlar melhor seus gastos por categoria"}),u.jsx("button",{onClick:()=>a(!0),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Criar Primeiro Orçamento"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(p=>{const g=b[p.category]||0,w=p.targetAmount-g,_=Math.min(g/p.targetAmount*100,100),k=v(g,p.targetAmount,p.alertThreshold),C=k.icon;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${k.color==="red"?"bg-red-100 dark:bg-red-900/20":k.color==="yellow"?"bg-yellow-100 dark:bg-yellow-900/20":"bg-green-100 dark:bg-green-900/20"}`,children:u.jsx(C,{className:`w-5 h-5 ${k.color==="red"?"text-red-600 dark:text-red-400":k.color==="yellow"?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:p.category}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[_.toFixed(1),"% usado"]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>h(p),className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:u.jsx(tu,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>f(p.id),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:u.jsx(Rr,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gasto"}),u.jsx("span",{className:`font-bold ${k.color==="red"?"text-red-600 dark:text-red-400":"text-gray-800 dark:text-white"}`,children:x(g)})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Orçamento"}),u.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:x(p.targetAmount)})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:w>=0?"Restante":"Excedido"}),u.jsx("span",{className:`font-bold ${w>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:x(Math.abs(w))})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:u.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${k.color==="red"?"bg-red-500":k.color==="yellow"?"bg-yellow-500":"bg-green-500"}`,style:{width:`${_}%`}})}),p.alertThreshold&&u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center justify-between",children:[u.jsxs("span",{children:["Alerta em ",p.alertThreshold,"%"]}),u.jsxs("span",{children:[_.toFixed(1),"%"]})]}),k.status==="exceeded"&&u.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400 font-medium",children:["⚠️ Orçamento excedido em ",(_-100).toFixed(1),"%"]})}),k.status==="warning"&&u.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:u.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 font-medium",children:["⚠️ Atenção: ",_.toFixed(1),"% do orçamento usado"]})})]})]},p.id)})}),u.jsx(uA,{isOpen:i,onClose:m,budget:o})]})},hA=({isOpen:t,onClose:e,goal:n})=>{const{addGoal:r,updateGoal:s}=it(),[i,a]=j.useState({title:"",description:"",targetAmount:"",currentAmount:"",targetDate:"",category:"Investimentos",priority:"medium"}),o=["Investimentos","Viagem","Casa","Carro","Educação","Emergência","Aposentadoria","Outros"];j.useEffect(()=>{a(n?{title:n.title,description:n.description,targetAmount:n.targetAmount.toString(),currentAmount:n.currentAmount.toString(),targetDate:n.targetDate.toISOString().slice(0,10),category:n.category,priority:n.priority}:{title:"",description:"",targetAmount:"",currentAmount:"0",targetDate:"",category:"Investimentos",priority:"medium"})},[n,t]);const l=c=>{c.preventDefault();const d={title:i.title,description:i.description,targetAmount:parseFloat(i.targetAmount),currentAmount:parseFloat(i.currentAmount),targetDate:new Date(i.targetDate),category:i.category,priority:i.priority,isCompleted:!1};n?s(n.id,d):r(d),e()};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-slate-700",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:n?"Editar Meta":"Nova Meta"}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:u.jsx(rr,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Título da Meta"}),u.jsx("input",{type:"text",value:i.title,onChange:c=>a(d=>({...d,title:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",placeholder:"Ex: Viagem para Europa",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrição"}),u.jsx("textarea",{value:i.description,onChange:c=>a(d=>({...d,description:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",rows:3,placeholder:"Descreva sua meta..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor Alvo (R$)"}),u.jsx("input",{type:"number",step:"0.01",value:i.targetAmount,onChange:c=>a(d=>({...d,targetAmount:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor Atual (R$)"}),u.jsx("input",{type:"number",step:"0.01",value:i.currentAmount,onChange:c=>a(d=>({...d,currentAmount:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data Alvo"}),u.jsx("input",{type:"date",value:i.targetDate,onChange:c=>a(d=>({...d,targetDate:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Categoria"}),u.jsx("select",{value:i.category,onChange:c=>a(d=>({...d,category:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:o.map(c=>u.jsx("option",{value:c,children:c},c))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prioridade"}),u.jsxs("select",{value:i.priority,onChange:c=>a(d=>({...d,priority:c.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-slate-700 dark:text-white",children:[u.jsx("option",{value:"low",children:"Baixa"}),u.jsx("option",{value:"medium",children:"Média"}),u.jsx("option",{value:"high",children:"Alta"})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-purple-600 hover:to-purple-700 transition-all duration-200",children:n?"Atualizar":"Salvar"})]})]})]})}):null},fA=()=>{const{goals:t,deleteGoal:e,updateGoal:n,getGoalProgress:r}=it(),[s,i]=j.useState(!1),[a,o]=j.useState(null),l=g=>{o(g),i(!0)},c=g=>{confirm("Tem certeza que deseja excluir esta meta?")&&e(g)},d=g=>{n(g.id,{isCompleted:!g.isCompleted})},h=()=>{i(!1),o(null)},f=g=>g.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),m=g=>g.toLocaleDateString("pt-BR"),x=g=>{const w=new Date,_=g.getTime()-w.getTime();return Math.ceil(_/(1e3*60*60*24))},v=g=>{switch(g){case"high":return"red";case"medium":return"yellow";default:return"green"}},b=g=>{switch(g){case"high":return"Alta";case"medium":return"Média";default:return"Baixa"}},y=t.filter(g=>!g.isCompleted),p=t.filter(g=>g.isCompleted);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Metas Financeiras"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Defina e acompanhe suas metas de economia"})]}),u.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-purple-600 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2",children:[u.jsx(Ei,{className:"w-5 h-5"}),u.jsx("span",{children:"Nova Meta"})]})]}),t.length===0?u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-12 text-center border border-gray-100 dark:border-slate-700",children:[u.jsx(si,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),u.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white mb-2",children:"Nenhuma meta definida"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Crie metas financeiras para manter o foco nos seus objetivos"}),u.jsx("button",{onClick:()=>i(!0),className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Criar Primeira Meta"})]}):u.jsxs("div",{className:"space-y-8",children:[y.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center",children:[u.jsx(Yn,{className:"w-5 h-5 mr-2"}),"Metas Ativas (",y.length,")"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(g=>{const w=r(g.id),_=x(g.targetDate),k=v(g.priority),C=_<0;return u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 border border-gray-100 dark:border-slate-700 hover:shadow-lg transition-shadow",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${k==="red"?"bg-red-100 dark:bg-red-900/20":k==="yellow"?"bg-yellow-100 dark:bg-yellow-900/20":"bg-green-100 dark:bg-green-900/20"}`,children:u.jsx(si,{className:`w-5 h-5 ${k==="red"?"text-red-600 dark:text-red-400":k==="yellow"?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 dark:text-white",children:g.title}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[g.category," • ",b(g.priority)]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>d(g),className:"text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300",title:"Marcar como concluída",children:u.jsx(us,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>l(g),className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Editar",children:u.jsx(tu,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>c(g.id),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:u.jsx(Rr,{className:"w-4 h-4"})})]})]}),g.description&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:g.description}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Progresso"}),u.jsxs("span",{className:"font-bold text-purple-600 dark:text-purple-400",children:[w.toFixed(1),"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(w,100)}%`}})}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Atual"}),u.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:f(g.currentAmount)})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Meta"}),u.jsx("span",{className:"font-bold text-gray-800 dark:text-white",children:f(g.targetAmount)})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Faltam"}),u.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:f(g.targetAmount-g.currentAmount)})]}),u.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400",children:[u.jsx(vo,{className:"w-4 h-4"}),u.jsx("span",{children:m(g.targetDate)})]}),u.jsx("span",{className:`text-sm font-medium ${C?"text-red-600 dark:text-red-400":_<=30?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:C?`${Math.abs(_)} dias atrasado`:`${_} dias restantes`})]})]})]},g.id)})})]}),p.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4 flex items-center",children:[u.jsx(us,{className:"w-5 h-5 mr-2 text-green-600"}),"Metas Concluídas (",p.length,")"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(g=>u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800 opacity-75",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/40 flex items-center justify-center",children:u.jsx(us,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-gray-800 dark:text-white line-through",children:g.title}),u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Concluída em ",m(g.targetDate)]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>d(g),className:"text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Reativar meta",children:u.jsx(si,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>c(g.id),className:"text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",title:"Excluir",children:u.jsx(Rr,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f(g.targetAmount)}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Meta alcançada! 🎉"})]})]},g.id))})]})]}),u.jsx(hA,{isOpen:s,onClose:h,goal:a})]})},fw=({show:t,type:e,title:n,message:r,onClose:s})=>{const[i,a]=j.useState(!1);j.useEffect(()=>{if(t){a(!0);const l=setTimeout(()=>{o()},5e3);return()=>clearTimeout(l)}else a(!1)},[t]);const o=()=>{a(!1),setTimeout(()=>{s()},300)};return!t&&!i?null:u.jsx(u.Fragment,{children:u.jsx("div",{className:"fixed inset-0 pointer-events-none z-[9999]",children:u.jsx("div",{className:"absolute top-20 right-4",children:u.jsx("div",{className:`
              max-w-sm w-full transform transition-all duration-300 ease-in-out pointer-events-auto
              ${i?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}
            `,children:u.jsx("div",{className:`
              ${e==="success"?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800"}
              border rounded-lg shadow-lg p-4 backdrop-blur-sm
            `,children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e==="success"?u.jsx(us,{className:"w-5 h-5 text-green-500"}):u.jsx(qf,{className:"w-5 h-5 text-red-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:n}),r&&u.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:r})]}),u.jsx("button",{onClick:o,className:"flex-shrink-0 ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors","aria-label":"Fechar notificação",children:u.jsx(rr,{className:"w-4 h-4"})})]})})})})})})},mA=()=>{var A,V,L;const{banks:t,transactions:e}=it(),{user:n,signOut:r,updateProfile:s}=Br();_s();const i=j.useRef(null),[a,o]=j.useState({show:!1,type:"success",title:"",message:""}),[l,c]=j.useState(!1),[d,h]=j.useState(!1),[f,m]=j.useState(null),[x,v]=j.useState(!1),[b,y]=j.useState(!1),[p,g]=j.useState({profile:{name:((A=n==null?void 0:n.user_metadata)==null?void 0:A.name)||"",email:(n==null?void 0:n.email)||"",avatar_url:((V=n==null?void 0:n.user_metadata)==null?void 0:V.avatar_url)||""},notifications:{dueBills:!0,lowBalance:!0,budgetAlerts:!0,monthlyReport:!0,transactionReminders:!0,goalAchievements:!0,weeklyDigest:!1,investmentUpdates:!0},preferences:{defaultBank:((L=t[0])==null?void 0:L.id)||"",defaultView:"month",currency:"BRL",dateFormat:"dd/MM/yyyy"},financial:{primaryCurrency:"BRL",secondaryCurrency:"USD",roundingMethod:"normal",dailySpendingLimit:"200",weeklySpendingLimit:"1000",monthlySpendingLimit:"5000",enableSpendingLimits:!1},analytics:{backupFrequency:"weekly",defaultChartType:"line",analysisPeriodia:"6months",smartAlerts:!0,predictiveInsights:!0,categoryTracking:!0,goalTracking:!0}}),w=t.length,_=e.length,k=new Date((n==null?void 0:n.created_at)||Date.now()).toLocaleDateString("pt-BR"),C=N=>{var J;const F=(J=N.target.files)==null?void 0:J[0];if(!F)return;if(!F.type.startsWith("image/")){alert("Por favor, selecione apenas arquivos de imagem.");return}if(F.size>5*1024*1024){alert("A imagem deve ter no máximo 5MB.");return}const H=new FileReader;H.onload=Ce=>{var fe;m((fe=Ce.target)==null?void 0:fe.result)},H.readAsDataURL(F)},T=async()=>{if(!(!f||!n)){h(!0);try{const F=await(await fetch(f)).blob(),H=F.type.split("/")[1],J=`avatar-${n.id}-${Date.now()}.${H}`,{data:Ce,error:fe}=await te.storage.from("avatars").upload(J,F,{cacheControl:"3600",upsert:!0});if(fe)throw fe;const{data:{publicUrl:at}}=te.storage.from("avatars").getPublicUrl(J);g(He=>({...He,profile:{...He.profile,avatar_url:at}})),m(null),console.log("Avatar uploaded successfully:",at)}catch(N){console.error("Erro ao fazer upload do avatar:",N),alert("Erro ao fazer upload da imagem. Tente novamente.")}finally{h(!1)}}},O=()=>{m(null),i.current&&(i.current.value="")},I=N=>{const F=!p.notifications[N];g(Ce=>({...Ce,notifications:{...Ce.notifications,[N]:F}}));const J={dueBills:"Contas a vencer",lowBalance:"Saldo baixo",budgetAlerts:"Alertas de orçamento",monthlyReport:"Relatório mensal",transactionReminders:"Lembretes de transação",goalAchievements:"Alcance de metas",weeklyDigest:"Resumo semanal",investmentUpdates:"Atualizações de investimento"}[N];console.log(`🔔 Notificação "${J}" ${F?"ATIVADA":"DESATIVADA"}`),y(!0)},U=(N,F)=>{g(fe=>({...fe,preferences:{...fe.preferences,[N]:F}}));const J={defaultBank:"Conta padrão",defaultView:"Visualização padrão",currency:"Moeda",dateFormat:"Formato de data"}[N];let Ce=F;if(N==="defaultView")Ce={day:"Diária",week:"Semanal",month:"Mensal",year:"Anual"}[F]||F;else if(N==="defaultBank"){const fe=t.find(at=>at.id===F);Ce=fe?fe.name:"Nenhuma conta selecionada"}console.log(`⚙️ Preferência "${J}" alterada para: ${Ce}`),y(!0)},M=(N,F)=>{g(H=>({...H,financial:{...H.financial,[N]:F}})),y(!0)},$=(N,F)=>{g(H=>({...H,analytics:{...H.analytics,[N]:F}})),y(!0)},S=(N,F)=>{g(H=>({...H,profile:{...H.profile,[N]:F}})),y(!0)},z=async()=>{var N;v(!0);try{await s({name:p.profile.name,avatar_url:p.profile.avatar_url});const F={notifications:p.notifications,preferences:p.preferences,financial:p.financial,analytics:p.analytics,savedAt:new Date().toISOString()};localStorage.setItem("financeAppSettings",JSON.stringify(F)),window.dispatchEvent(new CustomEvent("settingsUpdated",{detail:F})),c(!1),y(!1);const H=[];p.profile.name!==((N=n==null?void 0:n.user_metadata)==null?void 0:N.name)&&H.push("Perfil"),Object.values(p.notifications).some(J=>J)&&H.push("Notificações"),H.push("Preferências"),H.push("Configurações Financeiras"),H.push("Relatórios & Análises"),console.log("Mostrando toast de sucesso!"),o({show:!0,type:"success",title:"Configurações salvas!",message:`${H.join(", ")} foram atualizados com sucesso.`})}catch(F){console.error("Erro ao salvar configurações:",F),o({show:!0,type:"error",title:"Erro ao salvar",message:"Não foi possível salvar as configurações. Tente novamente."})}finally{v(!1)}};return zh.useEffect(()=>{const N=localStorage.getItem("financeAppSettings");if(N)try{const F=JSON.parse(N);g(H=>({...H,notifications:{...H.notifications,...F.notifications},preferences:{...H.preferences,...F.preferences},financial:{...H.financial,...F.financial},analytics:{...H.analytics,...F.analytics}}))}catch(F){console.error("Erro ao carregar configurações salvas:",F)}},[]),u.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 p-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-8",children:"Configurações"}),u.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[u.jsx(Bv,{className:"w-6 h-6"}),"Perfil"]}),u.jsxs("div",{className:"text-center space-y-4 mb-6",children:[u.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[u.jsx("img",{src:f||p.profile.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(p.profile.name||"User")}&background=3b82f6&color=ffffff&size=128`,alt:"Avatar",className:"w-full h-full rounded-full object-cover border-4 border-blue-500 shadow-lg"}),l&&u.jsx("div",{className:"absolute bottom-0 right-0",children:f?u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("button",{onClick:T,disabled:d,className:"bg-green-500 p-2 rounded-full text-white hover:bg-green-600 disabled:opacity-50 shadow-lg",title:"Confirmar upload",children:d?u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):u.jsx(vN,{className:"w-4 h-4"})}),u.jsx("button",{onClick:O,className:"bg-red-500 p-2 rounded-full text-white hover:bg-red-600 shadow-lg",title:"Cancelar",children:u.jsx(rr,{className:"w-4 h-4"})})]}):u.jsx("button",{onClick:()=>{var N;return(N=i.current)==null?void 0:N.click()},className:"bg-blue-500 p-2 rounded-full text-white hover:bg-blue-600 shadow-lg",title:"Alterar foto de perfil",children:u.jsx(rN,{className:"w-5 h-5"})})})]}),u.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:C,className:"hidden","aria-label":"Selecionar arquivo de imagem para avatar"}),f&&u.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Nova imagem selecionada. Clique no ✓ para confirmar o upload."})]}),u.jsxs("div",{className:"text-center space-y-2",children:[l?u.jsx("input",{type:"text",value:p.profile.name,onChange:N=>S("name",N.target.value),className:"text-center text-2xl font-bold bg-transparent border-b-2 border-blue-500 focus:outline-none text-gray-800 dark:text-white px-4 py-2",placeholder:"Seu nome","aria-label":"Nome do usuário"}):u.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:p.profile.name||"Usuário"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p.profile.email}),l&&u.jsx("small",{className:"block text-gray-500 dark:text-gray-400",children:"O email não pode ser alterado"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[u.jsx("div",{className:"text-blue-500 mb-2",children:u.jsx(vo,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Membro desde"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:k})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[u.jsx("div",{className:"text-green-500 mb-2",children:u.jsx(Mr,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Total de Contas"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:w})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:[u.jsx("div",{className:"text-purple-500 mb-2",children:u.jsx(Qa,{className:"w-6 h-6"})}),u.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Total de Transações"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:_})]})]})]}),u.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(mc,{className:"w-6 h-6"}),"Notificações"]}),u.jsx("div",{className:"space-y-4",children:Object.entries(p.notifications).map(([N,F])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[N==="dueBills"&&"Contas a vencer",N==="lowBalance"&&"Saldo baixo",N==="budgetAlerts"&&"Alertas de orçamento",N==="monthlyReport"&&"Relatório mensal",N==="transactionReminders"&&"Lembretes de transação",N==="goalAchievements"&&"Alcance de metas",N==="weeklyDigest"&&"Resumo semanal",N==="investmentUpdates"&&"Atualizações de investimento"]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:F,onChange:()=>I(N),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]},N))})]}),u.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(Mr,{className:"w-6 h-6"}),"Preferências"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Conta padrão"}),u.jsxs("select",{value:p.preferences.defaultBank,onChange:N=>U("defaultBank",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Conta padrão",children:[u.jsx("option",{value:"",children:"Selecione uma conta"}),t.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Visualização padrão"}),u.jsxs("select",{value:p.preferences.defaultView,onChange:N=>U("defaultView",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Visualização padrão",children:[u.jsx("option",{value:"day",children:"Diária"}),u.jsx("option",{value:"week",children:"Semanal"}),u.jsx("option",{value:"month",children:"Mensal"}),u.jsx("option",{value:"year",children:"Anual"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Formato de data"}),u.jsxs("select",{value:p.preferences.dateFormat,onChange:N=>U("dateFormat",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Formato de data",children:[u.jsx("option",{value:"dd/MM/yyyy",children:"DD/MM/AAAA"}),u.jsx("option",{value:"MM/dd/yyyy",children:"MM/DD/AAAA"}),u.jsx("option",{value:"yyyy-MM-dd",children:"AAAA-MM-DD"})]})]})]})]}),u.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(fc,{className:"w-6 h-6"}),"Configurações Financeiras"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Moeda primária"}),u.jsxs("select",{value:p.financial.primaryCurrency,onChange:N=>M("primaryCurrency",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Moeda primária",children:[u.jsx("option",{value:"BRL",children:"Real"}),u.jsx("option",{value:"USD",children:"Dólar"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Moeda secundária"}),u.jsxs("select",{value:p.financial.secondaryCurrency,onChange:N=>M("secondaryCurrency",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Moeda secundária",children:[u.jsx("option",{value:"BRL",children:"Real"}),u.jsx("option",{value:"USD",children:"Dólar"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Método de arredondamento"}),u.jsxs("select",{value:p.financial.roundingMethod,onChange:N=>M("roundingMethod",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Método de arredondamento",children:[u.jsx("option",{value:"normal",children:"Normal"}),u.jsx("option",{value:"up",children:"Arredondar para cima"}),u.jsx("option",{value:"down",children:"Arredondar para baixo"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Limite de gastos diários"}),u.jsx("input",{type:"number",value:p.financial.dailySpendingLimit,onChange:N=>M("dailySpendingLimit",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Limite de gastos diários"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Limite de gastos semanais"}),u.jsx("input",{type:"number",value:p.financial.weeklySpendingLimit,onChange:N=>M("weeklySpendingLimit",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Limite de gastos semanais"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Limite de gastos mensais"}),u.jsx("input",{type:"number",value:p.financial.monthlySpendingLimit,onChange:N=>M("monthlySpendingLimit",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Limite de gastos mensais"})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Habilitar limites de gastos"}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:p.financial.enableSpendingLimits,onChange:N=>M("enableSpendingLimits",N.target.checked),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),u.jsxs("section",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(fc,{className:"w-6 h-6"}),"Relatórios & Análises"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Frequência de backup"}),u.jsxs("select",{value:p.analytics.backupFrequency,onChange:N=>$("backupFrequency",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Frequência de backup",children:[u.jsx("option",{value:"daily",children:"Diário"}),u.jsx("option",{value:"weekly",children:"Semanal"}),u.jsx("option",{value:"monthly",children:"Mensal"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tipo de gráfico padrão"}),u.jsxs("select",{value:p.analytics.defaultChartType,onChange:N=>$("defaultChartType",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Tipo de gráfico padrão",children:[u.jsx("option",{value:"line",children:"Linha"}),u.jsx("option",{value:"bar",children:"Barras"}),u.jsx("option",{value:"pie",children:"Pizza"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Período de análise"}),u.jsxs("select",{value:p.analytics.analysisPeriodia,onChange:N=>$("analysisPeriodia",N.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-2","aria-label":"Período de análise",children:[u.jsx("option",{value:"3months",children:"3 meses"}),u.jsx("option",{value:"6months",children:"6 meses"}),u.jsx("option",{value:"12months",children:"12 meses"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Alertas inteligentes"}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:p.analytics.smartAlerts,onChange:N=>$("smartAlerts",N.target.checked),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Insights preditivos"}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:p.analytics.predictiveInsights,onChange:N=>$("predictiveInsights",N.target.checked),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rastreamento de categoria"}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:p.analytics.categoryTracking,onChange:N=>$("categoryTracking",N.target.checked),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rastreamento de meta"}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:p.analytics.goalTracking,onChange:N=>$("goalTracking",N.target.checked),className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),b&&u.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300",children:[u.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),u.jsx("span",{className:"font-medium",children:"Alterações não salvas"})]}),u.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400 mt-1",children:'Você fez alterações nas configurações. Clique em "Salvar Alterações" para aplicá-las.'})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[u.jsx("button",{onClick:()=>c(!l),className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:l?"Cancelar Edição":"Editar Perfil"}),u.jsx("button",{onClick:z,disabled:x,className:`px-8 py-3 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 flex items-center justify-center gap-2 ${b?"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white animate-pulse":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white"}`,children:x?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Salvando..."]}):u.jsxs(u.Fragment,{children:[u.jsx(dN,{className:"w-5 h-5"}),b?"Salvar Alterações":"Salvar Configurações"]})})]}),u.jsx(fw,{show:a.show,type:a.type,title:a.title,message:a.message,onClose:()=>o(N=>({...N,show:!1}))})]})},pA=({data:t,isPositive:e,height:n=40})=>{if(!t||t.length===0)return u.jsx("div",{className:`w-24 h-${n} bg-gray-200 dark:bg-gray-700 rounded flex items-center justify-center`,children:u.jsx("span",{className:"text-xs text-gray-500",children:"No data"})});const r=Math.min(...t),i=Math.max(...t)-r,a=t.map(l=>i===0?50:(l-r)/i*100),o=a.map((l,c)=>{const d=c/(a.length-1)*100,h=100-l;return`${d},${h}`}).join(" ");return u.jsx("div",{className:"w-24 h-10 relative",children:u.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",className:"absolute inset-0",preserveAspectRatio:"none",children:[u.jsx("polyline",{points:o,fill:"none",stroke:e?"#10b981":"#ef4444",strokeWidth:"2",className:"opacity-80"}),u.jsx("polygon",{points:`0,100 ${o} 100,100`,fill:e?"#10b981":"#ef4444",className:"opacity-20"})]})})},gA=()=>{const[t,e]=j.useState([]),[n,r]=j.useState([]),[s,i]=j.useState(!1),[a,o]=j.useState(!1),[l,c]=j.useState(null),[d,h]=j.useState(""),[f,m]=j.useState([]),[x,v]=j.useState(!1),[b,y]=j.useState("market_cap"),[p,g]=j.useState(!1),[w,_]=j.useState({show:!1,type:"success",title:"",message:""}),k=async()=>{i(!0);try{const S=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=true&price_change_percentage=24h");if(!S.ok)throw new Error("Falha ao buscar dados das criptomoedas");const z=await S.json();e(z),r(A=>A.map(V=>{const L=z.find(N=>N.id===V.cryptoId);return L?{...V,currentPrice:L.current_price}:V}))}catch(S){console.error("Erro ao buscar dados:",S),_({show:!0,type:"error",title:"Erro ao carregar dados",message:"Não foi possível carregar os dados das criptomoedas. Tente novamente."})}finally{i(!1)}},C=()=>{if(!l||!d||parseFloat(d)<=0){_({show:!0,type:"error",title:"Dados inválidos",message:"Por favor, selecione uma criptomoeda e insira um valor válido."});return}const S={id:Date.now().toString(),cryptoId:l.id,symbol:l.symbol.toUpperCase(),name:l.name,amount:parseFloat(d),buyPrice:l.current_price,currentPrice:l.current_price,purchaseDate:new Date().toISOString()};r(A=>[...A,S]),o(!1),c(null),h(""),_({show:!0,type:"success",title:"Investimento adicionado!",message:`${S.amount} USD em ${S.name} foi adicionado ao seu portfólio.`});const z=[...n,S];localStorage.setItem("cryptoInvestments",JSON.stringify(z))},T=S=>{const z=n.find(V=>V.id===S);r(V=>V.filter(L=>L.id!==S)),z&&_({show:!0,type:"success",title:"Investimento removido",message:`${z.name} foi removido do seu portfólio.`});const A=n.filter(V=>V.id!==S);localStorage.setItem("cryptoInvestments",JSON.stringify(A))},O=S=>{m(z=>{const A=z.includes(S)?z.filter(V=>V!==S):[...z,S];return localStorage.setItem("cryptoFavorites",JSON.stringify(A)),A})},I=n.reduce((S,z)=>{const A=z.amount/z.buyPrice*z.currentPrice,V=A-z.amount,L=(A-z.amount)/z.amount*100;return{totalInvested:S.totalInvested+z.amount,currentValue:S.currentValue+A,totalProfit:S.totalProfit+V,profitPercentage:S.profitPercentage+L}},{totalInvested:0,currentValue:0,totalProfit:0,profitPercentage:0}),U=t.filter(S=>p?f.includes(S.id):!0).sort((S,z)=>{switch(b){case"price":return z.current_price-S.current_price;case"change":return z.price_change_percentage_24h-S.price_change_percentage_24h;default:return z.market_cap-S.market_cap}});j.useEffect(()=>{const S=localStorage.getItem("cryptoInvestments"),z=localStorage.getItem("cryptoFavorites");if(S)try{r(JSON.parse(S))}catch(A){console.error("Erro ao carregar investimentos salvos:",A)}if(z)try{m(JSON.parse(z))}catch(A){console.error("Erro ao carregar favoritos salvos:",A)}k()},[]),j.useEffect(()=>{const S=setInterval(k,3e4);return()=>clearInterval(S)},[]);const M=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"USD"}).format(S),$=S=>`${S>=0?"+":""}${S.toFixed(2)}%`;return u.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 p-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[u.jsx(Fv,{className:"w-8 h-8 text-orange-500"}),"Investimentos"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>v(!x),className:"p-2 text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",title:x?"Mostrar saldos":"Ocultar saldos",children:x?u.jsx(Ja,{className:"w-5 h-5"}):u.jsx(pc,{className:"w-5 h-5"})}),u.jsxs("button",{onClick:k,disabled:s,className:"flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors disabled:opacity-50",children:[u.jsx(lg,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Atualizar"]}),u.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors",children:[u.jsx(Ei,{className:"w-4 h-4"}),"Novo Investimento"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Investido"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x?"•••••":M(I.totalInvested)})]}),u.jsx(bN,{className:"w-8 h-8 text-blue-500"})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valor Atual"}),u.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x?"•••••":M(I.currentValue)})]}),u.jsx(Qa,{className:"w-8 h-8 text-green-500"})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Lucro/Prejuízo"}),u.jsx("p",{className:`text-2xl font-bold ${I.totalProfit>=0?"text-green-500":"text-red-500"}`,children:x?"•••••":M(I.totalProfit)})]}),I.totalProfit>=0?u.jsx(Yn,{className:"w-8 h-8 text-green-500"}):u.jsx(xN,{className:"w-8 h-8 text-red-500"})]})}),u.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rendimento"}),u.jsx("p",{className:`text-2xl font-bold ${I.profitPercentage>=0?"text-green-500":"text-red-500"}`,children:x?"•••••":$(I.profitPercentage/n.length||0)})]}),u.jsx(eN,{className:"w-8 h-8 text-purple-500"})]})})]}),n.length>0&&u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[u.jsx(uN,{className:"w-6 h-6"}),"Meu Portfólio"]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"text-left py-3 text-gray-600 dark:text-gray-400",children:"Moeda"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"Investido"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"Preço Compra"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"Preço Atual"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"Valor Atual"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"Lucro/Prejuízo"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"Ações"})]})}),u.jsx("tbody",{children:n.map(S=>{const z=S.amount/S.buyPrice*S.currentPrice,A=z-S.amount,V=(z-S.amount)/S.amount*100;return u.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[u.jsx("td",{className:"py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-semibold text-gray-800 dark:text-white",children:S.symbol}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:S.name})]})}),u.jsx("td",{className:"text-right py-4 text-gray-800 dark:text-white",children:x?"•••••":M(S.amount)}),u.jsx("td",{className:"text-right py-4 text-gray-800 dark:text-white",children:M(S.buyPrice)}),u.jsx("td",{className:"text-right py-4 text-gray-800 dark:text-white",children:M(S.currentPrice)}),u.jsx("td",{className:"text-right py-4 text-gray-800 dark:text-white",children:x?"•••••":M(z)}),u.jsx("td",{className:`text-right py-4 ${A>=0?"text-green-500":"text-red-500"}`,children:x?"•••••":u.jsxs("div",{children:[u.jsx("div",{children:M(A)}),u.jsx("div",{className:"text-sm",children:$(V)})]})}),u.jsx("td",{className:"text-right py-4",children:u.jsx("button",{onClick:()=>T(S.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Remover"})})]},S.id)})})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 shadow-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[u.jsx(fc,{className:"w-6 h-6"}),"Mercado de Criptomoedas"]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:()=>g(!p),className:`px-3 py-1 rounded-lg text-sm transition-colors ${p?"bg-yellow-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:[u.jsx(cg,{className:"w-4 h-4 inline mr-1"}),"Favoritos"]}),u.jsxs("select",{value:b,onChange:S=>y(S.target.value),className:"bg-gray-100 dark:bg-slate-700 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg px-3 py-1 text-sm","aria-label":"Ordenar por",children:[u.jsx("option",{value:"market_cap",children:"Market Cap"}),u.jsx("option",{value:"price",children:"Preço"}),u.jsx("option",{value:"change",children:"Variação 24h"})]})]})]}),s?u.jsxs("div",{className:"flex justify-center items-center py-8",children:[u.jsx(lg,{className:"w-8 h-8 animate-spin text-blue-500"}),u.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Carregando dados..."})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"text-left py-3 text-gray-600 dark:text-gray-400",children:"Moeda"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"Preço"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"24h"}),u.jsx("th",{className:"text-center py-3 text-gray-600 dark:text-gray-400",children:"Gráfico 7D"}),u.jsx("th",{className:"text-right py-3 text-gray-600 dark:text-gray-400",children:"Market Cap"}),u.jsx("th",{className:"text-center py-3 text-gray-600 dark:text-gray-400",children:"Ações"})]})}),u.jsx("tbody",{children:U.slice(0,50).map(S=>{var z;return u.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-slate-700",children:[u.jsx("td",{className:"py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:S.image,alt:S.name,className:"w-8 h-8 rounded-full"}),u.jsxs("div",{children:[u.jsx("div",{className:"font-semibold text-gray-800 dark:text-white",children:S.symbol.toUpperCase()}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:S.name})]})]})}),u.jsx("td",{className:"text-right py-4 text-gray-800 dark:text-white font-medium",children:M(S.current_price)}),u.jsx("td",{className:`text-right py-4 ${S.price_change_percentage_24h>=0?"text-green-500":"text-red-500"}`,children:$(S.price_change_percentage_24h)}),u.jsx("td",{className:"text-center py-4",children:(z=S.sparkline_in_7d)!=null&&z.price?u.jsx(pA,{data:S.sparkline_in_7d.price,isPositive:S.price_change_percentage_24h>=0}):u.jsx("div",{className:"w-24 h-10 bg-gray-200 dark:bg-gray-700 rounded flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:"-"})})}),u.jsx("td",{className:"text-right py-4 text-gray-800 dark:text-white",children:M(S.market_cap)}),u.jsx("td",{className:"text-center py-4",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("button",{onClick:()=>O(S.id),className:`p-1 rounded ${f.includes(S.id)?"text-yellow-500":"text-gray-400 hover:text-yellow-500"}`,children:f.includes(S.id)?u.jsx(cg,{className:"w-4 h-4 fill-current"}):u.jsx(gN,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>{c(S),o(!0)},className:"text-blue-500 hover:text-blue-700 text-sm px-2 py-1 rounded",children:"Investir"})]})})]},S.id)})})]})})]}),a&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-md",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Novo Investimento"}),l&&u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-slate-700 rounded-lg",children:[u.jsx("img",{src:l.image,alt:l.name,className:"w-10 h-10 rounded-full"}),u.jsxs("div",{children:[u.jsxs("div",{className:"font-semibold text-gray-800 dark:text-white",children:[l.name," (",l.symbol.toUpperCase(),")"]}),u.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Preço atual: ",M(l.current_price)]})]})]})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Valor do Investimento (USD)"}),u.jsx("input",{type:"number",value:d,onChange:S=>h(S.target.value),placeholder:"Ex: 1000",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-slate-700 dark:text-white"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:()=>{o(!1),c(null),h("")},className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700",children:"Cancelar"}),u.jsx("button",{onClick:C,className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg",children:"Adicionar"})]})]})}),u.jsx(fw,{show:w.show,type:w.type,title:w.title,message:w.message,onClose:()=>_(S=>({...S,show:!1}))})]})},yA=({isOpen:t,onClose:e})=>{const{notifications:n,markNotificationAsRead:r,clearAllNotifications:s}=it();j.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return t&&document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[t,e]);const i=o=>{switch(o){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";default:return"ℹ️"}},a=o=>o.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"});return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-end z-50 p-4",onClick:e,children:u.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md max-h-[80vh] overflow-hidden mt-16",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-slate-700",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(mc,{className:"w-5 h-5 text-blue-500"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Notificações"}),n.filter(o=>!o.read).length>0&&u.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:n.filter(o=>!o.read).length})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[n.length>0&&u.jsx("button",{onClick:s,className:"text-gray-500 hover:text-red-500 dark:text-gray-400 dark:hover:text-red-400",title:"Limpar todas",children:u.jsx(Rr,{className:"w-4 h-4"})}),u.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",title:"Fechar",children:u.jsx(rr,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"overflow-y-auto max-h-96",children:n.length===0?u.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[u.jsx(mc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:"Nenhuma notificação"})]}):u.jsx("div",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:n.map(o=>u.jsx("div",{className:`p-4 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors ${o.read?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx("span",{className:"text-lg",children:i(o.type)}),u.jsx("h3",{className:"font-medium text-gray-800 dark:text-white",children:o.title})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:o.message}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:a(o.date)})]}),!o.read&&u.jsx("button",{onClick:()=>r(o.id),className:"text-blue-500 hover:text-blue-600 ml-2",title:"Marcar como lida",children:u.jsx($v,{className:"w-4 h-4"})})]})},o.id))})})]})}):null},xA=({isOpen:t,onToggle:e})=>{const{user:n}=Br(),{transactions:r,banks:s,budgets:i,goals:a,getCurrentMonthTransactions:o,getCurrentMonthBalance:l,addTransaction:c,addBudget:d,addGoal:h,addBank:f,addNotification:m,selectedYear:x,selectedMonth:v}=it(),[b,y]=j.useState([{id:"1",role:"assistant",content:`Olá! 👋 Sou seu assistente financeiro inteligente. Posso ajudar você a:

💰 Adicionar transações e receitas
📊 Consultar saldos e gastos
🎯 Criar orçamentos e metas
📈 Analisar seus hábitos financeiros
🏦 Gerenciar bancos e cartões

Como posso ajudar você hoje?`,timestamp:new Date}]),[p,g]=j.useState(""),[w,_]=j.useState(!1),k=j.useRef(null),C=()=>{var S;(S=k.current)==null||S.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{C()},[b]);const T=async(S,z=!1)=>{const V="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyDnv1Prj4ou7JegwUNRapP_R1u1CGE0_uw",L={contents:[{role:"user",parts:[{text:S}]}],generationConfig:{temperature:.3,topK:20,topP:.8,maxOutputTokens:1024},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]};z&&(L.generationConfig.responseMimeType="application/json");try{const N=await fetch(V,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(L)});if(!N.ok){const H=await N.text();throw console.error("API Error Response:",H),new Error(`Erro na API: ${N.status}`)}const F=await N.json();if(F.candidates&&F.candidates.length>0&&F.candidates[0].content&&F.candidates[0].content.parts&&F.candidates[0].content.parts.length>0){const H=F.candidates[0].content.parts[0].text.trim();if(z)try{return JSON.parse(H)}catch{return console.error("Failed to parse JSON response from AI",H),{type:"clarification",response:"Desculpe, não consegui processar sua solicitação. Pode reformular?"}}return H}else throw console.warn("Gemini response is empty or has an unexpected structure:",F),new Error("Resposta vazia da API")}catch(N){throw console.error("Error calling Gemini API:",N),N}},O=()=>{try{const S=o(),z=l(),A=S.filter(N=>N.type==="income").reduce((N,F)=>N+F.amount,0),V=S.filter(N=>N.type==="expense").reduce((N,F)=>N+F.amount,0),L=S.filter(N=>N.type==="expense").reduce((N,F)=>(N[F.category]=(N[F.category]||0)+F.amount,N),{});return{currentBalance:Number(z)||0,totalIncome:Number(A)||0,totalExpenses:Number(V)||0,transactionCount:S.length,categoryExpenses:L,banks:s.map(N=>({id:N.id,name:N.name,type:N.type})),budgets:i.map(N=>({category:N.category,target:N.targetAmount,month:N.month})),goals:a.map(N=>({title:N.title,target:N.targetAmount,current:N.currentAmount,category:N.category})),selectedMonth:v+1,selectedYear:x,recentTransactions:S.slice(0,3).map(N=>({description:N.description,amount:N.amount,type:N.type,category:N.category,date:N.date.toLocaleDateString("pt-BR")}))}}catch(S){return console.error("Erro ao obter contexto financeiro:",S),{currentBalance:0,totalIncome:0,totalExpenses:0,transactionCount:0,categoryExpenses:{},banks:[],budgets:[],goals:[],selectedMonth:v+1,selectedYear:x,recentTransactions:[]}}},I=S=>{const z=S.toLowerCase(),A={Alimentação:{keywords:["ifood","uber eats","rappi","mcdonalds","burger king","kfc","subway","pizza","restaurante","lanchonete","padaria","açougue","mercado","supermercado","feira","hortifruti","comida","almoço","jantar","café","bebida","cerveja","refrigerante","água","leite","pão","carne","frango","peixe","verdura","fruta","doce","chocolate","sorvete","delivery","entrega"],type:"expense"},Transporte:{keywords:["uber","cabify","99","taxi","ônibus","metro","trem","gasolina","etanol","diesel","combustível","posto","shell","petrobras","ipiranga","br","estacionamento","pedágio","vinheta","multa","detran","ipva","seguro auto","mecânico","oficina","pneu","óleo","revisão","carro","moto","bicicleta","patinete","transporte público","bilhete único","cartão transporte"],type:"expense"},Moradia:{keywords:["aluguel","condomínio","iptu","luz","energia","água","gás","internet","telefone","celular","tv","streaming","netflix","amazon prime","spotify","limpeza","faxina","porteiro","segurança","reforma","pintura","eletricista","encanador","pedreiro","móveis","decoração","casa","apartamento"],type:"expense"},Lazer:{keywords:["cinema","teatro","show","festa","balada","bar","pub","clube","academia","ginásio","piscina","parque","zoológico","museu","exposição","viagem","hotel","pousada","passagem","avião","rodoviária","turismo","passeio","diversão","entretenimento","jogo","videogame","livro","revista","jornal","hobby","esporte","futebol","tênis","natação"],type:"expense"},Saúde:{keywords:["médico","dentista","hospital","clínica","farmácia","remédio","medicamento","exame","consulta","cirurgia","tratamento","fisioterapia","psicólogo","psiquiatra","oftalmologista","cardiologista","dermatologista","ginecologista","pediatra","ortopedista","laboratório","raio-x","ultrassom","ressonância","tomografia","vacina","plano de saúde","convênio","unimed","bradesco saúde","amil","sulamerica"],type:"expense"},Educação:{keywords:["escola","faculdade","universidade","curso","aula","professor","mensalidade","matrícula","material escolar","livro didático","caderno","caneta","lápis","mochila","uniforme","transporte escolar","lanche escolar","formatura","diploma","certificado","idioma","inglês","espanhol","francês","alemão","informática","computação","programação"],type:"expense"},Salário:{keywords:["salário","ordenado","pagamento","pró-labore","comissão","bonus","gratificação","13º salário","férias","horas extras","adicional","trabalho","emprego","empresa","patrão","chefe"],type:"income"},Investimentos:{keywords:["dividendo","juros","rendimento","aplicação","poupança","cdb","lci","lca","tesouro","ações","fii","fundo","bitcoin","crypto","investimento","corretora","xp","rico","clear","inter","nubank","itaú","bradesco","santander","banco do brasil","caixa"],type:"income"}};for(const[V,L]of Object.entries(A))for(const N of L.keywords)if(z.includes(N))return{category:V,type:L.type};return{category:"Outros",type:"expense"}},U=async S=>{try{switch(console.log("Executando ação:",S),S.action){case"add_transaction":if(!S.amount||!S.description)throw new Error("Dados incompletos para criar a transação");let z=S.category,A=S.transactionType;if(!z||!A){const N=I(S.description);z=z||N.category,A=A||N.type}const V={type:A,amount:Number(S.amount),category:String(z),description:String(S.description),date:S.date?new Date(S.date):new Date,paymentMethod:S.paymentMethod||"money",bankId:S.bankId||void 0};return console.log("Dados da transação:",V),await c(V),await m({title:"Transação Adicionada via Chat",message:`${A==="income"?"Receita":"Despesa"} de R$ ${S.amount.toFixed(2)} adicionada`,type:"success",date:new Date,read:!1}),`✅ Transação adicionada com sucesso!

💰 ${A==="income"?"Receita":"Despesa"} de R$ ${Number(S.amount).toFixed(2)}
📂 Categoria: ${z}
📝 Descrição: ${S.description}

Você pode ver a transação na página de Transações! 🎉`;case"add_budget":if(!S.category||!S.amount)throw new Error("Dados incompletos para criar o orçamento");const L=`${x}-${String(v+1).padStart(2,"0")}`;return await d({category:String(S.category),targetAmount:Number(S.amount),month:L,alertThreshold:Number(S.alertThreshold)||80}),`🎯 Orçamento criado com sucesso!

💰 R$ ${Number(S.amount).toFixed(2)} para ${S.category}
📅 Mês: ${v+1}/${x}
⚠️ Alerta em: ${S.alertThreshold||80}%`;case"add_goal":if(!S.title||!S.amount||!S.targetDate)throw new Error("Dados incompletos para criar a meta");return await h({title:String(S.title),description:String(S.description||""),targetAmount:Number(S.amount),currentAmount:Number(S.currentAmount)||0,targetDate:new Date(S.targetDate),category:String(S.category),priority:S.priority||"medium",isCompleted:!1}),`🎯 Meta "${S.title}" criada com sucesso!

💰 Objetivo: R$ ${Number(S.amount).toFixed(2)}
📂 Categoria: ${S.category}
📅 Data alvo: ${new Date(S.targetDate).toLocaleDateString("pt-BR")}`;case"add_bank":if(!S.name||!S.type)throw new Error("Dados incompletos para adicionar o banco");return await f({name:String(S.name),color:String(S.color)||"#3B82F6",type:S.type,creditLimit:S.creditLimit?Number(S.creditLimit):void 0,closingDay:S.closingDay?Number(S.closingDay):void 0,dueDay:S.dueDay?Number(S.dueDay):void 0}),`🏦 Banco/Cartão "${S.name}" adicionado com sucesso!

📋 Tipo: ${S.type==="credit"?"Cartão de Crédito":S.type==="debit"?"Cartão de Débito":"Conta Corrente"}`;default:throw new Error("Ação não reconhecida")}}catch(z){throw console.error("Erro ao executar ação:",z),z}},M=async()=>{if(!p.trim()||w)return;const S={id:Date.now().toString(),role:"user",content:p,timestamp:new Date};y(A=>[...A,S]);const z=p;g(""),_(!0);try{const A=O(),V=`
Você é um assistente financeiro inteligente. Analise a mensagem e determine se o usuário quer EXECUTAR uma ação ou fazer uma CONSULTA.

Mensagem: "${z}"

IMPORTANTE: Responda SEMPRE em JSON válido.

Para ADICIONAR TRANSAÇÃO (despesa/receita/gasto), use:
{
  "type": "action",
  "action": "add_transaction",
  "transactionType": "expense" ou "income",
  "amount": valor_numerico,
  "category": "Alimentação" ou "Transporte" ou "Moradia" ou "Lazer" ou "Saúde" ou "Educação" ou "Salário" ou "Investimentos" ou "Outros",
  "description": "descrição_clara",
  "paymentMethod": "money"
}

CATEGORIZAÇÃO INTELIGENTE:
- iFood, Uber Eats, restaurante, comida → Alimentação
- Uber, taxi, gasolina, ônibus → Transporte  
- Aluguel, luz, água, internet → Moradia
- Cinema, bar, viagem → Lazer
- Médico, farmácia, remédio → Saúde
- Curso, escola, livro → Educação
- Salário, pagamento, trabalho → Salário (income)
- Dividendo, juros, investimento → Investimentos (income)

Para CRIAR ORÇAMENTO, use:
{
  "type": "action", 
  "action": "add_budget",
  "category": "categoria",
  "amount": valor_numerico,
  "alertThreshold": 80
}

Para CRIAR META, use:
{
  "type": "action",
  "action": "add_goal", 
  "title": "título_da_meta",
  "amount": valor_numerico,
  "category": "categoria",
  "targetDate": "2024-12-31",
  "priority": "medium"
}

Para CONSULTAS (ver saldo, analisar gastos, etc), use:
{
  "type": "query"
}

Se não entender, use:
{
  "type": "clarification"
}

Exemplos:
- "gastei 50 reais no ifood" → add_transaction (expense, Alimentação)
- "recebi meu salário de 3000" → add_transaction (income, Salário)
- "qual meu saldo?" → query
- "crie um orçamento de 500 para alimentação" → add_budget
`,L=await T(V,!0);if(console.log("Resultado da análise:",L),(L==null?void 0:L.type)==="action")try{const N=await U(L),F={id:(Date.now()+1).toString(),role:"assistant",content:N,timestamp:new Date,isSuccess:!0};y(H=>[...H,F])}catch(N){console.error("Erro na execução da ação:",N);const F={id:(Date.now()+1).toString(),role:"assistant",content:`❌ Erro ao executar a ação: ${N.message}

Tente reformular sua solicitação ou verifique se todos os dados necessários foram fornecidos.`,timestamp:new Date,isError:!0};y(H=>[...H,F])}else{const N=`
Você é um assistente financeiro amigável e inteligente. Responda à pergunta usando os dados fornecidos.

Dados financeiros (${A.selectedMonth}/${A.selectedYear}):
- Saldo atual: R$ ${A.currentBalance.toFixed(2)}
- Receitas: R$ ${A.totalIncome.toFixed(2)}
- Despesas: R$ ${A.totalExpenses.toFixed(2)}
- Transações: ${A.transactionCount}

Gastos por categoria:
${Object.entries(A.categoryExpenses).map(([J,Ce])=>`- ${J}: R$ ${Ce.toFixed(2)}`).join(`
`)||"Nenhum gasto"}

Bancos: ${A.banks.map(J=>J.name).join(", ")||"Nenhum"}
Orçamentos: ${A.budgets.length} ativos
Metas: ${A.goals.length} definidas

Pergunta: "${z}"

Responda de forma natural, útil e amigável. Use emojis. Se o usuário quiser adicionar algo, ofereça ajuda específica.

Exemplos de respostas úteis:
- Para "qual meu saldo": "Seu saldo atual é R$ X,XX. Você teve R$ Y em receitas e R$ Z em despesas este mês."
- Para "onde gastei mais": "Sua maior categoria de gastos foi X com R$ Y,YY, representando Z% do total."
- Para "como adicionar gasto": "Para adicionar um gasto, você pode dizer algo como 'gastei 50 reais no supermercado' ou 'paguei 30 reais de uber'."
`,F=await T(N),H={id:(Date.now()+1).toString(),role:"assistant",content:F||"Desculpe, não consegui processar sua solicitação. Pode tentar reformular?",timestamp:new Date};y(J=>[...J,H])}}catch(A){console.error("Erro ao processar mensagem:",A);let V="Desculpe, ocorreu um erro ao processar sua mensagem. ";A.message.includes("não configurada")?V+="A API do Gemini não está configurada corretamente.":A.message.includes("Erro na API")?V+="Problema na comunicação com a IA. Tente novamente.":V+="Tente reformular sua solicitação.";const L={id:(Date.now()+1).toString(),role:"assistant",content:V,timestamp:new Date,isError:!0};y(N=>[...N,L])}finally{_(!1)}},$=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),M())};return t?u.jsxs("div",{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 w-[calc(100vw-2rem)] max-w-sm sm:max-w-md lg:max-w-lg h-[70vh] sm:h-[600px] bg-slate-800 rounded-2xl shadow-2xl border border-slate-700 flex flex-col z-50 overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 sm:p-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[u.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-white/20 rounded-full flex items-center justify-center",children:u.jsx(Hu,{className:"w-3 h-3 sm:w-5 sm:h-5 text-white"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-white text-sm sm:text-base",children:"Assistente Financeiro"}),u.jsx("p",{className:"text-xs text-blue-100",children:"🟢 Online"})]})]}),u.jsx("button",{onClick:e,className:"text-white hover:bg-white/20 p-1 rounded-lg transition-colors",children:u.jsx(rr,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),!1,u.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 sm:space-y-4",children:[b.map(S=>u.jsx("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`flex items-start space-x-2 max-w-[85%] ${S.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[u.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center flex-shrink-0 ${S.role==="user"?"bg-blue-600":S.isError?"bg-red-600":S.isSuccess?"bg-green-600":"bg-gradient-to-r from-purple-500 to-blue-500"}`,children:S.role==="user"?u.jsx(Bv,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"}):S.isError?u.jsx(qf,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"}):S.isSuccess?u.jsx(us,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"}):u.jsx(Hu,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),u.jsxs("div",{className:`rounded-2xl px-3 py-2 sm:px-4 sm:py-3 ${S.role==="user"?"bg-blue-600 text-white":S.isError?"bg-red-900/20 border border-red-800 text-red-200":S.isSuccess?"bg-green-900/20 border border-green-800 text-green-200":"bg-slate-700 text-gray-100"}`,children:[u.jsx("p",{className:"text-xs sm:text-sm whitespace-pre-wrap leading-relaxed",children:S.content}),u.jsx("p",{className:"text-xs opacity-70 mt-1 sm:mt-2",children:S.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]})},S.id)),w&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center",children:u.jsx(Hu,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),u.jsx("div",{className:"bg-slate-700 rounded-2xl px-3 py-2 sm:px-4 sm:py-3",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Yf,{className:"w-3 h-3 sm:w-4 sm:h-4 animate-spin text-blue-400"}),u.jsx("span",{className:"text-xs sm:text-sm text-gray-300",children:"Processando..."})]})})]})}),u.jsx("div",{ref:k})]}),u.jsxs("div",{className:"p-3 sm:p-4 border-t border-slate-700",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",value:p,onChange:S=>g(S.target.value),onKeyPress:$,placeholder:"Ex: gastei 50 reais no ifood",disabled:w||!1,className:"flex-1 bg-slate-700 text-white rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 placeholder-gray-400 text-xs sm:text-sm"}),u.jsx("button",{onClick:M,disabled:!p.trim()||w||!1,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(fN,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),u.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Powered by Gemini AI • ","Pronto para usar"]})]})]}):u.jsx("button",{onClick:e,className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full shadow-2xl hover:shadow-3xl hover:scale-110 transition-all duration-200 flex items-center justify-center z-50 animate-pulse",title:"Abrir Chat com IA",children:u.jsx(cN,{className:"w-5 h-5 sm:w-6 sm:h-6"})})},Gr=({children:t})=>{var C,T,O,I,U,M;const e=_s(),n=nr(),{user:r,signOut:s}=Br(),{selectedYear:i,selectedMonth:a,setSelectedDate:o,getUnreadNotificationsCount:l}=it(),[c,d]=j.useState(!1),[h,f]=j.useState(!1),[m,x]=j.useState(!1),v=l(),b=[{id:"dashboard",label:"Dashboard",icon:aN,path:"/dashboard"},{id:"expenses",label:"Transações",icon:Mr,path:"/expenses"},{id:"banks",label:"Bancos",icon:yh,path:"/banks"},{id:"budgets",label:"Orçamentos",icon:si,path:"/budgets"},{id:"goals",label:"Metas",icon:zv,path:"/goals"},{id:"investments",label:"Investimentos",icon:Fv,path:"/investments"}],y=[{id:"settings",label:"Configurações",icon:mN,path:"/settings"}],p=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],g=Array.from({length:10},($,S)=>new Date().getFullYear()-5+S),w=$=>{e($),d(!1)},_=($,S)=>{o($,S)},k=async()=>{try{await s(),e("/login")}catch($){console.error("Erro ao fazer logout:",$)}};return u.jsxs("div",{className:"min-h-screen bg-slate-900 transition-colors duration-300",children:[u.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-slate-800 border-r border-slate-700 transform transition-transform duration-300 ease-in-out ${c?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"h-16 flex items-center px-6 border-b border-slate-700",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:u.jsx(Yn,{className:"w-6 h-6 text-white"})}),u.jsx("span",{className:"text-xl font-bold text-white",children:"FinanceApp"})]})}),u.jsx("div",{className:"p-3 lg:p-4 border-b border-slate-700",children:u.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Ano"}),u.jsx("select",{value:i,onChange:$=>_(parseInt($.target.value),a),className:"w-full px-2 py-1.5 lg:px-3 lg:py-2 text-xs lg:text-sm border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-700 text-white","aria-label":"Selecionar ano",children:g.map($=>u.jsx("option",{value:$,children:$},$))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Mês"}),u.jsx("select",{value:a,onChange:$=>_(i,parseInt($.target.value)),className:"w-full px-2 py-1.5 lg:px-3 lg:py-2 text-xs lg:text-sm border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-700 text-white","aria-label":"Selecionar mês",children:p.map(($,S)=>u.jsx("option",{value:S,children:$},S))})]})]})}),u.jsx("nav",{className:"flex-1 px-3 lg:px-4 py-4 lg:py-6 space-y-1 lg:space-y-2",children:b.map($=>{const S=$.icon,z=n.pathname===$.path;return u.jsxs("button",{onClick:()=>w($.path),className:`w-full flex items-center space-x-2 lg:space-x-3 px-3 py-2 lg:py-3 rounded-lg text-left transition-colors duration-200 text-sm lg:text-base ${z?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:bg-slate-700 hover:text-white"}`,children:[u.jsx(S,{className:`w-4 h-4 lg:w-5 lg:h-5 ${z?"text-white":""}`}),u.jsx("span",{className:"font-medium",children:$.label})]},$.id)})}),u.jsxs("div",{className:"p-3 lg:p-4 border-t border-slate-700",children:[u.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 mb-3 lg:mb-4",children:[u.jsx("img",{src:((C=r==null?void 0:r.user_metadata)==null?void 0:C.avatar_url)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((T=r==null?void 0:r.user_metadata)==null?void 0:T.name)||((O=r==null?void 0:r.email)==null?void 0:O.split("@")[0])||"User")}&background=3b82f6&color=ffffff&size=40`,alt:"Avatar",className:"w-8 h-8 lg:w-10 lg:h-10 rounded-full object-cover"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs lg:text-sm font-medium text-white truncate",children:((I=r==null?void 0:r.user_metadata)==null?void 0:I.name)||((U=r==null?void 0:r.email)==null?void 0:U.split("@")[0])||"Usuário"}),u.jsx("p",{className:"text-xs text-gray-400 truncate",children:r==null?void 0:r.email})]})]}),u.jsx("div",{className:"space-y-1 mb-3",children:y.map($=>{const S=$.icon,z=n.pathname===$.path;return u.jsxs("button",{onClick:()=>w($.path),className:`w-full flex items-center space-x-2 lg:space-x-3 px-2 py-1.5 lg:px-3 lg:py-2 rounded-lg text-left transition-colors duration-200 text-xs lg:text-sm ${z?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:bg-slate-700 hover:text-white"}`,children:[u.jsx(S,{className:`w-3 h-3 lg:w-4 lg:h-4 ${z?"text-white":""}`}),u.jsx("span",{className:"font-medium",children:$.label})]},$.id)})}),u.jsxs("button",{onClick:k,className:"w-full flex items-center space-x-2 lg:space-x-3 px-2 py-1.5 lg:px-3 lg:py-2 rounded-lg text-left text-red-400 hover:bg-red-900/20 hover:text-red-300 transition-colors text-xs lg:text-sm",children:[u.jsx(oN,{className:"w-3 h-3 lg:w-4 lg:h-4"}),u.jsx("span",{children:"Sair"})]})]})]})}),u.jsxs("div",{className:"lg:ml-64",children:[u.jsx("header",{className:"h-16 bg-slate-800 border-b border-slate-700",children:u.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:()=>d(!0),className:"lg:hidden p-2 rounded-lg hover:bg-slate-700 text-gray-400 hover:text-white transition-colors","aria-label":"Abrir menu lateral",children:u.jsx(lN,{className:"w-5 h-5"})}),u.jsx("div",{children:u.jsx("h1",{className:"text-xl font-bold text-white",children:((M=[...b,...y].find($=>$.path===n.pathname))==null?void 0:M.label)||"Dashboard"})})]}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs("button",{onClick:()=>f(!h),className:"p-2 rounded-lg hover:bg-slate-700 text-gray-400 hover:text-white transition-colors relative","aria-label":"Notificações",children:[u.jsx(mc,{className:"w-5 h-5"}),v>0&&u.jsx("span",{className:"absolute top-0 right-0 -mt-1 -mr-1 px-1.5 py-0.5 text-xs font-medium bg-red-500 text-white rounded-full",children:v})]})})]})}),u.jsx("main",{className:"p-6",children:t})]}),h&&u.jsx(yA,{isOpen:h,onClose:()=>f(!1)}),u.jsx(xA,{isOpen:m,onToggle:()=>x(!m)})]})},vA=()=>{const t=_s(),e=()=>{t("/login")},n=[{icon:fc,title:"Controle Total",description:"Monitore todas suas receitas e despesas em tempo real com gráficos intuitivos"},{icon:si,title:"Metas Financeiras",description:"Defina objetivos e acompanhe seu progresso rumo à independência financeira"},{icon:Mr,title:"Gestão de Cartões",description:"Organize seus cartões de crédito e acompanhe faturas automaticamente"},{icon:zv,title:"Orçamentos Inteligentes",description:"Crie orçamentos por categoria e receba alertas quando necessário"},{icon:pN,title:"Dados Seguros",description:"Suas informações financeiras protegidas com criptografia de ponta"},{icon:Yn,title:"Insights Personalizados",description:"Receba análises inteligentes sobre seus hábitos de consumo"}],r=["Interface moderna e intuitiva","Sincronização em tempo real","Relatórios detalhados","Categorização automática","Alertas personalizados","Acesso multiplataforma"];return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[u.jsx("header",{className:"relative z-10 px-6 py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-2xl",children:u.jsx(Yn,{className:"w-7 h-7 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"FinanceApp"}),u.jsx("p",{className:"text-sm text-gray-400",children:"Controle Financeiro Inteligente"})]})]}),u.jsxs("button",{onClick:e,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[u.jsx("span",{children:"Começar Agora"}),u.jsx(Xo,{className:"w-4 h-4"})]})]})}),u.jsxs("section",{className:"relative px-6 py-20",children:[u.jsx("div",{className:"max-w-7xl mx-auto text-center",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("h2",{className:"text-5xl md:text-6xl font-bold text-white mb-6 leading-tight",children:["Transforme sua",u.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:" Vida Financeira"})]}),u.jsx("p",{className:"text-xl text-gray-300 mb-8 leading-relaxed",children:"A plataforma completa para organizar suas finanças, definir metas e alcançar a liberdade financeira. Simples, seguro e poderoso."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs("button",{onClick:e,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-200 flex items-center justify-center space-x-2 shadow-2xl text-lg",children:[u.jsx("span",{children:"Criar Conta Grátis"}),u.jsx(Xo,{className:"w-5 h-5"})]}),u.jsx("button",{onClick:e,className:"border-2 border-slate-600 text-white px-8 py-4 rounded-xl font-semibold hover:bg-slate-800 transition-all duration-200 text-lg",children:"Ver Demonstração"})]})]})}),u.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-blue-500/10 rounded-full blur-xl"}),u.jsx("div",{className:"absolute bottom-20 right-10 w-32 h-32 bg-purple-500/10 rounded-full blur-xl"})]}),u.jsx("section",{className:"px-6 py-20 bg-slate-800/50",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsx("h3",{className:"text-4xl font-bold text-white mb-4",children:"Tudo que você precisa em um só lugar"}),u.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Ferramentas poderosas e intuitivas para você ter controle total sobre suas finanças"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((s,i)=>{const a=s.icon;return u.jsxs("div",{className:"bg-slate-800 rounded-2xl p-8 border border-slate-700 hover:border-slate-600 transition-all duration-200 hover:shadow-2xl group",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-200",children:u.jsx(a,{className:"w-7 h-7 text-white"})}),u.jsx("h4",{className:"text-xl font-bold text-white mb-3",children:s.title}),u.jsx("p",{className:"text-gray-400 leading-relaxed",children:s.description})]},i)})})]})}),u.jsx("section",{className:"px-6 py-20",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-4xl font-bold text-white mb-6",children:"Por que escolher o FinanceApp?"}),u.jsx("p",{className:"text-xl text-gray-400 mb-8 leading-relaxed",children:"Desenvolvido pensando na sua experiência, oferecemos as melhores ferramentas para você conquistar seus objetivos financeiros."}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map((s,i)=>u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(us,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),u.jsx("span",{className:"text-gray-300",children:s})]},i))}),u.jsxs("button",{onClick:e,className:"mt-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[u.jsx("span",{children:"Começar Gratuitamente"}),u.jsx(Xo,{className:"w-5 h-5"})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl p-8 border border-slate-700 shadow-2xl",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h4",{className:"text-lg font-semibold text-white",children:"Resumo Financeiro"}),u.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-400",children:"Receitas"}),u.jsx("span",{className:"text-green-400 font-semibold",children:"+ R$ 8.500,00"})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-400",children:"Despesas"}),u.jsx("span",{className:"text-red-400 font-semibold",children:"- R$ 6.200,00"})]}),u.jsx("div",{className:"border-t border-slate-700 pt-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-white font-semibold",children:"Saldo"}),u.jsx("span",{className:"text-blue-400 font-bold text-xl",children:"R$ 2.300,00"})]})})]}),u.jsxs("div",{className:"bg-slate-700 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-gray-400",children:"Meta: Viagem"}),u.jsx("span",{className:"text-sm text-purple-400",children:"75%"})]}),u.jsx("div",{className:"w-full bg-slate-600 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full",style:{width:"75%"}})})]})]})}),u.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-blue-500/20 rounded-full blur-xl"}),u.jsx("div",{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-purple-500/20 rounded-full blur-xl"})]})]})})}),u.jsx("section",{className:"px-6 py-20 bg-gradient-to-r from-blue-600 to-purple-700",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h3",{className:"text-4xl font-bold text-white mb-6",children:"Pronto para transformar suas finanças?"}),u.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Junte-se a milhares de pessoas que já estão no controle de suas finanças"}),u.jsxs("button",{onClick:e,className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-bold hover:bg-gray-100 transition-all duration-200 flex items-center space-x-2 mx-auto shadow-2xl text-lg",children:[u.jsx("span",{children:"Criar Conta Grátis"}),u.jsx(Xo,{className:"w-5 h-5"})]})]})}),u.jsx("footer",{className:"px-6 py-12 bg-slate-900 border-t border-slate-800",children:u.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:u.jsx(Yn,{className:"w-5 h-5 text-white"})}),u.jsx("span",{className:"text-xl font-bold text-white",children:"FinanceApp"})]}),u.jsx("p",{className:"text-gray-400",children:"© 2024 FinanceApp. Todos os direitos reservados. Transformando vidas através do controle financeiro."})]})})]})},Xr=({children:t})=>{const{user:e,isLoading:n}=Br();return n?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(Ff,{to:"/login",replace:!0})},md=({children:t})=>{const{user:e,isLoading:n}=Br();return n?u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Carregando..."})]})}):e?u.jsx(Ff,{to:"/dashboard",replace:!0}):u.jsx(u.Fragment,{children:t})},bA=()=>u.jsxs(K1,{children:[u.jsx(Ut,{path:"/",element:u.jsx(md,{children:u.jsx(vA,{})})}),u.jsx(Ut,{path:"/login",element:u.jsx(md,{children:u.jsx(_N,{})})}),u.jsx(Ut,{path:"/register",element:u.jsx(md,{children:u.jsx(kN,{})})}),u.jsx(Ut,{path:"/dashboard",element:u.jsx(Xr,{children:u.jsx(Gr,{children:u.jsx(AO,{})})})}),u.jsx(Ut,{path:"/expenses",element:u.jsx(Xr,{children:u.jsx(Gr,{children:u.jsx(oA,{})})})}),u.jsx(Ut,{path:"/banks",element:u.jsx(Xr,{children:u.jsx(Gr,{children:u.jsx(cA,{})})})}),u.jsx(Ut,{path:"/budgets",element:u.jsx(Xr,{children:u.jsx(Gr,{children:u.jsx(dA,{})})})}),u.jsx(Ut,{path:"/goals",element:u.jsx(Xr,{children:u.jsx(Gr,{children:u.jsx(fA,{})})})}),u.jsx(Ut,{path:"/investments",element:u.jsx(Xr,{children:u.jsx(Gr,{children:u.jsx(gA,{})})})}),u.jsx(Ut,{path:"/settings",element:u.jsx(Xr,{children:u.jsx(Gr,{children:u.jsx(mA,{})})})}),u.jsx(Ut,{path:"*",element:u.jsx(Ff,{to:"/"})})]});function wA(){return u.jsx(b2,{children:u.jsx(KS,{children:u.jsx(GS,{children:u.jsx(QS,{children:u.jsx(bA,{})})})})})}Kx(document.getElementById("root")).render(u.jsx(j.StrictMode,{children:u.jsx(wA,{})}));
